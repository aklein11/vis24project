import{U as j,D as $,i as e0,Z as Ut,J as o0,H as Dt,M as s0,a as z,C as A,a0 as Q,N as p0,d as R,e as G,K as X,r as M0,a1 as pt,c as l0,o as f0,b as L0,W as Yt,t as R0,L as lr,_ as rt}from"./disclose-version.CtKKBuk4.js";import{p as n0,a as i0,g as v,h as w,$ as r0,k as q,u as N}from"./runtime.DnRKx-fn.js";import{o as D0,i as fr}from"./main-client.BN3Ej0G-.js";import{I as cr,S as yt,b as gr,d as dr,e as ot,f as Et,h as Pt,j as hr,o as lt,k as Vt,c as Ht,m as v0}from"./Mapchoice.svelte_svelte_type_style_lang.Xqjz-iqa.js";import{a as Cr,e as et}from"./each.BnyLbwg7.js";function x0(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function mr(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function Wt(t){let r,o,e;t.length!==2?(r=x0,o=(u,a)=>x0(t(u),a),e=(u,a)=>t(u)-a):(r=t===x0||t===mr?t:Lr,o=t,e=t);function n(u,a,s=0,c=u.length){if(s<c){if(r(a,a)!==0)return c;do{const f=s+c>>>1;o(u[f],a)<0?s=f+1:c=f}while(s<c)}return s}function i(u,a,s=0,c=u.length){if(s<c){if(r(a,a)!==0)return c;do{const f=s+c>>>1;o(u[f],a)<=0?s=f+1:c=f}while(s<c)}return s}function p(u,a,s=0,c=u.length){const f=n(u,a,s,c-1);return f>s&&e(u[f-1],a)>-e(u[f],a)?f-1:f}return{left:n,center:p,right:i}}function Lr(){return 0}function Ur(t){return t===null?NaN:+t}const Dr=Wt(x0),yr=Dr.right;Wt(Ur).center;function Qt(t){return t}function vt(t,...r){return ft(t,Array.from,Qt,r)}function $e(t,r,...o){return ft(t,Qt,r,o)}function Gt(t,r,...o){return ft(t,Array.from,r,o)}function ft(t,r,o,e){return function n(i,p){if(p>=e.length)return o(i);const u=new cr,a=e[p++];let s=-1;for(const c of i){const f=a(c,++s,i),l=u.get(f);l?l.push(c):u.set(f,[c])}for(const[c,f]of u)u.set(c,n(f,p));return r(u)}(t,0)}const Er=Math.sqrt(50),Pr=Math.sqrt(10),vr=Math.sqrt(2);function w0(t,r,o){const e=(r-t)/Math.max(0,o),n=Math.floor(Math.log10(e)),i=e/Math.pow(10,n),p=i>=Er?10:i>=Pr?5:i>=vr?2:1;let u,a,s;return n<0?(s=Math.pow(10,-n)/p,u=Math.round(t*s),a=Math.round(r*s),u/s<t&&++u,a/s>r&&--a,s=-s):(s=Math.pow(10,n)*p,u=Math.round(t/s),a=Math.round(r/s),u*s<t&&++u,a*s>r&&--a),a<u&&.5<=o&&o<2?w0(t,r,o*2):[u,a,s]}function Ir(t,r,o){if(r=+r,t=+t,o=+o,!(o>0))return[];if(t===r)return[t];const e=r<t,[n,i,p]=e?w0(r,t,o):w0(t,r,o);if(!(i>=n))return[];const u=i-n+1,a=new Array(u);if(e)if(p<0)for(let s=0;s<u;++s)a[s]=(i-s)/-p;else for(let s=0;s<u;++s)a[s]=(i-s)*p;else if(p<0)for(let s=0;s<u;++s)a[s]=(n+s)/-p;else for(let s=0;s<u;++s)a[s]=(n+s)*p;return a}function nt(t,r,o){return r=+r,t=+t,o=+o,w0(t,r,o)[2]}function _r(t,r,o){r=+r,t=+t,o=+o;const e=r<t,n=e?nt(r,t,o):nt(t,r,o);return(e?-1:1)*(n<0?1/-n:n)}function Jt(t,r){let o;if(r===void 0)for(const e of t)e!=null&&(o<e||o===void 0&&e>=e)&&(o=e);else{let e=-1;for(let n of t)(n=r(n,++e,t))!=null&&(o<n||o===void 0&&n>=n)&&(o=n)}return o}function Zr(t,r,o){t=+t,r=+r,o=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+o;for(var e=-1,n=Math.max(0,Math.ceil((r-t)/o))|0,i=new Array(n);++e<n;)i[e]=t+e*o;return i}function A0(t,r){let o=0;if(r===void 0)for(let e of t)(e=+e)&&(o+=e);else{let e=-1;for(let n of t)(n=+r(n,++e,t))&&(o+=n)}return o}function Or(t){return t}var H0=1,W0=2,it=3,C0=4,It=1e-6;function xr(t){return"translate("+t+",0)"}function br(t){return"translate(0,"+t+")"}function Mr(t){return r=>+t(r)}function Rr(t,r){return r=Math.max(0,t.bandwidth()-r*2)/2,t.round()&&(r=Math.round(r)),o=>+t(o)+r}function wr(){return!this.__axis}function Xt(t,r){var o=[],e=null,n=null,i=6,p=6,u=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===H0||t===C0?-1:1,c=t===C0||t===W0?"x":"y",f=t===H0||t===it?xr:br;function l(g){var h=e??(r.ticks?r.ticks.apply(r,o):r.domain()),L=n??(r.tickFormat?r.tickFormat.apply(r,o):Or),D=Math.max(i,0)+u,m=r.range(),d=+m[0]+a,C=+m[m.length-1]+a,I=(r.bandwidth?Rr:Mr)(r.copy(),a),E=g.selection?g.selection():g,O=E.selectAll(".domain").data([null]),M=E.selectAll(".tick").data(h,r).order(),b=M.exit(),Z=M.enter().append("g").attr("class","tick"),P=M.select("line"),y=M.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(Z),P=P.merge(Z.append("line").attr("stroke","currentColor").attr(c+"2",s*i)),y=y.merge(Z.append("text").attr("fill","currentColor").attr(c,s*D).attr("dy",t===H0?"0em":t===it?"0.71em":"0.32em")),g!==E&&(O=O.transition(g),M=M.transition(g),P=P.transition(g),y=y.transition(g),b=b.transition(g).attr("opacity",It).attr("transform",function(_){return isFinite(_=I(_))?f(_+a):this.getAttribute("transform")}),Z.attr("opacity",It).attr("transform",function(_){var U=this.parentNode.__axis;return f((U&&isFinite(U=U(_))?U:I(_))+a)})),b.remove(),O.attr("d",t===C0||t===W0?p?"M"+s*p+","+d+"H"+a+"V"+C+"H"+s*p:"M"+a+","+d+"V"+C:p?"M"+d+","+s*p+"V"+a+"H"+C+"V"+s*p:"M"+d+","+a+"H"+C),M.attr("opacity",1).attr("transform",function(_){return f(I(_)+a)}),P.attr(c+"2",s*i),y.attr(c,s*D).text(L),E.filter(wr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===W0?"start":t===C0?"end":"middle"),E.each(function(){this.__axis=I})}return l.scale=function(g){return arguments.length?(r=g,l):r},l.ticks=function(){return o=Array.from(arguments),l},l.tickArguments=function(g){return arguments.length?(o=g==null?[]:Array.from(g),l):o.slice()},l.tickValues=function(g){return arguments.length?(e=g==null?null:Array.from(g),l):e&&e.slice()},l.tickFormat=function(g){return arguments.length?(n=g,l):n},l.tickSize=function(g){return arguments.length?(i=p=+g,l):i},l.tickSizeInner=function(g){return arguments.length?(i=+g,l):i},l.tickSizeOuter=function(g){return arguments.length?(p=+g,l):p},l.tickPadding=function(g){return arguments.length?(u=+g,l):u},l.offset=function(g){return arguments.length?(a=+g,l):a},l}function Kt(t){return Xt(it,t)}function tr(t){return Xt(C0,t)}function K(t){return typeof t=="string"?new yt([[document.querySelector(t)]],[document.documentElement]):new yt([[t]],gr)}function Ar(t,r){r||(r=[]);var o=t?Math.min(r.length,t.length):0,e=r.slice(),n;return function(i){for(n=0;n<o;++n)e[n]=t[n]*(1-i)+r[n]*i;return e}}function kr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Tr(t,r){var o=r?r.length:0,e=t?Math.min(o,t.length):0,n=new Array(e),i=new Array(o),p;for(p=0;p<e;++p)n[p]=ct(t[p],r[p]);for(;p<o;++p)i[p]=r[p];return function(u){for(p=0;p<e;++p)i[p]=n[p](u);return i}}function Nr(t,r){var o=new Date;return t=+t,r=+r,function(e){return o.setTime(t*(1-e)+r*e),o}}function Sr(t,r){var o={},e={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?o[n]=ct(t[n],r[n]):e[n]=r[n];return function(i){for(n in o)e[n]=o[n](i);return e}}function ct(t,r){var o=typeof r,e;return r==null||o==="boolean"?dr(r):(o==="number"?ot:o==="string"?(e=Et(r))?(r=e,Pt):hr:r instanceof Et?Pt:r instanceof Date?Nr:kr(r)?Ar:Array.isArray(r)?Tr:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Sr:ot)(t,r)}function zr(t,r){return t=+t,r=+r,function(o){return Math.round(t*(1-o)+r*o)}}const ut=Math.PI,at=2*ut,a0=1e-6,jr=at-a0;function rr(t){this._+=t[0];for(let r=1,o=t.length;r<o;++r)this._+=arguments[r]+t[r]}function $r(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return rr;const o=10**r;return function(e){this._+=e[0];for(let n=1,i=e.length;n<i;++n)this._+=Math.round(arguments[n]*o)/o+e[n]}}class qr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?rr:$r(r)}moveTo(r,o){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,o){this._append`L${this._x1=+r},${this._y1=+o}`}quadraticCurveTo(r,o,e,n){this._append`Q${+r},${+o},${this._x1=+e},${this._y1=+n}`}bezierCurveTo(r,o,e,n,i,p){this._append`C${+r},${+o},${+e},${+n},${this._x1=+i},${this._y1=+p}`}arcTo(r,o,e,n,i){if(r=+r,o=+o,e=+e,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let p=this._x1,u=this._y1,a=e-r,s=n-o,c=p-r,f=u-o,l=c*c+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=o}`;else if(l>a0)if(!(Math.abs(f*a-s*c)>a0)||!i)this._append`L${this._x1=r},${this._y1=o}`;else{let g=e-p,h=n-u,L=a*a+s*s,D=g*g+h*h,m=Math.sqrt(L),d=Math.sqrt(l),C=i*Math.tan((ut-Math.acos((L+l-D)/(2*m*d)))/2),I=C/d,E=C/m;Math.abs(I-1)>a0&&this._append`L${r+I*c},${o+I*f}`,this._append`A${i},${i},0,0,${+(f*g>c*h)},${this._x1=r+E*a},${this._y1=o+E*s}`}}arc(r,o,e,n,i,p){if(r=+r,o=+o,e=+e,p=!!p,e<0)throw new Error(`negative radius: ${e}`);let u=e*Math.cos(n),a=e*Math.sin(n),s=r+u,c=o+a,f=1^p,l=p?n-i:i-n;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>a0||Math.abs(this._y1-c)>a0)&&this._append`L${s},${c}`,e&&(l<0&&(l=l%at+at),l>jr?this._append`A${e},${e},0,1,${f},${r-u},${o-a}A${e},${e},0,1,${f},${this._x1=s},${this._y1=c}`:l>a0&&this._append`A${e},${e},0,${+(l>=ut)},${f},${this._x1=r+e*Math.cos(i)},${this._y1=o+e*Math.sin(i)}`)}rect(r,o,e,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}h${e=+e}v${+n}h${-e}Z`}toString(){return this._}}var _t={},Q0={},G0=34,h0=10,J0=13;function or(t){return new Function("d","return {"+t.map(function(r,o){return JSON.stringify(r)+": d["+o+'] || ""'}).join(",")+"}")}function Fr(t,r){var o=or(t);return function(e,n){return r(o(e),n,t)}}function Zt(t){var r=Object.create(null),o=[];return t.forEach(function(e){for(var n in e)n in r||o.push(r[n]=n)}),o}function Y(t,r){var o=t+"",e=o.length;return e<r?new Array(r-e+1).join(0)+o:o}function Br(t){return t<0?"-"+Y(-t,6):t>9999?"+"+Y(t,6):Y(t,4)}function Yr(t){var r=t.getUTCHours(),o=t.getUTCMinutes(),e=t.getUTCSeconds(),n=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Br(t.getUTCFullYear())+"-"+Y(t.getUTCMonth()+1,2)+"-"+Y(t.getUTCDate(),2)+(n?"T"+Y(r,2)+":"+Y(o,2)+":"+Y(e,2)+"."+Y(n,3)+"Z":e?"T"+Y(r,2)+":"+Y(o,2)+":"+Y(e,2)+"Z":o||r?"T"+Y(r,2)+":"+Y(o,2)+"Z":"")}function Vr(t){var r=new RegExp('["'+t+`
\r]`),o=t.charCodeAt(0);function e(f,l){var g,h,L=n(f,function(D,m){if(g)return g(D,m-1);h=D,g=l?Fr(D,l):or(D)});return L.columns=h||[],L}function n(f,l){var g=[],h=f.length,L=0,D=0,m,d=h<=0,C=!1;f.charCodeAt(h-1)===h0&&--h,f.charCodeAt(h-1)===J0&&--h;function I(){if(d)return Q0;if(C)return C=!1,_t;var O,M=L,b;if(f.charCodeAt(M)===G0){for(;L++<h&&f.charCodeAt(L)!==G0||f.charCodeAt(++L)===G0;);return(O=L)>=h?d=!0:(b=f.charCodeAt(L++))===h0?C=!0:b===J0&&(C=!0,f.charCodeAt(L)===h0&&++L),f.slice(M+1,O-1).replace(/""/g,'"')}for(;L<h;){if((b=f.charCodeAt(O=L++))===h0)C=!0;else if(b===J0)C=!0,f.charCodeAt(L)===h0&&++L;else if(b!==o)continue;return f.slice(M,O)}return d=!0,f.slice(M,h)}for(;(m=I())!==Q0;){for(var E=[];m!==_t&&m!==Q0;)E.push(m),m=I();l&&(E=l(E,D++))==null||g.push(E)}return g}function i(f,l){return f.map(function(g){return l.map(function(h){return c(g[h])}).join(t)})}function p(f,l){return l==null&&(l=Zt(f)),[l.map(c).join(t)].concat(i(f,l)).join(`
`)}function u(f,l){return l==null&&(l=Zt(f)),i(f,l).join(`
`)}function a(f){return f.map(s).join(`
`)}function s(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?Yr(f):r.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:e,parseRows:n,format:p,formatBody:u,formatRows:a,formatRow:s,formatValue:c}}var Hr=Vr(","),Wr=Hr.parse;function Qr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Gr(t,r){return fetch(t,r).then(Qr)}function Jr(t){return function(r,o,e){return arguments.length===2&&typeof o=="function"&&(e=o,o=void 0),Gr(r,o).then(function(n){return t(n,e)})}}var k0=Jr(Wr);function Xr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function T0(t,r){if((o=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var o,e=t.slice(0,o);return[e.length>1?e[0]+e.slice(2):e,+t.slice(o+1)]}function d0(t){return t=T0(Math.abs(t)),t?t[1]:NaN}function Kr(t,r){return function(o,e){for(var n=o.length,i=[],p=0,u=t[0],a=0;n>0&&u>0&&(a+u+1>e&&(u=Math.max(1,e-a)),i.push(o.substring(n-=u,n+u)),!((a+=u+1)>e));)u=t[p=(p+1)%t.length];return i.reverse().join(r)}}function to(t){return function(r){return r.replace(/[0-9]/g,function(o){return t[+o]})}}var ro=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function N0(t){if(!(r=ro.exec(t)))throw new Error("invalid format: "+t);var r;return new gt({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}N0.prototype=gt.prototype;function gt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}gt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oo(t){t:for(var r=t.length,o=1,e=-1,n;o<r;++o)switch(t[o]){case".":e=n=o;break;case"0":e===0&&(e=o),n=o;break;default:if(!+t[o])break t;e>0&&(e=0);break}return e>0?t.slice(0,e)+t.slice(n+1):t}var er;function eo(t,r){var o=T0(t,r);if(!o)return t+"";var e=o[0],n=o[1],i=n-(er=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,p=e.length;return i===p?e:i>p?e+new Array(i-p+1).join("0"):i>0?e.slice(0,i)+"."+e.slice(i):"0."+new Array(1-i).join("0")+T0(t,Math.max(0,r+i-1))[0]}function Ot(t,r){var o=T0(t,r);if(!o)return t+"";var e=o[0],n=o[1];return n<0?"0."+new Array(-n).join("0")+e:e.length>n+1?e.slice(0,n+1)+"."+e.slice(n+1):e+new Array(n-e.length+2).join("0")}const xt={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xr,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>Ot(t*100,r),r:Ot,s:eo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function bt(t){return t}var Mt=Array.prototype.map,Rt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function no(t){var r=t.grouping===void 0||t.thousands===void 0?bt:Kr(Mt.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",e=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?bt:to(Mt.call(t.numerals,String)),p=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",a=t.nan===void 0?"NaN":t.nan+"";function s(f){f=N0(f);var l=f.fill,g=f.align,h=f.sign,L=f.symbol,D=f.zero,m=f.width,d=f.comma,C=f.precision,I=f.trim,E=f.type;E==="n"?(d=!0,E="g"):xt[E]||(C===void 0&&(C=12),I=!0,E="g"),(D||l==="0"&&g==="=")&&(D=!0,l="0",g="=");var O=L==="$"?o:L==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",M=L==="$"?e:/[%p]/.test(E)?p:"",b=xt[E],Z=/[defgprs%]/.test(E);C=C===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,C)):Math.max(0,Math.min(20,C));function P(y){var _=O,U=M,x,T,V;if(E==="c")U=b(y)+U,y="";else{y=+y;var H=y<0||1/y<0;if(y=isNaN(y)?a:b(Math.abs(y),C),I&&(y=oo(y)),H&&+y==0&&h!=="+"&&(H=!1),_=(H?h==="("?h:u:h==="-"||h==="("?"":h)+_,U=(E==="s"?Rt[8+er/3]:"")+U+(H&&h==="("?")":""),Z){for(x=-1,T=y.length;++x<T;)if(V=y.charCodeAt(x),48>V||V>57){U=(V===46?n+y.slice(x+1):y.slice(x))+U,y=y.slice(0,x);break}}}d&&!D&&(y=r(y,1/0));var W=_.length+y.length+U.length,F=W<m?new Array(m-W+1).join(l):"";switch(d&&D&&(y=r(F+y,F.length?m-U.length:1/0),F=""),g){case"<":y=_+y+U+F;break;case"=":y=_+F+y+U;break;case"^":y=F.slice(0,W=F.length>>1)+_+y+U+F.slice(W);break;default:y=F+_+y+U;break}return i(y)}return P.toString=function(){return f+""},P}function c(f,l){var g=s((f=N0(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(d0(l)/3)))*3,L=Math.pow(10,-h),D=Rt[8+h/3];return function(m){return g(L*m)+D}}return{format:s,formatPrefix:c}}var I0,dt,nr;io({thousands:",",grouping:[3],currency:["$",""]});function io(t){return I0=no(t),dt=I0.format,nr=I0.formatPrefix,I0}function uo(t){return Math.max(0,-d0(Math.abs(t)))}function ao(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(d0(r)/3)))*3-d0(Math.abs(t)))}function so(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,d0(r)-d0(t))+1}function po(t){var r=0,o=t.children,e=o&&o.length;if(!e)r=1;else for(;--e>=0;)r+=o[e].value;t.value=r}function lo(){return this.eachAfter(po)}function fo(t,r){let o=-1;for(const e of this)t.call(r,e,++o,this);return this}function co(t,r){for(var o=this,e=[o],n,i,p=-1;o=e.pop();)if(t.call(r,o,++p,this),n=o.children)for(i=n.length-1;i>=0;--i)e.push(n[i]);return this}function go(t,r){for(var o=this,e=[o],n=[],i,p,u,a=-1;o=e.pop();)if(n.push(o),i=o.children)for(p=0,u=i.length;p<u;++p)e.push(i[p]);for(;o=n.pop();)t.call(r,o,++a,this);return this}function ho(t,r){let o=-1;for(const e of this)if(t.call(r,e,++o,this))return e}function Co(t){return this.eachAfter(function(r){for(var o=+t(r.data)||0,e=r.children,n=e&&e.length;--n>=0;)o+=e[n].value;r.value=o})}function mo(t){return this.eachBefore(function(r){r.children&&r.children.sort(t)})}function Lo(t){for(var r=this,o=Uo(r,t),e=[r];r!==o;)r=r.parent,e.push(r);for(var n=e.length;t!==o;)e.splice(n,0,t),t=t.parent;return e}function Uo(t,r){if(t===r)return t;var o=t.ancestors(),e=r.ancestors(),n=null;for(t=o.pop(),r=e.pop();t===r;)n=t,t=o.pop(),r=e.pop();return n}function Do(){for(var t=this,r=[t];t=t.parent;)r.push(t);return r}function yo(){return Array.from(this)}function Eo(){var t=[];return this.eachBefore(function(r){r.children||t.push(r)}),t}function Po(){var t=this,r=[];return t.each(function(o){o!==t&&r.push({source:o.parent,target:o})}),r}function*vo(){var t=this,r,o=[t],e,n,i;do for(r=o.reverse(),o=[];t=r.pop();)if(yield t,e=t.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);while(o.length)}function S0(t,r){t instanceof Map?(t=[void 0,t],r===void 0&&(r=Zo)):r===void 0&&(r=_o);for(var o=new z0(t),e,n=[o],i,p,u,a;e=n.pop();)if((p=r(e.data))&&(a=(p=Array.from(p)).length))for(e.children=p,u=a-1;u>=0;--u)n.push(i=p[u]=new z0(p[u])),i.parent=e,i.depth=e.depth+1;return o.eachBefore(xo)}function Io(){return S0(this).eachBefore(Oo)}function _o(t){return t.children}function Zo(t){return Array.isArray(t)?t[1]:null}function Oo(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function xo(t){var r=0;do t.height=r;while((t=t.parent)&&t.height<++r)}function z0(t){this.data=t,this.depth=this.height=0,this.parent=null}z0.prototype=S0.prototype={constructor:z0,count:lo,each:fo,eachAfter:go,eachBefore:co,find:ho,sum:Co,sort:mo,path:Lo,ancestors:Do,descendants:yo,leaves:Eo,links:Po,copy:Io,[Symbol.iterator]:vo};function bo(t){return t==null?null:Mo(t)}function Mo(t){if(typeof t!="function")throw new Error;return t}function wt(){return 0}function Ro(t){return function(){return t}}const wo=1664525,Ao=1013904223,At=4294967296;function ko(){let t=1;return()=>(t=(wo*t+Ao)%At)/At}function To(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function No(t,r){let o=t.length,e,n;for(;o;)n=r()*o--|0,e=t[o],t[o]=t[n],t[n]=e;return t}function So(t,r){for(var o=0,e=(t=No(Array.from(t),r)).length,n=[],i,p;o<e;)i=t[o],p&&ir(p,i)?++o:(p=jo(n=zo(n,i)),o=0);return p}function zo(t,r){var o,e;if(X0(r,t))return[r];for(o=0;o<t.length;++o)if(_0(r,t[o])&&X0(m0(t[o],r),t))return[t[o],r];for(o=0;o<t.length-1;++o)for(e=o+1;e<t.length;++e)if(_0(m0(t[o],t[e]),r)&&_0(m0(t[o],r),t[e])&&_0(m0(t[e],r),t[o])&&X0(ur(t[o],t[e],r),t))return[t[o],t[e],r];throw new Error}function _0(t,r){var o=t.r-r.r,e=r.x-t.x,n=r.y-t.y;return o<0||o*o<e*e+n*n}function ir(t,r){var o=t.r-r.r+Math.max(t.r,r.r,1)*1e-9,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function X0(t,r){for(var o=0;o<r.length;++o)if(!ir(t,r[o]))return!1;return!0}function jo(t){switch(t.length){case 1:return $o(t[0]);case 2:return m0(t[0],t[1]);case 3:return ur(t[0],t[1],t[2])}}function $o(t){return{x:t.x,y:t.y,r:t.r}}function m0(t,r){var o=t.x,e=t.y,n=t.r,i=r.x,p=r.y,u=r.r,a=i-o,s=p-e,c=u-n,f=Math.sqrt(a*a+s*s);return{x:(o+i+a/f*c)/2,y:(e+p+s/f*c)/2,r:(f+n+u)/2}}function ur(t,r,o){var e=t.x,n=t.y,i=t.r,p=r.x,u=r.y,a=r.r,s=o.x,c=o.y,f=o.r,l=e-p,g=e-s,h=n-u,L=n-c,D=a-i,m=f-i,d=e*e+n*n-i*i,C=d-p*p-u*u+a*a,I=d-s*s-c*c+f*f,E=g*h-l*L,O=(h*I-L*C)/(E*2)-e,M=(L*D-h*m)/E,b=(g*C-l*I)/(E*2)-n,Z=(l*m-g*D)/E,P=M*M+Z*Z-1,y=2*(i+O*M+b*Z),_=O*O+b*b-i*i,U=-(Math.abs(P)>1e-6?(y+Math.sqrt(y*y-4*P*_))/(2*P):_/y);return{x:e+O+M*U,y:n+b+Z*U,r:U}}function kt(t,r,o){var e=t.x-r.x,n,i,p=t.y-r.y,u,a,s=e*e+p*p;s?(i=r.r+o.r,i*=i,a=t.r+o.r,a*=a,i>a?(n=(s+a-i)/(2*s),u=Math.sqrt(Math.max(0,a/s-n*n)),o.x=t.x-n*e-u*p,o.y=t.y-n*p+u*e):(n=(s+i-a)/(2*s),u=Math.sqrt(Math.max(0,i/s-n*n)),o.x=r.x+n*e-u*p,o.y=r.y+n*p+u*e)):(o.x=r.x+o.r,o.y=r.y)}function Tt(t,r){var o=t.r+r.r-1e-6,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function Nt(t){var r=t._,o=t.next._,e=r.r+o.r,n=(r.x*o.r+o.x*r.r)/e,i=(r.y*o.r+o.y*r.r)/e;return n*n+i*i}function Z0(t){this._=t,this.next=null,this.previous=null}function qo(t,r){if(!(i=(t=To(t)).length))return 0;var o,e,n,i,p,u,a,s,c,f,l;if(o=t[0],o.x=0,o.y=0,!(i>1))return o.r;if(e=t[1],o.x=-e.r,e.x=o.r,e.y=0,!(i>2))return o.r+e.r;kt(e,o,n=t[2]),o=new Z0(o),e=new Z0(e),n=new Z0(n),o.next=n.previous=e,e.next=o.previous=n,n.next=e.previous=o;t:for(a=3;a<i;++a){kt(o._,e._,n=t[a]),n=new Z0(n),s=e.next,c=o.previous,f=e._.r,l=o._.r;do if(f<=l){if(Tt(s._,n._)){e=s,o.next=e,e.previous=o,--a;continue t}f+=s._.r,s=s.next}else{if(Tt(c._,n._)){o=c,o.next=e,e.previous=o,--a;continue t}l+=c._.r,c=c.previous}while(s!==c.next);for(n.previous=o,n.next=e,o.next=e.previous=e=n,p=Nt(o);(n=n.next)!==e;)(u=Nt(n))<p&&(o=n,p=u);e=o.next}for(o=[e._],n=e;(n=n.next)!==e;)o.push(n._);for(n=So(o,r),a=0;a<i;++a)o=t[a],o.x-=n.x,o.y-=n.y;return n.r}function Fo(t){return Math.sqrt(t.value)}function St(){var t=null,r=1,o=1,e=wt;function n(i){const p=ko();return i.x=r/2,i.y=o/2,t?i.eachBefore(zt(t)).eachAfter(K0(e,.5,p)).eachBefore(jt(1)):i.eachBefore(zt(Fo)).eachAfter(K0(wt,1,p)).eachAfter(K0(e,i.r/Math.min(r,o),p)).eachBefore(jt(Math.min(r,o)/(2*i.r))),i}return n.radius=function(i){return arguments.length?(t=bo(i),n):t},n.size=function(i){return arguments.length?(r=+i[0],o=+i[1],n):[r,o]},n.padding=function(i){return arguments.length?(e=typeof i=="function"?i:Ro(+i),n):e},n}function zt(t){return function(r){r.children||(r.r=Math.max(0,+t(r)||0))}}function K0(t,r,o){return function(e){if(n=e.children){var n,i,p=n.length,u=t(e)*r||0,a;if(u)for(i=0;i<p;++i)n[i].r+=u;if(a=qo(n,o),u)for(i=0;i<p;++i)n[i].r-=u;e.r=a+u}}}function jt(t){return function(r){var o=r.parent;r.r*=t,o&&(r.x=o.x+t*r.x,r.y=o.y+t*r.y)}}function ht(){var t=lt().unknown(void 0),r=t.domain,o=t.range,e=0,n=1,i,p,u=!1,a=0,s=0,c=.5;delete t.unknown;function f(){var l=r().length,g=n<e,h=g?n:e,L=g?e:n;i=(L-h)/Math.max(1,l-a+s*2),u&&(i=Math.floor(i)),h+=(L-h-i*(l-a))*c,p=i*(1-a),u&&(h=Math.round(h),p=Math.round(p));var D=Zr(l).map(function(m){return h+i*m});return o(g?D.reverse():D)}return t.domain=function(l){return arguments.length?(r(l),f()):r()},t.range=function(l){return arguments.length?([e,n]=l,e=+e,n=+n,f()):[e,n]},t.rangeRound=function(l){return[e,n]=l,e=+e,n=+n,u=!0,f()},t.bandwidth=function(){return p},t.step=function(){return i},t.round=function(l){return arguments.length?(u=!!l,f()):u},t.padding=function(l){return arguments.length?(a=Math.min(1,s=+l),f()):a},t.paddingInner=function(l){return arguments.length?(a=Math.min(1,l),f()):a},t.paddingOuter=function(l){return arguments.length?(s=+l,f()):s},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),f()):c},t.copy=function(){return ht(r(),[e,n]).round(u).paddingInner(a).paddingOuter(s).align(c)},Vt.apply(f(),arguments)}function Bo(t){return function(){return t}}function Yo(t){return+t}var $t=[0,1];function c0(t){return t}function st(t,r){return(r-=t=+t)?function(o){return(o-t)/r}:Bo(isNaN(r)?NaN:.5)}function Vo(t,r){var o;return t>r&&(o=t,t=r,r=o),function(e){return Math.max(t,Math.min(r,e))}}function Ho(t,r,o){var e=t[0],n=t[1],i=r[0],p=r[1];return n<e?(e=st(n,e),i=o(p,i)):(e=st(e,n),i=o(i,p)),function(u){return i(e(u))}}function Wo(t,r,o){var e=Math.min(t.length,r.length)-1,n=new Array(e),i=new Array(e),p=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++p<e;)n[p]=st(t[p],t[p+1]),i[p]=o(r[p],r[p+1]);return function(u){var a=yr(t,u,1,e)-1;return i[a](n[a](u))}}function Qo(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Go(){var t=$t,r=$t,o=ct,e,n,i,p=c0,u,a,s;function c(){var l=Math.min(t.length,r.length);return p!==c0&&(p=Vo(t[0],t[l-1])),u=l>2?Wo:Ho,a=s=null,f}function f(l){return l==null||isNaN(l=+l)?i:(a||(a=u(t.map(e),r,o)))(e(p(l)))}return f.invert=function(l){return p(n((s||(s=u(r,t.map(e),ot)))(l)))},f.domain=function(l){return arguments.length?(t=Array.from(l,Yo),c()):t.slice()},f.range=function(l){return arguments.length?(r=Array.from(l),c()):r.slice()},f.rangeRound=function(l){return r=Array.from(l),o=zr,c()},f.clamp=function(l){return arguments.length?(p=l?!0:c0,c()):p!==c0},f.interpolate=function(l){return arguments.length?(o=l,c()):o},f.unknown=function(l){return arguments.length?(i=l,f):i},function(l,g){return e=l,n=g,c()}}function Jo(){return Go()(c0,c0)}function Xo(t,r,o,e){var n=_r(t,r,o),i;switch(e=N0(e??",f"),e.type){case"s":{var p=Math.max(Math.abs(t),Math.abs(r));return e.precision==null&&!isNaN(i=ao(n,p))&&(e.precision=i),nr(e,p)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(i=so(n,Math.max(Math.abs(t),Math.abs(r))))&&(e.precision=i-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(i=uo(n))&&(e.precision=i-(e.type==="%")*2);break}}return dt(e)}function Ko(t){var r=t.domain;return t.ticks=function(o){var e=r();return Ir(e[0],e[e.length-1],o??10)},t.tickFormat=function(o,e){var n=r();return Xo(n[0],n[n.length-1],o??10,e)},t.nice=function(o){o==null&&(o=10);var e=r(),n=0,i=e.length-1,p=e[n],u=e[i],a,s,c=10;for(u<p&&(s=p,p=u,u=s,s=n,n=i,i=s);c-- >0;){if(s=nt(p,u,o),s===a)return e[n]=p,e[i]=u,r(e);if(s>0)p=Math.floor(p/s)*s,u=Math.ceil(u/s)*s;else if(s<0)p=Math.ceil(p*s)/s,u=Math.floor(u*s)/s;else break;a=s}return t},t}function Ct(){var t=Jo();return t.copy=function(){return Qo(t,Ct())},Vt.apply(t,arguments),Ko(t)}const te=Ht("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),re=Ht("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function k(t){return function(){return t}}const qt=Math.abs,S=Math.atan2,u0=Math.cos,oe=Math.max,tt=Math.min,J=Math.sin,g0=Math.sqrt,B=1e-12,U0=Math.PI,j0=U0/2,b0=2*U0;function ee(t){return t>1?0:t<-1?U0:Math.acos(t)}function Ft(t){return t>=1?j0:t<=-1?-j0:Math.asin(t)}function ar(t){let r=3;return t.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const e=Math.floor(o);if(!(e>=0))throw new RangeError(`invalid digits: ${o}`);r=e}return t},()=>new qr(r)}function ne(t){return t.innerRadius}function ie(t){return t.outerRadius}function ue(t){return t.startAngle}function ae(t){return t.endAngle}function se(t){return t&&t.padAngle}function pe(t,r,o,e,n,i,p,u){var a=o-t,s=e-r,c=p-n,f=u-i,l=f*a-c*s;if(!(l*l<B))return l=(c*(r-i)-f*(t-n))/l,[t+l*a,r+l*s]}function O0(t,r,o,e,n,i,p){var u=t-o,a=r-e,s=(p?i:-i)/g0(u*u+a*a),c=s*a,f=-s*u,l=t+c,g=r+f,h=o+c,L=e+f,D=(l+h)/2,m=(g+L)/2,d=h-l,C=L-g,I=d*d+C*C,E=n-i,O=l*L-h*g,M=(C<0?-1:1)*g0(oe(0,E*E*I-O*O)),b=(O*C-d*M)/I,Z=(-O*d-C*M)/I,P=(O*C+d*M)/I,y=(-O*d+C*M)/I,_=b-D,U=Z-m,x=P-D,T=y-m;return _*_+U*U>x*x+T*T&&(b=P,Z=y),{cx:b,cy:Z,x01:-c,y01:-f,x11:b*(n/E-1),y11:Z*(n/E-1)}}function le(){var t=ne,r=ie,o=k(0),e=null,n=ue,i=ae,p=se,u=null,a=ar(s);function s(){var c,f,l=+t.apply(this,arguments),g=+r.apply(this,arguments),h=n.apply(this,arguments)-j0,L=i.apply(this,arguments)-j0,D=qt(L-h),m=L>h;if(u||(u=c=a()),g<l&&(f=g,g=l,l=f),!(g>B))u.moveTo(0,0);else if(D>b0-B)u.moveTo(g*u0(h),g*J(h)),u.arc(0,0,g,h,L,!m),l>B&&(u.moveTo(l*u0(L),l*J(L)),u.arc(0,0,l,L,h,m));else{var d=h,C=L,I=h,E=L,O=D,M=D,b=p.apply(this,arguments)/2,Z=b>B&&(e?+e.apply(this,arguments):g0(l*l+g*g)),P=tt(qt(g-l)/2,+o.apply(this,arguments)),y=P,_=P,U,x;if(Z>B){var T=Ft(Z/l*J(b)),V=Ft(Z/g*J(b));(O-=T*2)>B?(T*=m?1:-1,I+=T,E-=T):(O=0,I=E=(h+L)/2),(M-=V*2)>B?(V*=m?1:-1,d+=V,C-=V):(M=0,d=C=(h+L)/2)}var H=g*u0(d),W=g*J(d),F=l*u0(E),y0=l*J(E);if(P>B){var E0=g*u0(C),P0=g*J(C),$0=l*u0(I),q0=l*J(I),t0;if(D<U0)if(t0=pe(H,W,$0,q0,E0,P0,F,y0)){var F0=H-t0[0],B0=W-t0[1],Y0=E0-t0[0],V0=P0-t0[1],mt=1/J(ee((F0*Y0+B0*V0)/(g0(F0*F0+B0*B0)*g0(Y0*Y0+V0*V0)))/2),Lt=g0(t0[0]*t0[0]+t0[1]*t0[1]);y=tt(P,(l-Lt)/(mt-1)),_=tt(P,(g-Lt)/(mt+1))}else y=_=0}M>B?_>B?(U=O0($0,q0,H,W,g,_,m),x=O0(E0,P0,F,y0,g,_,m),u.moveTo(U.cx+U.x01,U.cy+U.y01),_<P?u.arc(U.cx,U.cy,_,S(U.y01,U.x01),S(x.y01,x.x01),!m):(u.arc(U.cx,U.cy,_,S(U.y01,U.x01),S(U.y11,U.x11),!m),u.arc(0,0,g,S(U.cy+U.y11,U.cx+U.x11),S(x.cy+x.y11,x.cx+x.x11),!m),u.arc(x.cx,x.cy,_,S(x.y11,x.x11),S(x.y01,x.x01),!m))):(u.moveTo(H,W),u.arc(0,0,g,d,C,!m)):u.moveTo(H,W),!(l>B)||!(O>B)?u.lineTo(F,y0):y>B?(U=O0(F,y0,E0,P0,l,-y,m),x=O0(H,W,$0,q0,l,-y,m),u.lineTo(U.cx+U.x01,U.cy+U.y01),y<P?u.arc(U.cx,U.cy,y,S(U.y01,U.x01),S(x.y01,x.x01),!m):(u.arc(U.cx,U.cy,y,S(U.y01,U.x01),S(U.y11,U.x11),!m),u.arc(0,0,l,S(U.cy+U.y11,U.cx+U.x11),S(x.cy+x.y11,x.cx+x.x11),m),u.arc(x.cx,x.cy,y,S(x.y11,x.x11),S(x.y01,x.x01),!m))):u.arc(0,0,l,E,I,m)}if(u.closePath(),c)return u=null,c+""||null}return s.centroid=function(){var c=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,f=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2-U0/2;return[u0(f)*c,J(f)*c]},s.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:k(+c),s):t},s.outerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:k(+c),s):r},s.cornerRadius=function(c){return arguments.length?(o=typeof c=="function"?c:k(+c),s):o},s.padRadius=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:k(+c),s):e},s.startAngle=function(c){return arguments.length?(n=typeof c=="function"?c:k(+c),s):n},s.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:k(+c),s):i},s.padAngle=function(c){return arguments.length?(p=typeof c=="function"?c:k(+c),s):p},s.context=function(c){return arguments.length?(u=c??null,s):u},s}function sr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function pr(t){this._context=t}pr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function fe(t){return new pr(t)}function ce(t){return t[0]}function ge(t){return t[1]}function Bt(t,r){var o=k(!0),e=null,n=fe,i=null,p=ar(u);t=typeof t=="function"?t:t===void 0?ce:k(t),r=typeof r=="function"?r:r===void 0?ge:k(r);function u(a){var s,c=(a=sr(a)).length,f,l=!1,g;for(e==null&&(i=n(g=p())),s=0;s<=c;++s)!(s<c&&o(f=a[s],s,a))===l&&((l=!l)?i.lineStart():i.lineEnd()),l&&i.point(+t(f,s,a),+r(f,s,a));if(g)return i=null,g+""||null}return u.x=function(a){return arguments.length?(t=typeof a=="function"?a:k(+a),u):t},u.y=function(a){return arguments.length?(r=typeof a=="function"?a:k(+a),u):r},u.defined=function(a){return arguments.length?(o=typeof a=="function"?a:k(!!a),u):o},u.curve=function(a){return arguments.length?(n=a,e!=null&&(i=n(e)),u):n},u.context=function(a){return arguments.length?(a==null?e=i=null:i=n(e=a),u):e},u}function de(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function he(t){return t}function Ce(){var t=he,r=de,o=null,e=k(0),n=k(b0),i=k(0);function p(u){var a,s=(u=sr(u)).length,c,f,l=0,g=new Array(s),h=new Array(s),L=+e.apply(this,arguments),D=Math.min(b0,Math.max(-b0,n.apply(this,arguments)-L)),m,d=Math.min(Math.abs(D)/s,i.apply(this,arguments)),C=d*(D<0?-1:1),I;for(a=0;a<s;++a)(I=h[g[a]=a]=+t(u[a],a,u))>0&&(l+=I);for(r!=null?g.sort(function(E,O){return r(h[E],h[O])}):o!=null&&g.sort(function(E,O){return o(u[E],u[O])}),a=0,f=l?(D-s*C)/l:0;a<s;++a,L=m)c=g[a],I=h[c],m=L+(I>0?I*f:0)+C,h[c]={data:u[c],index:a,value:I,startAngle:L,endAngle:m,padAngle:d};return h}return p.value=function(u){return arguments.length?(t=typeof u=="function"?u:k(+u),p):t},p.sortValues=function(u){return arguments.length?(r=u,o=null,p):r},p.sort=function(u){return arguments.length?(o=u,r=null,p):o},p.startAngle=function(u){return arguments.length?(e=typeof u=="function"?u:k(+u),p):e},p.endAngle=function(u){return arguments.length?(n=typeof u=="function"?u:k(+u),p):n},p.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:k(+u),p):i},p}var me=G('<section class="scrolly svelte-14jsymd"><section class="story svelte-14jsymd"><!></section> <section class="viz svelte-14jsymd"><!></section></section>');function qe(t,r){var y;i0(r,!1);let o=j(r,"progress",4,0),e=j(r,"progressRaw",4,0),n=j(r,"threshold",0,.5),i=j(r,"margin",0,30),p=j(r,"debounce",0,!1),u=j(r,"throttle",0,!1),a=A(),s=A(),c,f,l,g={},h,L;const D=(_,U,x)=>Math.min(Math.max(_,U),x),m=(_,U,x)=>100*(_-U)/(x-U),d=_=>_(),C=_=>_;let I=A(),E=A();D0(()=>{function _({top:T=v(a).getBoundingClientRect().top}={}){e(m(T,c,f)),U()}function U(){let T=D(0,e(),100);T===0||T===100?o(T):v(E)(v(I)(()=>o(T)))}function x(){g=v(a).getBoundingClientRect(),l=window.scrollY+g.top,c=Math.min(l,innerHeight*n())+i(),f=innerHeight-g.height+i(),_(g)}h=new IntersectionObserver(T=>{let V=T.at(-1);V.intersectionRatio,V.isIntersecting?(x(),_(),window.addEventListener("scroll",_),window.addEventListener("resize",x),L==null||L.observe(v(a))):(window.removeEventListener("scroll",_),window.removeEventListener("resize",x),L==null||L.unobserve(v(a)))}),h.observe(v(a),{rootMargin:(i()??0)+"px",threshold:n()}),L=new ResizeObserver(x),x()}),$(()=>{r0(u()),q(()=>{let _=0;w(I,u()>0?function(U){return function(){let x=performance.now();x-_>=u()&&(U(),_=x)}}:C)})}),$(()=>{r0(p()),q(()=>{let _;w(E,p()?p()>0?function(U){clearTimeout(_),_=setTimeout(U,p())}:function(U){cancelAnimationFrame(_),_=requestAnimationFrame(U)}:d)})}),e0();var O=p0(t,!0,me);Ut(O,_=>w(a,_),()=>v(a));var M=z(O),b=z(M),Z=R(R(M,!0));Ut(Z,_=>w(s,_),()=>v(s));var P=z(Z);o0(O,"style",()=>`--scrolly-margin: ${Q(i())}`),Dt(b,r.children,{},null),Dt(P,(y=r.$$slots)==null?void 0:y.viz,{},null),s0(t,O),n0()}const Le=[{ZIPCODE:"02238",count_of_address:1,Latitude_generated:42.375,longitude_generated:-71.10610199},{ZIPCODE:"02215",count_of_address:28,Latitude_generated:42.3472,longitude_generated:-71.099688298},{ZIPCODE:"02210",count_of_address:10,Latitude_generated:42.347000122,longitude_generated:-71.041000366},{ZIPCODE:"02199",count_of_address:1,Latitude_generated:42.346599579,longitude_generated:-71.082702637},{ZIPCODE:"02142",count_of_address:5,Latitude_generated:42.36289978,longitude_generated:-71.084701538},{ZIPCODE:"02141",count_of_address:24,Latitude_generated:42.370399475,longitude_generated:-71.082199097},{ZIPCODE:"02140-1841",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140-1124",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140",count_of_address:24,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02139-4745",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-4019",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-3928",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1116",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1113",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1017",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139",count_of_address:50,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02138-6832",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4646",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4531",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-2121",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138",count_of_address:48,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02136",count_of_address:115,Latitude_generated:42.254573275,longitude_generated:-71.125281891},{ZIPCODE:"02133",count_of_address:1,Latitude_generated:42.357898712,longitude_generated:-71.063499451},{ZIPCODE:"02132",count_of_address:75,Latitude_generated:42.278388487,longitude_generated:-71.16006103},{ZIPCODE:"02131",count_of_address:233,Latitude_generated:42.28275,longitude_generated:-71.125859439},{ZIPCODE:"02130",count_of_address:255,Latitude_generated:42.307899475,longitude_generated:-71.112701416},{ZIPCODE:"02129",count_of_address:89,Latitude_generated:42.379199982,longitude_generated:-71.064399719},{ZIPCODE:"02128",count_of_address:212,Latitude_generated:42.37275,longitude_generated:-71.02818},{ZIPCODE:"02127",count_of_address:277,Latitude_generated:42.3357,longitude_generated:-71.040740733},{ZIPCODE:"02126",count_of_address:26,Latitude_generated:42.276500702,longitude_generated:-71.093002319},{ZIPCODE:"02125",count_of_address:136,Latitude_generated:42.31865,longitude_generated:-71.057624145},{ZIPCODE:"02124",count_of_address:121,Latitude_generated:42.285853705,longitude_generated:-71.071814029},{ZIPCODE:"02122",count_of_address:126,Latitude_generated:42.29445,longitude_generated:-71.052695703},{ZIPCODE:"02121",count_of_address:55,Latitude_generated:42.307373545,longitude_generated:-71.082806865},{ZIPCODE:"02120",count_of_address:37,Latitude_generated:42.332656641,longitude_generated:-71.095659537},{ZIPCODE:"02119",count_of_address:111,Latitude_generated:42.3238,longitude_generated:-71.083608708},{ZIPCODE:"02118",count_of_address:82,Latitude_generated:42.3379156,longitude_generated:-71.069753417},{ZIPCODE:"02116",count_of_address:56,Latitude_generated:42.349179535,longitude_generated:-71.074520575},{ZIPCODE:"02115",count_of_address:31,Latitude_generated:42.34155,longitude_generated:-71.088459936},{ZIPCODE:"02114",count_of_address:20,Latitude_generated:42.362201691,longitude_generated:-71.066398621},{ZIPCODE:"02113",count_of_address:18,Latitude_generated:42.364299774,longitude_generated:-71.057502747},{ZIPCODE:"02111",count_of_address:3,Latitude_generated:42.350741429,longitude_generated:-71.05914918},{ZIPCODE:"02110",count_of_address:6,Latitude_generated:42.355850624,longitude_generated:-71.055570374},{ZIPCODE:"02109",count_of_address:6,Latitude_generated:42.3632,longitude_generated:-71.053075619},{ZIPCODE:"02108",count_of_address:23,Latitude_generated:42.356001176,longitude_generated:-71.066357458}],Ue=[{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01742"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01757"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01760"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01824"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"01845"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01880"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01890"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01940"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01945"},{1800:1,1810:0,1820:1,1830:0,1840:1,1850:0,1860:0,1870:1,1880:0,1890:12,1900:3,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02108"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:1,2010:0,2020:0,ZIPCODE:"02109"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02110"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02111"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:4,1900:3,1910:3,1920:3,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:1,1870:0,1880:1,1890:3,1900:2,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:4,2020:0,ZIPCODE:"02114"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:9,1900:1,1910:2,1920:2,1930:2,1940:0,1950:0,1960:1,1970:1,1980:1,1990:1,2e3:0,2010:1,2020:0,ZIPCODE:"02115"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:2,1870:1,1880:3,1890:26,1900:6,1910:4,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:1,1990:2,2e3:3,2010:0,2020:2,ZIPCODE:"02116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:14,1870:2,1880:0,1890:27,1900:10,1910:3,1920:4,1930:1,1940:0,1950:1,1960:0,1970:2,1980:2,1990:1,2e3:2,2010:2,2020:0,ZIPCODE:"02118"},{1800:0,1810:0,1820:0,1830:0,1840:1,1850:1,1860:0,1870:3,1880:7,1890:16,1900:26,1910:3,1920:1,1930:1,1940:0,1950:1,1960:3,1970:3,1980:2,1990:4,2e3:18,2010:5,2020:2,ZIPCODE:"02119"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:1,1900:6,1910:1,1920:1,1930:1,1940:0,1950:0,1960:3,1970:0,1980:11,1990:1,2e3:7,2010:0,2020:2,ZIPCODE:"02120"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:4,1900:15,1910:9,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:5,2010:5,2020:2,ZIPCODE:"02121"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:1,1880:2,1890:6,1900:45,1910:11,1920:16,1930:3,1940:1,1950:0,1960:0,1970:0,1980:6,1990:2,2e3:8,2010:9,2020:7,ZIPCODE:"02122"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:3,1890:15,1900:32,1910:9,1920:18,1930:7,1940:2,1950:1,1960:0,1970:0,1980:2,1990:7,2e3:11,2010:5,2020:3,ZIPCODE:"02124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:7,1890:14,1900:48,1910:7,1920:6,1930:3,1940:0,1950:0,1960:0,1970:0,1980:5,1990:1,2e3:16,2010:15,2020:5,ZIPCODE:"02125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:4,1920:6,1930:4,1940:0,1950:1,1960:0,1970:1,1980:1,1990:0,2e3:3,2010:2,2020:1,ZIPCODE:"02126"},{1800:1,1810:0,1820:0,1830:1,1840:0,1850:0,1860:1,1870:7,1880:5,1890:49,1900:62,1910:18,1920:8,1930:2,1940:1,1950:0,1960:5,1970:1,1980:21,1990:7,2e3:16,2010:45,2020:16,ZIPCODE:"02127"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:1,1870:5,1880:11,1890:12,1900:81,1910:28,1920:8,1930:1,1940:2,1950:0,1960:2,1970:0,1980:4,1990:1,2e3:2,2010:29,2020:13,ZIPCODE:"02128"},{1800:1,1810:0,1820:1,1830:2,1840:1,1850:5,1860:7,1870:15,1880:13,1890:9,1900:5,1910:3,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:2,2e3:7,2010:7,2020:3,ZIPCODE:"02129"},{1800:1,1810:0,1820:0,1830:0,1840:1,1850:0,1860:2,1870:5,1880:12,1890:15,1900:74,1910:24,1920:30,1930:7,1940:1,1950:2,1960:2,1970:0,1980:5,1990:7,2e3:29,2010:19,2020:7,ZIPCODE:"02130"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:9,1890:11,1900:36,1910:37,1920:51,1930:9,1940:0,1950:0,1960:6,1970:2,1980:15,1990:3,2e3:18,2010:15,2020:10,ZIPCODE:"02131"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:5,1900:4,1910:7,1920:23,1930:3,1940:4,1950:4,1960:8,1970:2,1980:3,1990:3,2e3:4,2010:0,2020:1,ZIPCODE:"02132"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:2,1880:2,1890:5,1900:13,1910:16,1920:10,1930:6,1940:4,1950:5,1960:9,1970:1,1980:9,1990:4,2e3:19,2010:4,2020:2,ZIPCODE:"02136"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:2,1870:2,1880:1,1890:3,1900:5,1910:8,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:3,2020:0,ZIPCODE:"02138"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-1915"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4531"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4646"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-6832"},{1800:0,1810:0,1820:0,1830:1,1840:2,1850:0,1860:0,1870:4,1880:4,1890:6,1900:7,1910:6,1920:1,1930:0,1940:0,1950:0,1960:0,1970:1,1980:1,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02139"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1017"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-3125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4019"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4423"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4430"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4745"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:2,1900:2,1910:1,1920:3,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02140"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1610"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1841"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-3304"},{1800:0,1810:0,1820:0,1830:1,1840:0,1850:1,1860:0,1870:0,1880:0,1890:2,1900:5,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:1,1980:0,1990:0,2e3:2,2010:2,2020:1,ZIPCODE:"02141"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02141-1931"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02142"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02199"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:1,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02210"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:10,1900:7,1910:4,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:1,2e3:1,2010:1,2020:0,ZIPCODE:"02215"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02421"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02458"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02460"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02461"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02472"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02474"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"03246"}];var De=pt('<rect class="bar svelte-76qd0p" fill="orange"></rect>'),ye=pt('<svg id="barchart-svg"><g><!><g class="x-axis svelte-76qd0p"><text text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Year Built</text></g><g class="y-axis svelte-76qd0p"><text transform="rotate(-90)" text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Number of Buildings</text></g></g></svg>');function Ee(t,r){i0(r,!1);let o=j(r,"dataArray",8,()=>[]),e={top:20,right:30,bottom:70,left:80},n=960-e.left-e.right,i=500-e.top-e.bottom,p=ht().range([0,n]).padding(.1),u=Ct().range([i,0]),a=A(),s=A();D0(()=>{w(a,Kt(p).tickFormat(dt("d"))),w(s,tr(u).ticks(5)),c()});function c(){K(".x-axis").call(v(a)),K(".y-axis").call(v(s))}$(()=>{r0(o()),v(a),v(s),q(()=>{o().length>0&&(p.domain(o().map(E=>E.year)),u.domain([0,Jt(o(),E=>E.count)]),v(a)&&v(s)&&c())})}),e0();var f=p0(t,!0,ye),l=z(f),g=z(l),h=R(g);X(h,"transform",`translate(0, ${i})`);var L=z(h);X(L,"x",n/2),X(L,"y",40);var D=R(h),m=z(D);X(m,"x",-i/2),X(m,"y",-50);var d,C,I;M0(()=>{d!==(d=n+e.left+e.right)&&X(f,"width",d),C!==(C=i+e.top+e.bottom)&&X(f,"height",C),I!==(I=`translate(${e.left},${e.top})`)&&X(l,"transform",I)}),Cr(g,o,7,(E,O)=>N(E).year,(E,O,M)=>{var b=p0(E,!0,De);o0(b,"x",()=>p(N(O).year)),o0(b,"y",()=>u(N(O).count)),o0(b,"width",()=>p.bandwidth()),o0(b,"height",()=>i-u(N(O).count)),s0(E,b)},null),s0(t,f),n0()}var Pe=G('<h1>Year Converted Property was Built</h1> <blockquote><a href="https://homesforprofit.mapc.org/report">Investors upgrading residential properties into condos can displace residents due to subsequent rent increases.</a> Here, we display the number of condo conversions against the year the building was built. While imperfect, we use how early a building was constructed as a proxy for how likely the condo conversion upgraded the property.</blockquote> <!>',!0);function Fe(t,r){i0(r,!1),j(r,"hLevel",0,2);let o=j(r,"query",0,""),e=A(),n=A(),i,p=A(),u=A(),a=A(),s=-1,c=A(),f=A(),l=A();function g(d){const C={};return d.forEach(I=>{const E=I.substring(0,5);C[E]||(C[E]=[]),C[E].push(I.substring(0,5))}),C}$(()=>{r0(o()),q(()=>{w(e,Le.filter(d=>o()?Object.values(d).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),$(()=>{r0(o()),q(()=>{w(n,Ue.filter(d=>o()?Object.values(d).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),$(()=>{v(p),v(e),v(u),v(n),v(a),q(()=>{w(p,Gt(v(e),d=>A0(d,C=>C.Count_of_LU_prior),d=>d.LU_prior_group)),console.log("Rolled ",v(p)),w(u,v(n).reduce((d,C)=>(Object.keys(C).forEach(I=>{I!=="ZIPCODE"&&(d[I]||(d[I]=0),d[I]+=C[I])}),d),{})),console.log("Agg Year Built",v(u)),w(a,Object.keys(v(u)).map(d=>({year:parseInt(d),count:v(u)[d]})).sort((d,C)=>d.year-C.year)),console.log("Year Built Data Array ",v(a))})}),$(()=>{q(()=>{w(c,s>-1?i[s].label:null)})}),$(()=>{v(f),v(e),q(()=>{w(f,v(e).map(d=>d.ZIPCODE)),w(l,new Set(Object.values(g(v(f))).flat()))})}),e0();var h=f0(t,!0,Pe),L=L0(h),D=R(R(L,!0)),m=R(R(D,!0));Ee(m,{get dataArray(){return v(a)}}),l0(t,h),n0()}var ve=G(' <li class="bubble-legend-item svelte-1o2z3y1"><span class="swatch svelte-1o2z3y1"></span> <em> </em></li>',!0),Ie=G('<h1>Complaints by Zipcode</h1> <blockquote scrolly-container="">We categorized the complaints into groups to demonstrate the impact of condominium development both on residents and the surrounding neighborhood.</blockquote> <div class="container svelte-1o2z3y1"><svg id="bubblechart-svg"></svg> <ul class="bubble-legend svelte-1o2z3y1"></ul></div>',!0);function Be(t,r){i0(r,!1);let o=j(r,"query",0,""),e=[],n=A([]),i,p=960,u=500;const a={top:20,right:20,bottom:30,left:40},s=lt(te);async function c(d){e=await k0("complaints_count_zipcode.csv"),e.columns=e.columns.map(Z=>Z.trim().replace(/[^\x20-\x7E]+/g,"")),w(n,(d?e.filter(Z=>Z["Zip Code"]===d):vt(e,P=>P["Description (group)"]).map(P=>({"Description (group)":P[0],"Count of Description":A0(P[1],y=>+y["Count of Description"])}))).sort((Z,P)=>P["Count of Description"]-Z["Count of Description"]).slice(0,5));const I=St().size([p-a.left-a.right,u-a.top-a.bottom]).padding(10),E=S0({children:v(n)}).sum(Z=>+Z["Count of Description"]),O=I(E).descendants();i=K("#bubblechart-svg").attr("width",p).attr("height",u).append("g").attr("transform",`translate(${a.left}, ${a.top})`),i.append("text").attr("class","chart title").attr("x",p/2).attr("y",8).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaint Types filed for Condominiums, 2019 to Present"),console.log("ZIP",d),i.selectAll("circle").data(O.slice(1)).enter().append("circle").attr("cx",Z=>Z.x).attr("cy",Z=>Z.y).attr("r",Z=>Z.r).attr("fill",Z=>s(Z.data["Description (group)"])).attr("opacity",.7).on("mouseover",function(Z,P){K(this).append("title").text(P.data["Description (group)"])}).on("mouseout",function(){K(this).select("title").remove()}),console.log(s.domain());const b=K(".bubble-legend").selectAll(".bubble-legend-item").data(O,Z=>Z.data["Description (group)"]).enter().append("div").classed("bubble-legend-item",!0);b.append("div").classed("bubble-legend-color",!0).style("background-color",Z=>s(Z)),b.exit().remove()}function f(d){d?k0("complaints_count_zipcode.csv").then(C=>{C.columns=C.columns.map(P=>P.trim().replace(/[^\x20-\x7E]+/g,"")),w(n,(d?C.filter(P=>P["Zip Code"]===d):vt(C,y=>y["Description (group)"]).map(y=>({"Description (group)":y[0],"Count of Description":A0(y[1],_=>+_["Count of Description"])}))).sort((P,y)=>y["Count of Description"]-P["Count of Description"]).slice(0,5));const E=S0({children:v(n)}).sum(P=>+P["Count of Description"]),M=St().size([p-a.left-a.right,u-a.top-a.bottom]).padding(10)(E).descendants().slice(1),b=i.selectAll("circle").data(M,P=>P.data["Description (group)"]);b.exit().transition().duration(750).attr("r",0).remove(),b.transition().duration(750).attr("cx",P=>P.x).attr("cy",P=>P.y).attr("r",P=>P.r),b.enter().append("circle").attr("cx",P=>P.x).attr("cy",P=>P.y).attr("r",0).attr("fill",P=>s(P.data["Description (group)"])).attr("opacity",.7).transition().duration(750).attr("r",P=>P.r),console.log("color scale",s.domain());const Z=K(".bubble-legend").selectAll(".bubble-legend-item").data(M,P=>P.data["Description (group)"]);Z.enter().append("div").classed("bubble-legend-item",!0).merge(Z).select(".bubble-legend-color").style("background-color",P=>s(P.data["Description (group)"])),Z.exit().remove(),i.selectAll("circle").on("mouseover",function(P,y){K(this).append("title").text(y.data["Description (group)"])}).on("mouseout",function(){K(this).select("title").remove()})}):alert("Please enter a zipcode.")}D0(()=>{c(o())}),$(()=>{r0(o()),q(()=>{o()&&f(o())})}),e0();var l=f0(t,!0,Ie),g=L0(l),h=R(R(g,!0)),L=R(R(h,!0)),D=z(L),m=R(R(D,!0));et(m,()=>v(n),9,(d,C,I)=>{var E=f0(d,!0,ve),O=L0(E,!0),M=R(O),b=z(M),Z=R(b,!0),P=R(Z),y=z(P);Yt(O,()=>`${Q(console.log("bubble legend filteredata ",v(n)))} `),o0(M,"style",()=>`--color: ${Q(s(N(C)["Description (group)"]))}`),M0(()=>{R0(Z,` ${Q(N(C)["Description (group)"])} `),R0(y,`(${Q(N(C)["Count of Description"])})`)}),l0(d,E)},null),l0(t,l),n0()}var _e=G('<h1>Condo Complaints</h1> <blockquote scrolly-container="">The <a href="https://data.boston.gov/dataset/rentsmart">RentSmart dataset</a> contains data from Boston’s 311 line and Boston’s Inspectional Services Division on residential property complaints from 2019 to the present.</blockquote> <svg id="linechart-svg" width="960" height="500"></svg>',!0);function Ye(t,r){i0(r,!1);let o=j(r,"query",0,""),e,n,i;function p(){const c={top:50,right:250,bottom:80,left:70},f=960-c.left-c.right,l=500-c.top-c.bottom;e=K("#linechart-svg").attr("viewBox",`0 0 1000 ${l+c.top+c.bottom}`).append("g").attr("transform",`translate(${c.left},${c.top})`),n=ht().range([0,f]).padding(.2),e.append("g").attr("class","x-axis").attr("transform",`translate(0,${l})`),e.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",f/2).attr("y",l+40).text("Year"),i=Ct().range([l,0]),e.append("g").attr("class","y-axis"),e.append("text").attr("class","y label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",-50).attr("x",-l/2).text("Number of Distinct Buildings or Complaints in a Year"),e.append("text").attr("class","chart title").attr("x",f/2).attr("y",-20).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaints Filed about Condominium Buildings");const g=e.append("g").attr("class","legend").attr("transform",`translate(${f+50}, 20)`),h=[{color:"steelblue",label:"# of Complaints Filed Per Year"},{color:"red",label:"# of Distinct Buildings the Complaints are Filed About"}];let L=0;h.forEach(D=>{const m=D.label.length*8;L=Math.max(L,m)}),L+=10,g.append("rect").attr("class","legend-box").attr("x",-300).attr("y",250).attr("width",L).attr("height",h.length*20+10).attr("fill","none").attr("stroke","black"),h.forEach((D,m)=>{const d=g.append("g").attr("transform",`translate(0, ${m*20+10})`);d.append("rect").attr("x",-285).attr("y",250).attr("width",10).attr("height",10).attr("fill",D.color),d.append("text").attr("x",-270).attr("y",260).attr("font-size","15px").text(D.label)}),u(o())}async function u(s){const c=await k0("complaints_year_zipcode.csv");c.columns=c.columns.map(d=>d.trim().replace(/[^\x20-\x7E]+/g,""));const f=c.filter(d=>s?d["Zip Code"]===s:!0);let l={};f.forEach(d=>{const C=d["Date (Years)"];l[C]||(l[C]={count:0,discounted:0}),l[C].count+=+d["Number of Complaints Filed Per Year"],l[C].discounted+=+d["Number of Distinct Condominum Buildings the Complaints are Filed About"]});let g=Object.keys(l).map(d=>({year:d,count:l[d].count,discounted:l[d].discounted}));const h=Bt().x(d=>n(d.year)+n.bandwidth()/2).y(d=>i(d.count)),L=Bt().x(d=>n(d.year)+n.bandwidth()/2).y(d=>i(d.discounted));n.domain(g.map(d=>d.year)),e.select(".x-axis").transition().duration(750).call(Kt(n)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),i.domain([0,Jt(g,d=>Math.max(d.count,d.discounted))]),e.select(".y-axis").transition().duration(750).call(tr(i));let D=e.selectAll(".line-count").data([g],d=>d.year),m=e.selectAll(".line-discounted").data([g],d=>d.year);D.transition().duration(750).attr("d",h(g)),m.transition().duration(750).attr("d",L(g)),D.empty()&&e.append("path").data([g]).attr("class","line-count").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",h),m.empty()&&e.append("path").data([g]).attr("class","line-discounted").attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",L)}D0(()=>{p()}),$(()=>{r0(o()),q(()=>{o()&&u(o())})}),e0();var a=f0(t,!0,_e);l0(t,a),n0()}const Ze=[{"ZIPCODE post (group)":"02215","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02215","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02210","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02141","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R2","Count of LU prior":8},{"ZIPCODE post (group)":"02141","LU prior groups":"R3","Count of LU prior":7},{"ZIPCODE post (group)":"02140","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"R2","Count of LU prior":13},{"ZIPCODE post (group)":"02140","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02139","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02139","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R2","Count of LU prior":21},{"ZIPCODE post (group)":"02139","LU prior groups":"R3","Count of LU prior":10},{"ZIPCODE post (group)":"02138","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02138","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"CM","Count of LU prior":4},{"ZIPCODE post (group)":"02138","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02138","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02136","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02136","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02136","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02136","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02136","LU prior groups":"R3","Count of LU prior":8},{"ZIPCODE post (group)":"02132","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02132","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02132","LU prior groups":"R2","Count of LU prior":18},{"ZIPCODE post (group)":"02132","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02131","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"A","Count of LU prior":5},{"ZIPCODE post (group)":"02131","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"CM","Count of LU prior":11},{"ZIPCODE post (group)":"02131","LU prior groups":"CD","Count of LU prior":70},{"ZIPCODE post (group)":"02131","LU prior groups":"R2","Count of LU prior":65},{"ZIPCODE post (group)":"02131","LU prior groups":"R3","Count of LU prior":32},{"ZIPCODE post (group)":"02130","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02130","LU prior groups":"R1","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"CM","Count of LU prior":16},{"ZIPCODE post (group)":"02130","LU prior groups":"CD","Count of LU prior":59},{"ZIPCODE post (group)":"02130","LU prior groups":"R2","Count of LU prior":43},{"ZIPCODE post (group)":"02130","LU prior groups":"R3","Count of LU prior":63},{"ZIPCODE post (group)":"02129","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02129","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02129","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02129","LU prior groups":"R3","Count of LU prior":26},{"ZIPCODE post (group)":"02128","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02128","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02128","LU prior groups":"RC","Count of LU prior":5},{"ZIPCODE post (group)":"02128","LU prior groups":"A","Count of LU prior":12},{"ZIPCODE post (group)":"02128","LU prior groups":"R4","Count of LU prior":18},{"ZIPCODE post (group)":"02128","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02128","LU prior groups":"R2","Count of LU prior":40},{"ZIPCODE post (group)":"02128","LU prior groups":"R3","Count of LU prior":101},{"ZIPCODE post (group)":"02127","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02127","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02127","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02127","LU prior groups":"R1","Count of LU prior":8},{"ZIPCODE post (group)":"02127","LU prior groups":"RC","Count of LU prior":12},{"ZIPCODE post (group)":"02127","LU prior groups":"A","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"R4","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"CM","Count of LU prior":18},{"ZIPCODE post (group)":"02127","LU prior groups":"CD","Count of LU prior":36},{"ZIPCODE post (group)":"02127","LU prior groups":"R2","Count of LU prior":53},{"ZIPCODE post (group)":"02127","LU prior groups":"R3","Count of LU prior":55},{"ZIPCODE post (group)":"02126","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"CM","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02126","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"A","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"CM","Count of LU prior":8},{"ZIPCODE post (group)":"02125","LU prior groups":"CD","Count of LU prior":16},{"ZIPCODE post (group)":"02125","LU prior groups":"R2","Count of LU prior":17},{"ZIPCODE post (group)":"02125","LU prior groups":"R3","Count of LU prior":53},{"ZIPCODE post (group)":"02124","LU prior groups":"CL","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02124","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02124","LU prior groups":"CM","Count of LU prior":7},{"ZIPCODE post (group)":"02124","LU prior groups":"CD","Count of LU prior":12},{"ZIPCODE post (group)":"02124","LU prior groups":"R2","Count of LU prior":29},{"ZIPCODE post (group)":"02124","LU prior groups":"R3","Count of LU prior":28},{"ZIPCODE post (group)":"02122","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R4","Count of LU prior":10},{"ZIPCODE post (group)":"02122","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02122","LU prior groups":"CD","Count of LU prior":17},{"ZIPCODE post (group)":"02122","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02122","LU prior groups":"R3","Count of LU prior":36},{"ZIPCODE post (group)":"02121","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02121","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02121","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02121","LU prior groups":"CD","Count of LU prior":5},{"ZIPCODE post (group)":"02121","LU prior groups":"R2","Count of LU prior":6},{"ZIPCODE post (group)":"02121","LU prior groups":"R3","Count of LU prior":16},{"ZIPCODE post (group)":"02120","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CD","Count of LU prior":13},{"ZIPCODE post (group)":"02119","LU prior groups":"I","Count of LU prior":1},{"ZIPCODE post (group)":"02119","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02119","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02119","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02119","LU prior groups":"R2","Count of LU prior":12},{"ZIPCODE post (group)":"02119","LU prior groups":"R3","Count of LU prior":17},{"ZIPCODE post (group)":"02118","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"R4","Count of LU prior":11},{"ZIPCODE post (group)":"02118","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02118","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02118","LU prior groups":"R2","Count of LU prior":19},{"ZIPCODE post (group)":"02118","LU prior groups":"R3","Count of LU prior":15},{"ZIPCODE post (group)":"02116","LU prior groups":"C","Count of LU prior":3},{"ZIPCODE post (group)":"02116","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02116","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"R4","Count of LU prior":6},{"ZIPCODE post (group)":"02116","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02116","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R3","Count of LU prior":9},{"ZIPCODE post (group)":"02115","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02115","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02114","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02113","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02111","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02109","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02108","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R2","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R3","Count of LU prior":6}];var Oe=pt('<path tabindex="0" role="button" aria-label="pie wedge" class="svelte-1k37voc"></path>'),xe=G('<li class="legend-item"><span class="swatch svelte-1k37voc"></span> <em> </em></li>'),be=G('<div class="container svelte-1k37voc"><svg id="piechart-svg" viewBox="-50 -50 100 100" class="svelte-1k37voc"></svg> <ul class="legend svelte-1k37voc"></ul></div>');function Me(t,r){i0(r,!1);let o=j(r,"selectedIndex",12,()=>-1),e=j(r,"data",8,()=>[]),n=le().innerRadius(0).outerRadius(50),i=A(),p=A(),u=Ce().value(g=>g.value),a=lt(re);function s(g,h){(!h.key||h.key==="Enter")&&o(o()===g?-1:g)}$(()=>{r0(e()),q(()=>{w(i,u(e()))})}),$(()=>{v(i),q(()=>{w(p,v(i).map(g=>n(g)))})}),e0();var c=p0(t,!0,be),f=z(c),l=R(R(f,!0));et(f,()=>v(p),9,(g,h,L)=>{var D=p0(g,!0,Oe);o0(D,"fill",()=>a(N(L)));var m,d;M0(()=>{var C,I;m!==(m=N(h))&&X(D,"d",m),d!==(d=`--start-angle: ${Q((C=v(i)[N(L)])==null?void 0:C.startAngle)}rad;
                    --end-angle: ${Q((I=v(i)[N(L)])==null?void 0:I.endAngle)}rad;`)&&X(D,"style",d),lr(D,"selected",o()===N(L))}),rt("click",D,C=>s(N(L),C),!1),rt("keyup",D,C=>s(N(L),C),!1),s0(g,D)},null),et(l,e,9,(g,h,L)=>{var D=p0(g,!0,xe),m=z(D),d=R(m,!0),C=R(d),I=z(C);o0(D,"style",()=>`--color: ${Q(a(N(L)))}`),M0(()=>{R0(d,` ${Q(N(h).label)} `),R0(I,`(${Q(N(h).value)})`)}),s0(g,D)},null),s0(t,c),n0()}var Re=G('<h1>Building Type Converted into Condominiums</h1> <blockquote scrolly-container="">Families and renters can be displaced when their homes are converted into luxury condos. This effect is especially prevalent when multi-family housing is converted into condos. To estimate the impact of condo conversions on families, we display the most common building types converted into condos. <p>Note: Legend adapted from <a href="https://www.cityofboston.gov/images_documents/land_use_codes%5B1%5D_tcm3-8867.pdf">City of Boston LAND USE CODES</a></p></blockquote> <!>',!0);function Ve(t,r){i0(r,!1);let o=j(r,"query",0,""),e=A();const n={CM:"Building broken into condo units",R1:"1-Family",R2:"2-Family",R3:"3-Family",R4:"4-6 Units",A:"7+ Units",RL:"Residential Lot",CD:"Condo",CC:"Commercial Condo",C:"Commercial",RC:"Mixed Use",CL:"Commercial Land",CP:"Condo Parking",I:"Industrial",E:"Exempt",EA:"Exempt"};let i=A(),p=A(),u=A(-1),a=A();$(()=>{r0(o()),q(()=>{w(e,Ze.filter(g=>o()?Object.values(g).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),$(()=>{v(i),v(e),v(p),q(()=>{w(i,{}),console.log(v(e)),w(p,Gt(v(e),g=>A0(g,h=>h["Count of LU prior"]),g=>g["LU prior groups"])),console.log("Rolled ",v(p)),w(i,v(p).map(([g,h])=>({value:h,label:n[g]}))),console.log("pied ",v(i))})}),$(()=>{v(u),v(i),q(()=>{w(a,v(u)>-1?v(i)[v(u)].label:null)})}),e0();var s=f0(t,!0,Re),c=L0(s),f=R(R(c,!0)),l=R(R(f,!0));Me(l,{get data(){return v(i)},get selectedIndex(){return v(u)},set selectedIndex(g){w(u,g)}}),l0(t,s),n0()}var we=G("No zip code selected",!0),Ae=G("<b> </b> <b>Click on the map to explore a different zipcode</b>",!0),ke=G('<div><div id="map" class="svelte-1spuyqf"></div> <div class="map-toolbar svelte-1spuyqf"><button class="reset-button svelte-1spuyqf">Reset Map</button> <!></div></div>');function He(t,r){i0(r,!1),v0.accessToken="pk.eyJ1Ijoic2VqYWxnIiwiYSI6ImNsdmN0Y21yZTBubmgydmxmNDlmbHVuMXAifQ.G5QWdSQskLQRC0Dw0nYLVw";let o;var e=A(null),n=j(r,"zipcode",4,null);const i=[-71.0589,42.3301],p=10;D0(async()=>{o=new v0.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:i,zoom:p});const g="boston-cambridge-zip-codes.geojson",h=await k0("lat_long_address.csv");o.on("load",async function(){o.addSource("zip-codes",{type:"geojson",data:g}),o.addLayer({id:"polygons",type:"fill",source:"zip-codes",paint:{"fill-color":["case",["boolean",["feature-state","clicked"],!1],"#949494","#d3d3d3"],"fill-opacity":.8,"fill-outline-color":"#000000"}});const L={type:"FeatureCollection",features:h.map(m=>({type:"Feature",properties:{zipcode:m["ZIPCODE post (group)"],post_building:m["LU post groups"],prior_building:m["LU prior groups"],year_converted:m["Prior Year"],value_post:m["TOTAL VALUE post"],value_prior:m["TOTAL VALUE prior"],year_built:m["YR BUILT prior (bin) 2"],latitude:m.Latitude,longitude:m.Longitude,address:m.Address},geometry:{type:"Point",coordinates:[parseFloat(m.Longitude),parseFloat(m.Latitude)]}}))};o.addSource("locations",{type:"geojson",data:L}),o.addLayer({id:"points",type:"circle",source:"locations",paint:{"circle-radius":5,"circle-color":"#ce160e","circle-opacity":1},filter:["==",["get","zipcode"],""]});let D=null;o.on("mouseenter","points",m=>{o.getCanvas().style.cursor="pointer";const d=m.features[0].geometry.coordinates.slice(),C=m.features[0].properties;for(;Math.abs(m.lngLat.lng-d[0])>180;)d[0]+=m.lngLat.lng>d[0]?360:-360;D&&D.remove(),D=new v0.Popup().setLngLat(d).setHTML(`
                        <strong>Address:</strong> ${C.address} <br>
                        <strong>Zipcode:</strong> ${C.zipcode} <br>
                        <strong>Year Built:</strong> ${parseInt(C.year_built)} <br>
                        <strong>Post Building Type:</strong> ${C.post_building} <br>
                        <strong>Prior Building Type:</strong> ${C.prior_building} <br>
                        <strong>Year Converted:</strong> ${parseInt(C.year_converted)} <br>
                        <strong>Value Prior-Conversion:</strong> $${C.value_prior.toLocaleString()} <br>
                        <strong>Value Post-Conversion:</strong> $${C.value_post.toLocaleString()} <br>
                    `).addTo(o)}),o.on("mouseleave","points",()=>{o.getCanvas().style.cursor="",D&&(D.remove(),D=null)}),o.on("click","polygons",m=>{let d=m.features[0],C=d.id;if(v(e)!==null&&v(e)!==C&&o.setFeatureState({source:"zip-codes",id:v(e)},{clicked:!1}),v(e)===C&&d.state.clicked){o.setFeatureState({source:"zip-codes",id:C},{clicked:!1}),w(e,null),o.setFilter("points",["==","id","__none__"]),o.easeTo({zoom:p,center:i});return}o.setFeatureState({source:"zip-codes",id:C},{clicked:!0}),w(e,C),n("0"+v(e).toString()),o.setFilter("points",["==",["get","zipcode"],n()]);const I=new v0.LngLatBounds;d.geometry.coordinates[0].forEach(E=>{I.extend(E)}),o.fitBounds(I,{padding:20})})})});function u(){o.easeTo({zoom:p,center:i}),v(e)!==null&&o.setFeatureState({source:"zip-codes",id:v(e)},{clicked:!1}),o.setFilter("points",["==",["get","zipcode"],""]),w(e,null),n(null)}e0();var a=p0(t,!0,ke),s=z(a),c=R(R(s,!0)),f=z(c),l=R(R(f,!0));rt("click",f,u,!1),fr(l,()=>v(e)===null,g=>{var h=f0(g,!0,we);l0(g,h)},g=>{var h=f0(g,!0,Ae),L=L0(h),D=z(L);Yt(D,()=>`Selected zip code: ${Q("0"+v(e))}`),l0(g,h)}),s0(t,a),n0()}export{Fe as B,Ye as L,He as M,Ve as P,qe as S,Be as a,ct as b,zr as c,Ct as d,ht as e,Kt as f,tr as g,te as h,c0 as i,k0 as j,A0 as k,Ko as l,Jt as m,vt as n,$e as r,K as s};
