import{W as j,D as q,i as i0,_ as Lt,J as o0,H as Ut,M as e0,a as $,C as k,a0 as Q,N as n0,d as M,e as K,K as J,r as x0,a1 as pt,c as C0,o as m0,b as b0,Y as Bt,t as w0,L as pr,P as rt}from"./disclose-version.6VTIbz7j.js";import{p as u0,a as a0,g as I,h as R,$ as r0,k as z,u as S}from"./runtime.DnRKx-fn.js";import{o as U0,i as lr}from"./main-client.DOo1v655.js";import{I as fr,S as Dt,r as cr,a as gr,i as ot,b as Et,d as yt,e as dr,o as lt,f as Yt,c as Vt,m as V0}from"./Mapchoice.svelte_svelte_type_style_lang.C9B-BhRD.js";import{a as hr,e as et}from"./each.Dq_DC73G.js";function O0(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function Cr(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function Wt(t){let r,o,e;t.length!==2?(r=O0,o=(u,a)=>O0(t(u),a),e=(u,a)=>t(u)-a):(r=t===O0||t===Cr?t:mr,o=t,e=t);function n(u,a,s=0,c=u.length){if(s<c){if(r(a,a)!==0)return c;do{const f=s+c>>>1;o(u[f],a)<0?s=f+1:c=f}while(s<c)}return s}function i(u,a,s=0,c=u.length){if(s<c){if(r(a,a)!==0)return c;do{const f=s+c>>>1;o(u[f],a)<=0?s=f+1:c=f}while(s<c)}return s}function p(u,a,s=0,c=u.length){const f=n(u,a,s,c-1);return f>s&&e(u[f-1],a)>-e(u[f],a)?f-1:f}return{left:n,center:p,right:i}}function mr(){return 0}function Lr(t){return t===null?NaN:+t}const Ur=Wt(O0),Dr=Ur.right;Wt(Lr).center;function Er(t){return t}function Pt(t,...r){return Qt(t,Array.from,Er,r)}function Ht(t,r,...o){return Qt(t,Array.from,r,o)}function Qt(t,r,o,e){return function n(i,p){if(p>=e.length)return o(i);const u=new fr,a=e[p++];let s=-1;for(const c of i){const f=a(c,++s,i),l=u.get(f);l?l.push(c):u.set(f,[c])}for(const[c,f]of u)u.set(c,n(f,p));return r(u)}(t,0)}const yr=Math.sqrt(50),Pr=Math.sqrt(10),Ir=Math.sqrt(2);function M0(t,r,o){const e=(r-t)/Math.max(0,o),n=Math.floor(Math.log10(e)),i=e/Math.pow(10,n),p=i>=yr?10:i>=Pr?5:i>=Ir?2:1;let u,a,s;return n<0?(s=Math.pow(10,-n)/p,u=Math.round(t*s),a=Math.round(r*s),u/s<t&&++u,a/s>r&&--a,s=-s):(s=Math.pow(10,n)*p,u=Math.round(t/s),a=Math.round(r/s),u*s<t&&++u,a*s>r&&--a),a<u&&.5<=o&&o<2?M0(t,r,o*2):[u,a,s]}function Zr(t,r,o){if(r=+r,t=+t,o=+o,!(o>0))return[];if(t===r)return[t];const e=r<t,[n,i,p]=e?M0(r,t,o):M0(t,r,o);if(!(i>=n))return[];const u=i-n+1,a=new Array(u);if(e)if(p<0)for(let s=0;s<u;++s)a[s]=(i-s)/-p;else for(let s=0;s<u;++s)a[s]=(i-s)*p;else if(p<0)for(let s=0;s<u;++s)a[s]=(n+s)/-p;else for(let s=0;s<u;++s)a[s]=(n+s)*p;return a}function nt(t,r,o){return r=+r,t=+t,o=+o,M0(t,r,o)[2]}function vr(t,r,o){r=+r,t=+t,o=+o;const e=r<t,n=e?nt(r,t,o):nt(t,r,o);return(e?-1:1)*(n<0?1/-n:n)}function Gt(t,r){let o;if(r===void 0)for(const e of t)e!=null&&(o<e||o===void 0&&e>=e)&&(o=e);else{let e=-1;for(let n of t)(n=r(n,++e,t))!=null&&(o<n||o===void 0&&n>=n)&&(o=n)}return o}function Or(t,r,o){t=+t,r=+r,o=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+o;for(var e=-1,n=Math.max(0,Math.ceil((r-t)/o))|0,i=new Array(n);++e<n;)i[e]=t+e*o;return i}function R0(t,r){let o=0;if(r===void 0)for(let e of t)(e=+e)&&(o+=e);else{let e=-1;for(let n of t)(n=+r(n,++e,t))&&(o+=n)}return o}function _r(t){return t}var W0=1,H0=2,it=3,d0=4,It=1e-6;function xr(t){return"translate("+t+",0)"}function br(t){return"translate(0,"+t+")"}function wr(t){return r=>+t(r)}function Mr(t,r){return r=Math.max(0,t.bandwidth()-r*2)/2,t.round()&&(r=Math.round(r)),o=>+t(o)+r}function Rr(){return!this.__axis}function Jt(t,r){var o=[],e=null,n=null,i=6,p=6,u=3,a=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===W0||t===d0?-1:1,c=t===d0||t===H0?"x":"y",f=t===W0||t===it?xr:br;function l(g){var h=e??(r.ticks?r.ticks.apply(r,o):r.domain()),C=n??(r.tickFormat?r.tickFormat.apply(r,o):_r),y=Math.max(i,0)+u,L=r.range(),d=+L[0]+a,m=+L[L.length-1]+a,Z=(r.bandwidth?Mr:wr)(r.copy(),a),E=g.selection?g.selection():g,_=E.selectAll(".domain").data([null]),w=E.selectAll(".tick").data(h,r).order(),b=w.exit(),O=w.enter().append("g").attr("class","tick"),P=w.select("line"),D=w.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),w=w.merge(O),P=P.merge(O.append("line").attr("stroke","currentColor").attr(c+"2",s*i)),D=D.merge(O.append("text").attr("fill","currentColor").attr(c,s*y).attr("dy",t===W0?"0em":t===it?"0.71em":"0.32em")),g!==E&&(_=_.transition(g),w=w.transition(g),P=P.transition(g),D=D.transition(g),b=b.transition(g).attr("opacity",It).attr("transform",function(v){return isFinite(v=Z(v))?f(v+a):this.getAttribute("transform")}),O.attr("opacity",It).attr("transform",function(v){var U=this.parentNode.__axis;return f((U&&isFinite(U=U(v))?U:Z(v))+a)})),b.remove(),_.attr("d",t===d0||t===H0?p?"M"+s*p+","+d+"H"+a+"V"+m+"H"+s*p:"M"+a+","+d+"V"+m:p?"M"+d+","+s*p+"V"+a+"H"+m+"V"+s*p:"M"+d+","+a+"H"+m),w.attr("opacity",1).attr("transform",function(v){return f(Z(v)+a)}),P.attr(c+"2",s*i),D.attr(c,s*y).text(C),E.filter(Rr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===H0?"start":t===d0?"end":"middle"),E.each(function(){this.__axis=Z})}return l.scale=function(g){return arguments.length?(r=g,l):r},l.ticks=function(){return o=Array.from(arguments),l},l.tickArguments=function(g){return arguments.length?(o=g==null?[]:Array.from(g),l):o.slice()},l.tickValues=function(g){return arguments.length?(e=g==null?null:Array.from(g),l):e&&e.slice()},l.tickFormat=function(g){return arguments.length?(n=g,l):n},l.tickSize=function(g){return arguments.length?(i=p=+g,l):i},l.tickSizeInner=function(g){return arguments.length?(i=+g,l):i},l.tickSizeOuter=function(g){return arguments.length?(p=+g,l):p},l.tickPadding=function(g){return arguments.length?(u=+g,l):u},l.offset=function(g){return arguments.length?(a=+g,l):a},l}function Xt(t){return Jt(it,t)}function Kt(t){return Jt(d0,t)}function X(t){return typeof t=="string"?new Dt([[document.querySelector(t)]],[document.documentElement]):new Dt([[t]],cr)}function kr(t,r){r||(r=[]);var o=t?Math.min(r.length,t.length):0,e=r.slice(),n;return function(i){for(n=0;n<o;++n)e[n]=t[n]*(1-i)+r[n]*i;return e}}function Ar(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Nr(t,r){var o=r?r.length:0,e=t?Math.min(o,t.length):0,n=new Array(e),i=new Array(o),p;for(p=0;p<e;++p)n[p]=ft(t[p],r[p]);for(;p<o;++p)i[p]=r[p];return function(u){for(p=0;p<e;++p)i[p]=n[p](u);return i}}function Sr(t,r){var o=new Date;return t=+t,r=+r,function(e){return o.setTime(t*(1-e)+r*e),o}}function Tr(t,r){var o={},e={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?o[n]=ft(t[n],r[n]):e[n]=r[n];return function(i){for(n in o)e[n]=o[n](i);return e}}function ft(t,r){var o=typeof r,e;return r==null||o==="boolean"?gr(r):(o==="number"?ot:o==="string"?(e=Et(r))?(r=e,yt):dr:r instanceof Et?yt:r instanceof Date?Sr:Ar(r)?kr:Array.isArray(r)?Nr:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Tr:ot)(t,r)}function jr(t,r){return t=+t,r=+r,function(o){return Math.round(t*(1-o)+r*o)}}const ut=Math.PI,at=2*ut,p0=1e-6,qr=at-p0;function tr(t){this._+=t[0];for(let r=1,o=t.length;r<o;++r)this._+=arguments[r]+t[r]}function zr(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return tr;const o=10**r;return function(e){this._+=e[0];for(let n=1,i=e.length;n<i;++n)this._+=Math.round(arguments[n]*o)/o+e[n]}}class $r{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?tr:zr(r)}moveTo(r,o){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,o){this._append`L${this._x1=+r},${this._y1=+o}`}quadraticCurveTo(r,o,e,n){this._append`Q${+r},${+o},${this._x1=+e},${this._y1=+n}`}bezierCurveTo(r,o,e,n,i,p){this._append`C${+r},${+o},${+e},${+n},${this._x1=+i},${this._y1=+p}`}arcTo(r,o,e,n,i){if(r=+r,o=+o,e=+e,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let p=this._x1,u=this._y1,a=e-r,s=n-o,c=p-r,f=u-o,l=c*c+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=o}`;else if(l>p0)if(!(Math.abs(f*a-s*c)>p0)||!i)this._append`L${this._x1=r},${this._y1=o}`;else{let g=e-p,h=n-u,C=a*a+s*s,y=g*g+h*h,L=Math.sqrt(C),d=Math.sqrt(l),m=i*Math.tan((ut-Math.acos((C+l-y)/(2*L*d)))/2),Z=m/d,E=m/L;Math.abs(Z-1)>p0&&this._append`L${r+Z*c},${o+Z*f}`,this._append`A${i},${i},0,0,${+(f*g>c*h)},${this._x1=r+E*a},${this._y1=o+E*s}`}}arc(r,o,e,n,i,p){if(r=+r,o=+o,e=+e,p=!!p,e<0)throw new Error(`negative radius: ${e}`);let u=e*Math.cos(n),a=e*Math.sin(n),s=r+u,c=o+a,f=1^p,l=p?n-i:i-n;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>p0||Math.abs(this._y1-c)>p0)&&this._append`L${s},${c}`,e&&(l<0&&(l=l%at+at),l>qr?this._append`A${e},${e},0,1,${f},${r-u},${o-a}A${e},${e},0,1,${f},${this._x1=s},${this._y1=c}`:l>p0&&this._append`A${e},${e},0,${+(l>=ut)},${f},${this._x1=r+e*Math.cos(i)},${this._y1=o+e*Math.sin(i)}`)}rect(r,o,e,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}h${e=+e}v${+n}h${-e}Z`}toString(){return this._}}var Zt={},Q0={},G0=34,g0=10,J0=13;function rr(t){return new Function("d","return {"+t.map(function(r,o){return JSON.stringify(r)+": d["+o+'] || ""'}).join(",")+"}")}function Fr(t,r){var o=rr(t);return function(e,n){return r(o(e),n,t)}}function vt(t){var r=Object.create(null),o=[];return t.forEach(function(e){for(var n in e)n in r||o.push(r[n]=n)}),o}function Y(t,r){var o=t+"",e=o.length;return e<r?new Array(r-e+1).join(0)+o:o}function Br(t){return t<0?"-"+Y(-t,6):t>9999?"+"+Y(t,6):Y(t,4)}function Yr(t){var r=t.getUTCHours(),o=t.getUTCMinutes(),e=t.getUTCSeconds(),n=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Br(t.getUTCFullYear())+"-"+Y(t.getUTCMonth()+1,2)+"-"+Y(t.getUTCDate(),2)+(n?"T"+Y(r,2)+":"+Y(o,2)+":"+Y(e,2)+"."+Y(n,3)+"Z":e?"T"+Y(r,2)+":"+Y(o,2)+":"+Y(e,2)+"Z":o||r?"T"+Y(r,2)+":"+Y(o,2)+"Z":"")}function Vr(t){var r=new RegExp('["'+t+`
\r]`),o=t.charCodeAt(0);function e(f,l){var g,h,C=n(f,function(y,L){if(g)return g(y,L-1);h=y,g=l?Fr(y,l):rr(y)});return C.columns=h||[],C}function n(f,l){var g=[],h=f.length,C=0,y=0,L,d=h<=0,m=!1;f.charCodeAt(h-1)===g0&&--h,f.charCodeAt(h-1)===J0&&--h;function Z(){if(d)return Q0;if(m)return m=!1,Zt;var _,w=C,b;if(f.charCodeAt(w)===G0){for(;C++<h&&f.charCodeAt(C)!==G0||f.charCodeAt(++C)===G0;);return(_=C)>=h?d=!0:(b=f.charCodeAt(C++))===g0?m=!0:b===J0&&(m=!0,f.charCodeAt(C)===g0&&++C),f.slice(w+1,_-1).replace(/""/g,'"')}for(;C<h;){if((b=f.charCodeAt(_=C++))===g0)m=!0;else if(b===J0)m=!0,f.charCodeAt(C)===g0&&++C;else if(b!==o)continue;return f.slice(w,_)}return d=!0,f.slice(w,h)}for(;(L=Z())!==Q0;){for(var E=[];L!==Zt&&L!==Q0;)E.push(L),L=Z();l&&(E=l(E,y++))==null||g.push(E)}return g}function i(f,l){return f.map(function(g){return l.map(function(h){return c(g[h])}).join(t)})}function p(f,l){return l==null&&(l=vt(f)),[l.map(c).join(t)].concat(i(f,l)).join(`
`)}function u(f,l){return l==null&&(l=vt(f)),i(f,l).join(`
`)}function a(f){return f.map(s).join(`
`)}function s(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?Yr(f):r.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:e,parseRows:n,format:p,formatBody:u,formatRows:a,formatRow:s,formatValue:c}}var Wr=Vr(","),Hr=Wr.parse;function Qr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Gr(t,r){return fetch(t,r).then(Qr)}function Jr(t){return function(r,o,e){return arguments.length===2&&typeof o=="function"&&(e=o,o=void 0),Gr(r,o).then(function(n){return t(n,e)})}}var k0=Jr(Hr);function Xr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function A0(t,r){if((o=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var o,e=t.slice(0,o);return[e.length>1?e[0]+e.slice(2):e,+t.slice(o+1)]}function c0(t){return t=A0(Math.abs(t)),t?t[1]:NaN}function Kr(t,r){return function(o,e){for(var n=o.length,i=[],p=0,u=t[0],a=0;n>0&&u>0&&(a+u+1>e&&(u=Math.max(1,e-a)),i.push(o.substring(n-=u,n+u)),!((a+=u+1)>e));)u=t[p=(p+1)%t.length];return i.reverse().join(r)}}function to(t){return function(r){return r.replace(/[0-9]/g,function(o){return t[+o]})}}var ro=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function N0(t){if(!(r=ro.exec(t)))throw new Error("invalid format: "+t);var r;return new ct({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}N0.prototype=ct.prototype;function ct(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ct.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function oo(t){t:for(var r=t.length,o=1,e=-1,n;o<r;++o)switch(t[o]){case".":e=n=o;break;case"0":e===0&&(e=o),n=o;break;default:if(!+t[o])break t;e>0&&(e=0);break}return e>0?t.slice(0,e)+t.slice(n+1):t}var or;function eo(t,r){var o=A0(t,r);if(!o)return t+"";var e=o[0],n=o[1],i=n-(or=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,p=e.length;return i===p?e:i>p?e+new Array(i-p+1).join("0"):i>0?e.slice(0,i)+"."+e.slice(i):"0."+new Array(1-i).join("0")+A0(t,Math.max(0,r+i-1))[0]}function Ot(t,r){var o=A0(t,r);if(!o)return t+"";var e=o[0],n=o[1];return n<0?"0."+new Array(-n).join("0")+e:e.length>n+1?e.slice(0,n+1)+"."+e.slice(n+1):e+new Array(n-e.length+2).join("0")}const _t={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Xr,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>Ot(t*100,r),r:Ot,s:eo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function xt(t){return t}var bt=Array.prototype.map,wt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function no(t){var r=t.grouping===void 0||t.thousands===void 0?xt:Kr(bt.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",e=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?xt:to(bt.call(t.numerals,String)),p=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",a=t.nan===void 0?"NaN":t.nan+"";function s(f){f=N0(f);var l=f.fill,g=f.align,h=f.sign,C=f.symbol,y=f.zero,L=f.width,d=f.comma,m=f.precision,Z=f.trim,E=f.type;E==="n"?(d=!0,E="g"):_t[E]||(m===void 0&&(m=12),Z=!0,E="g"),(y||l==="0"&&g==="=")&&(y=!0,l="0",g="=");var _=C==="$"?o:C==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",w=C==="$"?e:/[%p]/.test(E)?p:"",b=_t[E],O=/[defgprs%]/.test(E);m=m===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m));function P(D){var v=_,U=w,x,N,V;if(E==="c")U=b(D)+U,D="";else{D=+D;var W=D<0||1/D<0;if(D=isNaN(D)?a:b(Math.abs(D),m),Z&&(D=oo(D)),W&&+D==0&&h!=="+"&&(W=!1),v=(W?h==="("?h:u:h==="-"||h==="("?"":h)+v,U=(E==="s"?wt[8+or/3]:"")+U+(W&&h==="("?")":""),O){for(x=-1,N=D.length;++x<N;)if(V=D.charCodeAt(x),48>V||V>57){U=(V===46?n+D.slice(x+1):D.slice(x))+U,D=D.slice(0,x);break}}}d&&!y&&(D=r(D,1/0));var H=v.length+D.length+U.length,F=H<L?new Array(L-H+1).join(l):"";switch(d&&y&&(D=r(F+D,F.length?L-U.length:1/0),F=""),g){case"<":D=v+D+U+F;break;case"=":D=v+F+D+U;break;case"^":D=F.slice(0,H=F.length>>1)+v+D+U+F.slice(H);break;default:D=F+v+D+U;break}return i(D)}return P.toString=function(){return f+""},P}function c(f,l){var g=s((f=N0(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(c0(l)/3)))*3,C=Math.pow(10,-h),y=wt[8+h/3];return function(L){return g(C*L)+y}}return{format:s,formatPrefix:c}}var P0,gt,er;io({thousands:",",grouping:[3],currency:["$",""]});function io(t){return P0=no(t),gt=P0.format,er=P0.formatPrefix,P0}function uo(t){return Math.max(0,-c0(Math.abs(t)))}function ao(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(c0(r)/3)))*3-c0(Math.abs(t)))}function so(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,c0(r)-c0(t))+1}function po(t){var r=0,o=t.children,e=o&&o.length;if(!e)r=1;else for(;--e>=0;)r+=o[e].value;t.value=r}function lo(){return this.eachAfter(po)}function fo(t,r){let o=-1;for(const e of this)t.call(r,e,++o,this);return this}function co(t,r){for(var o=this,e=[o],n,i,p=-1;o=e.pop();)if(t.call(r,o,++p,this),n=o.children)for(i=n.length-1;i>=0;--i)e.push(n[i]);return this}function go(t,r){for(var o=this,e=[o],n=[],i,p,u,a=-1;o=e.pop();)if(n.push(o),i=o.children)for(p=0,u=i.length;p<u;++p)e.push(i[p]);for(;o=n.pop();)t.call(r,o,++a,this);return this}function ho(t,r){let o=-1;for(const e of this)if(t.call(r,e,++o,this))return e}function Co(t){return this.eachAfter(function(r){for(var o=+t(r.data)||0,e=r.children,n=e&&e.length;--n>=0;)o+=e[n].value;r.value=o})}function mo(t){return this.eachBefore(function(r){r.children&&r.children.sort(t)})}function Lo(t){for(var r=this,o=Uo(r,t),e=[r];r!==o;)r=r.parent,e.push(r);for(var n=e.length;t!==o;)e.splice(n,0,t),t=t.parent;return e}function Uo(t,r){if(t===r)return t;var o=t.ancestors(),e=r.ancestors(),n=null;for(t=o.pop(),r=e.pop();t===r;)n=t,t=o.pop(),r=e.pop();return n}function Do(){for(var t=this,r=[t];t=t.parent;)r.push(t);return r}function Eo(){return Array.from(this)}function yo(){var t=[];return this.eachBefore(function(r){r.children||t.push(r)}),t}function Po(){var t=this,r=[];return t.each(function(o){o!==t&&r.push({source:o.parent,target:o})}),r}function*Io(){var t=this,r,o=[t],e,n,i;do for(r=o.reverse(),o=[];t=r.pop();)if(yield t,e=t.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);while(o.length)}function S0(t,r){t instanceof Map?(t=[void 0,t],r===void 0&&(r=Oo)):r===void 0&&(r=vo);for(var o=new T0(t),e,n=[o],i,p,u,a;e=n.pop();)if((p=r(e.data))&&(a=(p=Array.from(p)).length))for(e.children=p,u=a-1;u>=0;--u)n.push(i=p[u]=new T0(p[u])),i.parent=e,i.depth=e.depth+1;return o.eachBefore(xo)}function Zo(){return S0(this).eachBefore(_o)}function vo(t){return t.children}function Oo(t){return Array.isArray(t)?t[1]:null}function _o(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function xo(t){var r=0;do t.height=r;while((t=t.parent)&&t.height<++r)}function T0(t){this.data=t,this.depth=this.height=0,this.parent=null}T0.prototype=S0.prototype={constructor:T0,count:lo,each:fo,eachAfter:go,eachBefore:co,find:ho,sum:Co,sort:mo,path:Lo,ancestors:Do,descendants:Eo,leaves:yo,links:Po,copy:Zo,[Symbol.iterator]:Io};function bo(t){return t==null?null:wo(t)}function wo(t){if(typeof t!="function")throw new Error;return t}function Mt(){return 0}function Mo(t){return function(){return t}}const Ro=1664525,ko=1013904223,Rt=4294967296;function Ao(){let t=1;return()=>(t=(Ro*t+ko)%Rt)/Rt}function No(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function So(t,r){let o=t.length,e,n;for(;o;)n=r()*o--|0,e=t[o],t[o]=t[n],t[n]=e;return t}function To(t,r){for(var o=0,e=(t=So(Array.from(t),r)).length,n=[],i,p;o<e;)i=t[o],p&&nr(p,i)?++o:(p=qo(n=jo(n,i)),o=0);return p}function jo(t,r){var o,e;if(X0(r,t))return[r];for(o=0;o<t.length;++o)if(I0(r,t[o])&&X0(h0(t[o],r),t))return[t[o],r];for(o=0;o<t.length-1;++o)for(e=o+1;e<t.length;++e)if(I0(h0(t[o],t[e]),r)&&I0(h0(t[o],r),t[e])&&I0(h0(t[e],r),t[o])&&X0(ir(t[o],t[e],r),t))return[t[o],t[e],r];throw new Error}function I0(t,r){var o=t.r-r.r,e=r.x-t.x,n=r.y-t.y;return o<0||o*o<e*e+n*n}function nr(t,r){var o=t.r-r.r+Math.max(t.r,r.r,1)*1e-9,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function X0(t,r){for(var o=0;o<r.length;++o)if(!nr(t,r[o]))return!1;return!0}function qo(t){switch(t.length){case 1:return zo(t[0]);case 2:return h0(t[0],t[1]);case 3:return ir(t[0],t[1],t[2])}}function zo(t){return{x:t.x,y:t.y,r:t.r}}function h0(t,r){var o=t.x,e=t.y,n=t.r,i=r.x,p=r.y,u=r.r,a=i-o,s=p-e,c=u-n,f=Math.sqrt(a*a+s*s);return{x:(o+i+a/f*c)/2,y:(e+p+s/f*c)/2,r:(f+n+u)/2}}function ir(t,r,o){var e=t.x,n=t.y,i=t.r,p=r.x,u=r.y,a=r.r,s=o.x,c=o.y,f=o.r,l=e-p,g=e-s,h=n-u,C=n-c,y=a-i,L=f-i,d=e*e+n*n-i*i,m=d-p*p-u*u+a*a,Z=d-s*s-c*c+f*f,E=g*h-l*C,_=(h*Z-C*m)/(E*2)-e,w=(C*y-h*L)/E,b=(g*m-l*Z)/(E*2)-n,O=(l*L-g*y)/E,P=w*w+O*O-1,D=2*(i+_*w+b*O),v=_*_+b*b-i*i,U=-(Math.abs(P)>1e-6?(D+Math.sqrt(D*D-4*P*v))/(2*P):v/D);return{x:e+_+w*U,y:n+b+O*U,r:U}}function kt(t,r,o){var e=t.x-r.x,n,i,p=t.y-r.y,u,a,s=e*e+p*p;s?(i=r.r+o.r,i*=i,a=t.r+o.r,a*=a,i>a?(n=(s+a-i)/(2*s),u=Math.sqrt(Math.max(0,a/s-n*n)),o.x=t.x-n*e-u*p,o.y=t.y-n*p+u*e):(n=(s+i-a)/(2*s),u=Math.sqrt(Math.max(0,i/s-n*n)),o.x=r.x+n*e-u*p,o.y=r.y+n*p+u*e)):(o.x=r.x+o.r,o.y=r.y)}function At(t,r){var o=t.r+r.r-1e-6,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function Nt(t){var r=t._,o=t.next._,e=r.r+o.r,n=(r.x*o.r+o.x*r.r)/e,i=(r.y*o.r+o.y*r.r)/e;return n*n+i*i}function Z0(t){this._=t,this.next=null,this.previous=null}function $o(t,r){if(!(i=(t=No(t)).length))return 0;var o,e,n,i,p,u,a,s,c,f,l;if(o=t[0],o.x=0,o.y=0,!(i>1))return o.r;if(e=t[1],o.x=-e.r,e.x=o.r,e.y=0,!(i>2))return o.r+e.r;kt(e,o,n=t[2]),o=new Z0(o),e=new Z0(e),n=new Z0(n),o.next=n.previous=e,e.next=o.previous=n,n.next=e.previous=o;t:for(a=3;a<i;++a){kt(o._,e._,n=t[a]),n=new Z0(n),s=e.next,c=o.previous,f=e._.r,l=o._.r;do if(f<=l){if(At(s._,n._)){e=s,o.next=e,e.previous=o,--a;continue t}f+=s._.r,s=s.next}else{if(At(c._,n._)){o=c,o.next=e,e.previous=o,--a;continue t}l+=c._.r,c=c.previous}while(s!==c.next);for(n.previous=o,n.next=e,o.next=e.previous=e=n,p=Nt(o);(n=n.next)!==e;)(u=Nt(n))<p&&(o=n,p=u);e=o.next}for(o=[e._],n=e;(n=n.next)!==e;)o.push(n._);for(n=To(o,r),a=0;a<i;++a)o=t[a],o.x-=n.x,o.y-=n.y;return n.r}function Fo(t){return Math.sqrt(t.value)}function St(){var t=null,r=1,o=1,e=Mt;function n(i){const p=Ao();return i.x=r/2,i.y=o/2,t?i.eachBefore(Tt(t)).eachAfter(K0(e,.5,p)).eachBefore(jt(1)):i.eachBefore(Tt(Fo)).eachAfter(K0(Mt,1,p)).eachAfter(K0(e,i.r/Math.min(r,o),p)).eachBefore(jt(Math.min(r,o)/(2*i.r))),i}return n.radius=function(i){return arguments.length?(t=bo(i),n):t},n.size=function(i){return arguments.length?(r=+i[0],o=+i[1],n):[r,o]},n.padding=function(i){return arguments.length?(e=typeof i=="function"?i:Mo(+i),n):e},n}function Tt(t){return function(r){r.children||(r.r=Math.max(0,+t(r)||0))}}function K0(t,r,o){return function(e){if(n=e.children){var n,i,p=n.length,u=t(e)*r||0,a;if(u)for(i=0;i<p;++i)n[i].r+=u;if(a=$o(n,o),u)for(i=0;i<p;++i)n[i].r-=u;e.r=a+u}}}function jt(t){return function(r){var o=r.parent;r.r*=t,o&&(r.x=o.x+t*r.x,r.y=o.y+t*r.y)}}function dt(){var t=lt().unknown(void 0),r=t.domain,o=t.range,e=0,n=1,i,p,u=!1,a=0,s=0,c=.5;delete t.unknown;function f(){var l=r().length,g=n<e,h=g?n:e,C=g?e:n;i=(C-h)/Math.max(1,l-a+s*2),u&&(i=Math.floor(i)),h+=(C-h-i*(l-a))*c,p=i*(1-a),u&&(h=Math.round(h),p=Math.round(p));var y=Or(l).map(function(L){return h+i*L});return o(g?y.reverse():y)}return t.domain=function(l){return arguments.length?(r(l),f()):r()},t.range=function(l){return arguments.length?([e,n]=l,e=+e,n=+n,f()):[e,n]},t.rangeRound=function(l){return[e,n]=l,e=+e,n=+n,u=!0,f()},t.bandwidth=function(){return p},t.step=function(){return i},t.round=function(l){return arguments.length?(u=!!l,f()):u},t.padding=function(l){return arguments.length?(a=Math.min(1,s=+l),f()):a},t.paddingInner=function(l){return arguments.length?(a=Math.min(1,l),f()):a},t.paddingOuter=function(l){return arguments.length?(s=+l,f()):s},t.align=function(l){return arguments.length?(c=Math.max(0,Math.min(1,l)),f()):c},t.copy=function(){return dt(r(),[e,n]).round(u).paddingInner(a).paddingOuter(s).align(c)},Yt.apply(f(),arguments)}function Bo(t){return function(){return t}}function Yo(t){return+t}var qt=[0,1];function l0(t){return t}function st(t,r){return(r-=t=+t)?function(o){return(o-t)/r}:Bo(isNaN(r)?NaN:.5)}function Vo(t,r){var o;return t>r&&(o=t,t=r,r=o),function(e){return Math.max(t,Math.min(r,e))}}function Wo(t,r,o){var e=t[0],n=t[1],i=r[0],p=r[1];return n<e?(e=st(n,e),i=o(p,i)):(e=st(e,n),i=o(i,p)),function(u){return i(e(u))}}function Ho(t,r,o){var e=Math.min(t.length,r.length)-1,n=new Array(e),i=new Array(e),p=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++p<e;)n[p]=st(t[p],t[p+1]),i[p]=o(r[p],r[p+1]);return function(u){var a=Dr(t,u,1,e)-1;return i[a](n[a](u))}}function Qo(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Go(){var t=qt,r=qt,o=ft,e,n,i,p=l0,u,a,s;function c(){var l=Math.min(t.length,r.length);return p!==l0&&(p=Vo(t[0],t[l-1])),u=l>2?Ho:Wo,a=s=null,f}function f(l){return l==null||isNaN(l=+l)?i:(a||(a=u(t.map(e),r,o)))(e(p(l)))}return f.invert=function(l){return p(n((s||(s=u(r,t.map(e),ot)))(l)))},f.domain=function(l){return arguments.length?(t=Array.from(l,Yo),c()):t.slice()},f.range=function(l){return arguments.length?(r=Array.from(l),c()):r.slice()},f.rangeRound=function(l){return r=Array.from(l),o=jr,c()},f.clamp=function(l){return arguments.length?(p=l?!0:l0,c()):p!==l0},f.interpolate=function(l){return arguments.length?(o=l,c()):o},f.unknown=function(l){return arguments.length?(i=l,f):i},function(l,g){return e=l,n=g,c()}}function Jo(){return Go()(l0,l0)}function Xo(t,r,o,e){var n=vr(t,r,o),i;switch(e=N0(e??",f"),e.type){case"s":{var p=Math.max(Math.abs(t),Math.abs(r));return e.precision==null&&!isNaN(i=ao(n,p))&&(e.precision=i),er(e,p)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(i=so(n,Math.max(Math.abs(t),Math.abs(r))))&&(e.precision=i-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(i=uo(n))&&(e.precision=i-(e.type==="%")*2);break}}return gt(e)}function Ko(t){var r=t.domain;return t.ticks=function(o){var e=r();return Zr(e[0],e[e.length-1],o??10)},t.tickFormat=function(o,e){var n=r();return Xo(n[0],n[n.length-1],o??10,e)},t.nice=function(o){o==null&&(o=10);var e=r(),n=0,i=e.length-1,p=e[n],u=e[i],a,s,c=10;for(u<p&&(s=p,p=u,u=s,s=n,n=i,i=s);c-- >0;){if(s=nt(p,u,o),s===a)return e[n]=p,e[i]=u,r(e);if(s>0)p=Math.floor(p/s)*s,u=Math.ceil(u/s)*s;else if(s<0)p=Math.ceil(p*s)/s,u=Math.floor(u*s)/s;else break;a=s}return t},t}function ht(){var t=Jo();return t.copy=function(){return Qo(t,ht())},Yt.apply(t,arguments),Ko(t)}const te=Vt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),re=Vt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function A(t){return function(){return t}}const zt=Math.abs,T=Math.atan2,s0=Math.cos,oe=Math.max,tt=Math.min,G=Math.sin,f0=Math.sqrt,B=1e-12,L0=Math.PI,j0=L0/2,_0=2*L0;function ee(t){return t>1?0:t<-1?L0:Math.acos(t)}function $t(t){return t>=1?j0:t<=-1?-j0:Math.asin(t)}function ur(t){let r=3;return t.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const e=Math.floor(o);if(!(e>=0))throw new RangeError(`invalid digits: ${o}`);r=e}return t},()=>new $r(r)}function ne(t){return t.innerRadius}function ie(t){return t.outerRadius}function ue(t){return t.startAngle}function ae(t){return t.endAngle}function se(t){return t&&t.padAngle}function pe(t,r,o,e,n,i,p,u){var a=o-t,s=e-r,c=p-n,f=u-i,l=f*a-c*s;if(!(l*l<B))return l=(c*(r-i)-f*(t-n))/l,[t+l*a,r+l*s]}function v0(t,r,o,e,n,i,p){var u=t-o,a=r-e,s=(p?i:-i)/f0(u*u+a*a),c=s*a,f=-s*u,l=t+c,g=r+f,h=o+c,C=e+f,y=(l+h)/2,L=(g+C)/2,d=h-l,m=C-g,Z=d*d+m*m,E=n-i,_=l*C-h*g,w=(m<0?-1:1)*f0(oe(0,E*E*Z-_*_)),b=(_*m-d*w)/Z,O=(-_*d-m*w)/Z,P=(_*m+d*w)/Z,D=(-_*d+m*w)/Z,v=b-y,U=O-L,x=P-y,N=D-L;return v*v+U*U>x*x+N*N&&(b=P,O=D),{cx:b,cy:O,x01:-c,y01:-f,x11:b*(n/E-1),y11:O*(n/E-1)}}function le(){var t=ne,r=ie,o=A(0),e=null,n=ue,i=ae,p=se,u=null,a=ur(s);function s(){var c,f,l=+t.apply(this,arguments),g=+r.apply(this,arguments),h=n.apply(this,arguments)-j0,C=i.apply(this,arguments)-j0,y=zt(C-h),L=C>h;if(u||(u=c=a()),g<l&&(f=g,g=l,l=f),!(g>B))u.moveTo(0,0);else if(y>_0-B)u.moveTo(g*s0(h),g*G(h)),u.arc(0,0,g,h,C,!L),l>B&&(u.moveTo(l*s0(C),l*G(C)),u.arc(0,0,l,C,h,L));else{var d=h,m=C,Z=h,E=C,_=y,w=y,b=p.apply(this,arguments)/2,O=b>B&&(e?+e.apply(this,arguments):f0(l*l+g*g)),P=tt(zt(g-l)/2,+o.apply(this,arguments)),D=P,v=P,U,x;if(O>B){var N=$t(O/l*G(b)),V=$t(O/g*G(b));(_-=N*2)>B?(N*=L?1:-1,Z+=N,E-=N):(_=0,Z=E=(h+C)/2),(w-=V*2)>B?(V*=L?1:-1,d+=V,m-=V):(w=0,d=m=(h+C)/2)}var W=g*s0(d),H=g*G(d),F=l*s0(E),D0=l*G(E);if(P>B){var E0=g*s0(m),y0=g*G(m),q0=l*s0(Z),z0=l*G(Z),t0;if(y<L0)if(t0=pe(W,H,q0,z0,E0,y0,F,D0)){var $0=W-t0[0],F0=H-t0[1],B0=E0-t0[0],Y0=y0-t0[1],Ct=1/G(ee(($0*B0+F0*Y0)/(f0($0*$0+F0*F0)*f0(B0*B0+Y0*Y0)))/2),mt=f0(t0[0]*t0[0]+t0[1]*t0[1]);D=tt(P,(l-mt)/(Ct-1)),v=tt(P,(g-mt)/(Ct+1))}else D=v=0}w>B?v>B?(U=v0(q0,z0,W,H,g,v,L),x=v0(E0,y0,F,D0,g,v,L),u.moveTo(U.cx+U.x01,U.cy+U.y01),v<P?u.arc(U.cx,U.cy,v,T(U.y01,U.x01),T(x.y01,x.x01),!L):(u.arc(U.cx,U.cy,v,T(U.y01,U.x01),T(U.y11,U.x11),!L),u.arc(0,0,g,T(U.cy+U.y11,U.cx+U.x11),T(x.cy+x.y11,x.cx+x.x11),!L),u.arc(x.cx,x.cy,v,T(x.y11,x.x11),T(x.y01,x.x01),!L))):(u.moveTo(W,H),u.arc(0,0,g,d,m,!L)):u.moveTo(W,H),!(l>B)||!(_>B)?u.lineTo(F,D0):D>B?(U=v0(F,D0,E0,y0,l,-D,L),x=v0(W,H,q0,z0,l,-D,L),u.lineTo(U.cx+U.x01,U.cy+U.y01),D<P?u.arc(U.cx,U.cy,D,T(U.y01,U.x01),T(x.y01,x.x01),!L):(u.arc(U.cx,U.cy,D,T(U.y01,U.x01),T(U.y11,U.x11),!L),u.arc(0,0,l,T(U.cy+U.y11,U.cx+U.x11),T(x.cy+x.y11,x.cx+x.x11),L),u.arc(x.cx,x.cy,D,T(x.y11,x.x11),T(x.y01,x.x01),!L))):u.arc(0,0,l,E,Z,L)}if(u.closePath(),c)return u=null,c+""||null}return s.centroid=function(){var c=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,f=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2-L0/2;return[s0(f)*c,G(f)*c]},s.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:A(+c),s):t},s.outerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:A(+c),s):r},s.cornerRadius=function(c){return arguments.length?(o=typeof c=="function"?c:A(+c),s):o},s.padRadius=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:A(+c),s):e},s.startAngle=function(c){return arguments.length?(n=typeof c=="function"?c:A(+c),s):n},s.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:A(+c),s):i},s.padAngle=function(c){return arguments.length?(p=typeof c=="function"?c:A(+c),s):p},s.context=function(c){return arguments.length?(u=c??null,s):u},s}function ar(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function sr(t){this._context=t}sr.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function fe(t){return new sr(t)}function ce(t){return t[0]}function ge(t){return t[1]}function Ft(t,r){var o=A(!0),e=null,n=fe,i=null,p=ur(u);t=typeof t=="function"?t:t===void 0?ce:A(t),r=typeof r=="function"?r:r===void 0?ge:A(r);function u(a){var s,c=(a=ar(a)).length,f,l=!1,g;for(e==null&&(i=n(g=p())),s=0;s<=c;++s)!(s<c&&o(f=a[s],s,a))===l&&((l=!l)?i.lineStart():i.lineEnd()),l&&i.point(+t(f,s,a),+r(f,s,a));if(g)return i=null,g+""||null}return u.x=function(a){return arguments.length?(t=typeof a=="function"?a:A(+a),u):t},u.y=function(a){return arguments.length?(r=typeof a=="function"?a:A(+a),u):r},u.defined=function(a){return arguments.length?(o=typeof a=="function"?a:A(!!a),u):o},u.curve=function(a){return arguments.length?(n=a,e!=null&&(i=n(e)),u):n},u.context=function(a){return arguments.length?(a==null?e=i=null:i=n(e=a),u):e},u}function de(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function he(t){return t}function Ce(){var t=he,r=de,o=null,e=A(0),n=A(_0),i=A(0);function p(u){var a,s=(u=ar(u)).length,c,f,l=0,g=new Array(s),h=new Array(s),C=+e.apply(this,arguments),y=Math.min(_0,Math.max(-_0,n.apply(this,arguments)-C)),L,d=Math.min(Math.abs(y)/s,i.apply(this,arguments)),m=d*(y<0?-1:1),Z;for(a=0;a<s;++a)(Z=h[g[a]=a]=+t(u[a],a,u))>0&&(l+=Z);for(r!=null?g.sort(function(E,_){return r(h[E],h[_])}):o!=null&&g.sort(function(E,_){return o(u[E],u[_])}),a=0,f=l?(y-s*m)/l:0;a<s;++a,C=L)c=g[a],Z=h[c],L=C+(Z>0?Z*f:0)+m,h[c]={data:u[c],index:a,value:Z,startAngle:C,endAngle:L,padAngle:d};return h}return p.value=function(u){return arguments.length?(t=typeof u=="function"?u:A(+u),p):t},p.sortValues=function(u){return arguments.length?(r=u,o=null,p):r},p.sort=function(u){return arguments.length?(o=u,r=null,p):o},p.startAngle=function(u){return arguments.length?(e=typeof u=="function"?u:A(+u),p):e},p.endAngle=function(u){return arguments.length?(n=typeof u=="function"?u:A(+u),p):n},p.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:A(+u),p):i},p}var me=K('<section class="scrolly svelte-14jsymd"><section class="story svelte-14jsymd"><!></section> <section class="viz svelte-14jsymd"><!></section></section>');function qe(t,r){var D;a0(r,!1);let o=j(r,"progress",4,0),e=j(r,"progressRaw",4,0),n=j(r,"threshold",0,.5),i=j(r,"margin",0,30),p=j(r,"debounce",0,!1),u=j(r,"throttle",0,!1),a=k(),s=k(),c,f,l,g={},h,C;const y=(v,U,x)=>Math.min(Math.max(v,U),x),L=(v,U,x)=>100*(v-U)/(x-U),d=v=>v(),m=v=>v;let Z=k(),E=k();U0(()=>{function v({top:N=I(a).getBoundingClientRect().top}={}){e(L(N,c,f)),U()}function U(){let N=y(0,e(),100);N===0||N===100?o(N):I(E)(I(Z)(()=>o(N)))}function x(){g=I(a).getBoundingClientRect(),l=window.scrollY+g.top,c=Math.min(l,innerHeight*n())+i(),f=innerHeight-g.height+i(),v(g)}h=new IntersectionObserver(N=>{let V=N.at(-1);V.intersectionRatio,V.isIntersecting?(x(),v(),window.addEventListener("scroll",v),window.addEventListener("resize",x),C==null||C.observe(I(a))):(window.removeEventListener("scroll",v),window.removeEventListener("resize",x),C==null||C.unobserve(I(a)))}),h.observe(I(a),{rootMargin:(i()??0)+"px",threshold:n()}),C=new ResizeObserver(x),x()}),q(()=>{r0(u()),z(()=>{let v=0;R(Z,u()>0?function(U){return function(){let x=performance.now();x-v>=u()&&(U(),v=x)}}:m)})}),q(()=>{r0(p()),z(()=>{let v;R(E,p()?p()>0?function(U){clearTimeout(v),v=setTimeout(U,p())}:function(U){cancelAnimationFrame(v),v=requestAnimationFrame(U)}:d)})}),i0();var _=n0(t,!0,me);Lt(_,v=>R(a,v),()=>I(a));var w=$(_),b=$(w),O=M(M(w,!0));Lt(O,v=>R(s,v),()=>I(s));var P=$(O);o0(_,"style",()=>`--scrolly-margin: ${Q(i())}`),Ut(b,r.children,{},null),Ut(P,(D=r.$$slots)==null?void 0:D.viz,{},null),e0(t,_),u0()}const Le=[{ZIPCODE:"02238",count_of_address:1,Latitude_generated:42.375,longitude_generated:-71.10610199},{ZIPCODE:"02215",count_of_address:28,Latitude_generated:42.3472,longitude_generated:-71.099688298},{ZIPCODE:"02210",count_of_address:10,Latitude_generated:42.347000122,longitude_generated:-71.041000366},{ZIPCODE:"02199",count_of_address:1,Latitude_generated:42.346599579,longitude_generated:-71.082702637},{ZIPCODE:"02142",count_of_address:5,Latitude_generated:42.36289978,longitude_generated:-71.084701538},{ZIPCODE:"02141",count_of_address:24,Latitude_generated:42.370399475,longitude_generated:-71.082199097},{ZIPCODE:"02140-1841",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140-1124",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140",count_of_address:24,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02139-4745",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-4019",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-3928",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1116",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1113",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1017",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139",count_of_address:50,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02138-6832",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4646",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4531",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-2121",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138",count_of_address:48,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02136",count_of_address:115,Latitude_generated:42.254573275,longitude_generated:-71.125281891},{ZIPCODE:"02133",count_of_address:1,Latitude_generated:42.357898712,longitude_generated:-71.063499451},{ZIPCODE:"02132",count_of_address:75,Latitude_generated:42.278388487,longitude_generated:-71.16006103},{ZIPCODE:"02131",count_of_address:233,Latitude_generated:42.28275,longitude_generated:-71.125859439},{ZIPCODE:"02130",count_of_address:255,Latitude_generated:42.307899475,longitude_generated:-71.112701416},{ZIPCODE:"02129",count_of_address:89,Latitude_generated:42.379199982,longitude_generated:-71.064399719},{ZIPCODE:"02128",count_of_address:212,Latitude_generated:42.37275,longitude_generated:-71.02818},{ZIPCODE:"02127",count_of_address:277,Latitude_generated:42.3357,longitude_generated:-71.040740733},{ZIPCODE:"02126",count_of_address:26,Latitude_generated:42.276500702,longitude_generated:-71.093002319},{ZIPCODE:"02125",count_of_address:136,Latitude_generated:42.31865,longitude_generated:-71.057624145},{ZIPCODE:"02124",count_of_address:121,Latitude_generated:42.285853705,longitude_generated:-71.071814029},{ZIPCODE:"02122",count_of_address:126,Latitude_generated:42.29445,longitude_generated:-71.052695703},{ZIPCODE:"02121",count_of_address:55,Latitude_generated:42.307373545,longitude_generated:-71.082806865},{ZIPCODE:"02120",count_of_address:37,Latitude_generated:42.332656641,longitude_generated:-71.095659537},{ZIPCODE:"02119",count_of_address:111,Latitude_generated:42.3238,longitude_generated:-71.083608708},{ZIPCODE:"02118",count_of_address:82,Latitude_generated:42.3379156,longitude_generated:-71.069753417},{ZIPCODE:"02116",count_of_address:56,Latitude_generated:42.349179535,longitude_generated:-71.074520575},{ZIPCODE:"02115",count_of_address:31,Latitude_generated:42.34155,longitude_generated:-71.088459936},{ZIPCODE:"02114",count_of_address:20,Latitude_generated:42.362201691,longitude_generated:-71.066398621},{ZIPCODE:"02113",count_of_address:18,Latitude_generated:42.364299774,longitude_generated:-71.057502747},{ZIPCODE:"02111",count_of_address:3,Latitude_generated:42.350741429,longitude_generated:-71.05914918},{ZIPCODE:"02110",count_of_address:6,Latitude_generated:42.355850624,longitude_generated:-71.055570374},{ZIPCODE:"02109",count_of_address:6,Latitude_generated:42.3632,longitude_generated:-71.053075619},{ZIPCODE:"02108",count_of_address:23,Latitude_generated:42.356001176,longitude_generated:-71.066357458}],Ue=[{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01742"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01757"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01760"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01824"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"01845"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01880"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01890"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01940"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01945"},{1800:1,1810:0,1820:1,1830:0,1840:1,1850:0,1860:0,1870:1,1880:0,1890:12,1900:3,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02108"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:1,2010:0,2020:0,ZIPCODE:"02109"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02110"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02111"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:4,1900:3,1910:3,1920:3,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:1,1870:0,1880:1,1890:3,1900:2,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:4,2020:0,ZIPCODE:"02114"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:9,1900:1,1910:2,1920:2,1930:2,1940:0,1950:0,1960:1,1970:1,1980:1,1990:1,2e3:0,2010:1,2020:0,ZIPCODE:"02115"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:2,1870:1,1880:3,1890:26,1900:6,1910:4,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:1,1990:2,2e3:3,2010:0,2020:2,ZIPCODE:"02116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:14,1870:2,1880:0,1890:27,1900:10,1910:3,1920:4,1930:1,1940:0,1950:1,1960:0,1970:2,1980:2,1990:1,2e3:2,2010:2,2020:0,ZIPCODE:"02118"},{1800:0,1810:0,1820:0,1830:0,1840:1,1850:1,1860:0,1870:3,1880:7,1890:16,1900:26,1910:3,1920:1,1930:1,1940:0,1950:1,1960:3,1970:3,1980:2,1990:4,2e3:18,2010:5,2020:2,ZIPCODE:"02119"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:1,1900:6,1910:1,1920:1,1930:1,1940:0,1950:0,1960:3,1970:0,1980:11,1990:1,2e3:7,2010:0,2020:2,ZIPCODE:"02120"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:4,1900:15,1910:9,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:5,2010:5,2020:2,ZIPCODE:"02121"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:1,1880:2,1890:6,1900:45,1910:11,1920:16,1930:3,1940:1,1950:0,1960:0,1970:0,1980:6,1990:2,2e3:8,2010:9,2020:7,ZIPCODE:"02122"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:3,1890:15,1900:32,1910:9,1920:18,1930:7,1940:2,1950:1,1960:0,1970:0,1980:2,1990:7,2e3:11,2010:5,2020:3,ZIPCODE:"02124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:7,1890:14,1900:48,1910:7,1920:6,1930:3,1940:0,1950:0,1960:0,1970:0,1980:5,1990:1,2e3:16,2010:15,2020:5,ZIPCODE:"02125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:4,1920:6,1930:4,1940:0,1950:1,1960:0,1970:1,1980:1,1990:0,2e3:3,2010:2,2020:1,ZIPCODE:"02126"},{1800:1,1810:0,1820:0,1830:1,1840:0,1850:0,1860:1,1870:7,1880:5,1890:49,1900:62,1910:18,1920:8,1930:2,1940:1,1950:0,1960:5,1970:1,1980:21,1990:7,2e3:16,2010:45,2020:16,ZIPCODE:"02127"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:1,1870:5,1880:11,1890:12,1900:81,1910:28,1920:8,1930:1,1940:2,1950:0,1960:2,1970:0,1980:4,1990:1,2e3:2,2010:29,2020:13,ZIPCODE:"02128"},{1800:1,1810:0,1820:1,1830:2,1840:1,1850:5,1860:7,1870:15,1880:13,1890:9,1900:5,1910:3,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:2,2e3:7,2010:7,2020:3,ZIPCODE:"02129"},{1800:1,1810:0,1820:0,1830:0,1840:1,1850:0,1860:2,1870:5,1880:12,1890:15,1900:74,1910:24,1920:30,1930:7,1940:1,1950:2,1960:2,1970:0,1980:5,1990:7,2e3:29,2010:19,2020:7,ZIPCODE:"02130"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:9,1890:11,1900:36,1910:37,1920:51,1930:9,1940:0,1950:0,1960:6,1970:2,1980:15,1990:3,2e3:18,2010:15,2020:10,ZIPCODE:"02131"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:5,1900:4,1910:7,1920:23,1930:3,1940:4,1950:4,1960:8,1970:2,1980:3,1990:3,2e3:4,2010:0,2020:1,ZIPCODE:"02132"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:2,1880:2,1890:5,1900:13,1910:16,1920:10,1930:6,1940:4,1950:5,1960:9,1970:1,1980:9,1990:4,2e3:19,2010:4,2020:2,ZIPCODE:"02136"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:2,1870:2,1880:1,1890:3,1900:5,1910:8,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:3,2020:0,ZIPCODE:"02138"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-1915"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4531"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4646"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-6832"},{1800:0,1810:0,1820:0,1830:1,1840:2,1850:0,1860:0,1870:4,1880:4,1890:6,1900:7,1910:6,1920:1,1930:0,1940:0,1950:0,1960:0,1970:1,1980:1,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02139"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1017"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-3125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4019"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4423"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4430"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4745"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:2,1900:2,1910:1,1920:3,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02140"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1610"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1841"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-3304"},{1800:0,1810:0,1820:0,1830:1,1840:0,1850:1,1860:0,1870:0,1880:0,1890:2,1900:5,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:1,1980:0,1990:0,2e3:2,2010:2,2020:1,ZIPCODE:"02141"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02141-1931"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02142"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02199"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:1,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02210"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:10,1900:7,1910:4,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:1,2e3:1,2010:1,2020:0,ZIPCODE:"02215"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02421"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02458"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02460"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02461"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02472"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02474"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"03246"}];var De=pt('<rect class="bar svelte-76qd0p" fill="orange"></rect>'),Ee=pt('<svg id="barchart-svg"><g><!><g class="x-axis svelte-76qd0p"><text text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Year Built</text></g><g class="y-axis svelte-76qd0p"><text transform="rotate(-90)" text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Number of Buildings</text></g></g></svg>');function ye(t,r){a0(r,!1);let o=j(r,"dataArray",8,()=>[]),e={top:20,right:30,bottom:70,left:80},n=960-e.left-e.right,i=500-e.top-e.bottom,p=dt().range([0,n]).padding(.1),u=ht().range([i,0]),a=k(),s=k();U0(()=>{R(a,Xt(p).tickFormat(gt("d"))),R(s,Kt(u).ticks(5)),c()});function c(){X(".x-axis").call(I(a)),X(".y-axis").call(I(s))}q(()=>{r0(o()),I(a),I(s),z(()=>{o().length>0&&(p.domain(o().map(E=>E.year)),u.domain([0,Gt(o(),E=>E.count)]),I(a)&&I(s)&&c())})}),i0();var f=n0(t,!0,Ee),l=$(f),g=$(l),h=M(g);J(h,"transform",`translate(0, ${i})`);var C=$(h);J(C,"x",n/2),J(C,"y",40);var y=M(h),L=$(y);J(L,"x",-i/2),J(L,"y",-50);var d,m,Z;x0(()=>{d!==(d=n+e.left+e.right)&&J(f,"width",d),m!==(m=i+e.top+e.bottom)&&J(f,"height",m),Z!==(Z=`translate(${e.left},${e.top})`)&&J(l,"transform",Z)}),hr(g,o,7,(E,_)=>S(E).year,(E,_,w)=>{var b=n0(E,!0,De);o0(b,"x",()=>p(S(_).year)),o0(b,"y",()=>u(S(_).count)),o0(b,"width",()=>p.bandwidth()),o0(b,"height",()=>i-u(S(_).count)),e0(E,b)},null),e0(t,f),u0()}var Pe=K('<h1>Year Converted Property was Built</h1> <blockquote><a href="https://homesforprofit.mapc.org/report">Investors upgrading residential properties into condos can displace residents due to subsequent rent increases.</a> Here, we display the number of condo conversions against the year the building was built. While imperfect, we use how early a building was constructed as a proxy for how likely the condo conversion upgraded the property.</blockquote> <!>',!0);function ze(t,r){a0(r,!1),j(r,"hLevel",0,2);let o=j(r,"query",0,""),e=k(),n=k(),i,p=k(),u=k(),a=k(),s=-1,c=k(),f=k(),l=k();function g(d){const m={};return d.forEach(Z=>{const E=Z.substring(0,5);m[E]||(m[E]=[]),m[E].push(Z.substring(0,5))}),m}q(()=>{r0(o()),z(()=>{R(e,Le.filter(d=>o()?Object.values(d).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),q(()=>{r0(o()),z(()=>{R(n,Ue.filter(d=>o()?Object.values(d).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),q(()=>{I(p),I(e),I(u),I(n),I(a),z(()=>{R(p,Ht(I(e),d=>R0(d,m=>m.Count_of_LU_prior),d=>d.LU_prior_group)),console.log("Rolled ",I(p)),R(u,I(n).reduce((d,m)=>(Object.keys(m).forEach(Z=>{Z!=="ZIPCODE"&&(d[Z]||(d[Z]=0),d[Z]+=m[Z])}),d),{})),console.log("Agg Year Built",I(u)),R(a,Object.keys(I(u)).map(d=>({year:parseInt(d),count:I(u)[d]})).sort((d,m)=>d.year-m.year)),console.log("Year Built Data Array ",I(a))})}),q(()=>{z(()=>{R(c,s>-1?i[s].label:null)})}),q(()=>{I(f),I(e),z(()=>{R(f,I(e).map(d=>d.ZIPCODE)),R(l,new Set(Object.values(g(I(f))).flat()))})}),i0();var h=m0(t,!0,Pe),C=b0(h),y=M(M(C,!0)),L=M(M(y,!0));ye(L,{get dataArray(){return I(a)}}),C0(t,h),u0()}var Ie=K(' <li class="bubble-legend-item svelte-1o2z3y1"><span class="swatch svelte-1o2z3y1"></span> <em> </em></li>',!0),Ze=K('<h1>Complaints by Zipcode</h1> <blockquote scrolly-container="">We categorized the complaints into groups to demonstrate the impact of condominium development both on residents and the surrounding neighborhood.</blockquote> <div class="container svelte-1o2z3y1"><svg id="bubblechart-svg"></svg> <ul class="bubble-legend svelte-1o2z3y1"></ul></div>',!0);function $e(t,r){a0(r,!1);let o=j(r,"query",0,""),e=[],n=k([]),i,p=960,u=500;const a={top:20,right:20,bottom:30,left:40},s=lt(te);async function c(d){e=await k0("complaints_count_zipcode.csv"),e.columns=e.columns.map(O=>O.trim().replace(/[^\x20-\x7E]+/g,"")),R(n,(d?e.filter(O=>O["Zip Code"]===d):Pt(e,P=>P["Description (group)"]).map(P=>({"Description (group)":P[0],"Count of Description":R0(P[1],D=>+D["Count of Description"])}))).sort((O,P)=>P["Count of Description"]-O["Count of Description"]).slice(0,5));const Z=St().size([p-a.left-a.right,u-a.top-a.bottom]).padding(10),E=S0({children:I(n)}).sum(O=>+O["Count of Description"]),_=Z(E).descendants();i=X("#bubblechart-svg").attr("width",p).attr("height",u).append("g").attr("transform",`translate(${a.left}, ${a.top})`),i.append("text").attr("class","chart title").attr("x",p/2).attr("y",8).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaint Types filed for Condominiums, 2019 to Present"),console.log("ZIP",d),i.selectAll("circle").data(_.slice(1)).enter().append("circle").attr("cx",O=>O.x).attr("cy",O=>O.y).attr("r",O=>O.r).attr("fill",O=>s(O.data["Description (group)"])).attr("opacity",.7).on("mouseover",function(O,P){X(this).append("title").text(P.data["Description (group)"])}).on("mouseout",function(){X(this).select("title").remove()}),console.log(s.domain());const b=X(".bubble-legend").selectAll(".bubble-legend-item").data(_,O=>O.data["Description (group)"]).enter().append("div").classed("bubble-legend-item",!0);b.append("div").classed("bubble-legend-color",!0).style("background-color",O=>s(O)),b.exit().remove()}function f(d){d?k0("complaints_count_zipcode.csv").then(m=>{m.columns=m.columns.map(P=>P.trim().replace(/[^\x20-\x7E]+/g,"")),R(n,(d?m.filter(P=>P["Zip Code"]===d):Pt(m,D=>D["Description (group)"]).map(D=>({"Description (group)":D[0],"Count of Description":R0(D[1],v=>+v["Count of Description"])}))).sort((P,D)=>D["Count of Description"]-P["Count of Description"]).slice(0,5));const E=S0({children:I(n)}).sum(P=>+P["Count of Description"]),w=St().size([p-a.left-a.right,u-a.top-a.bottom]).padding(10)(E).descendants().slice(1),b=i.selectAll("circle").data(w,P=>P.data["Description (group)"]);b.exit().transition().duration(750).attr("r",0).remove(),b.transition().duration(750).attr("cx",P=>P.x).attr("cy",P=>P.y).attr("r",P=>P.r),b.enter().append("circle").attr("cx",P=>P.x).attr("cy",P=>P.y).attr("r",0).attr("fill",P=>s(P.data["Description (group)"])).attr("opacity",.7).transition().duration(750).attr("r",P=>P.r),console.log("color scale",s.domain());const O=X(".bubble-legend").selectAll(".bubble-legend-item").data(w,P=>P.data["Description (group)"]);O.enter().append("div").classed("bubble-legend-item",!0).merge(O).select(".bubble-legend-color").style("background-color",P=>s(P.data["Description (group)"])),O.exit().remove(),i.selectAll("circle").on("mouseover",function(P,D){X(this).append("title").text(D.data["Description (group)"])}).on("mouseout",function(){X(this).select("title").remove()})}):alert("Please enter a zipcode.")}U0(()=>{c(o())}),q(()=>{r0(o()),z(()=>{o()&&f(o())})}),i0();var l=m0(t,!0,Ze),g=b0(l),h=M(M(g,!0)),C=M(M(h,!0)),y=$(C),L=M(M(y,!0));et(L,()=>I(n),9,(d,m,Z)=>{var E=m0(d,!0,Ie),_=b0(E,!0),w=M(_),b=$(w),O=M(b,!0),P=M(O),D=$(P);Bt(_,()=>`${Q(console.log("bubble legend filteredata ",I(n)))} `),o0(w,"style",()=>`--color: ${Q(s(S(m)["Description (group)"]))}`),x0(()=>{w0(O,` ${Q(S(m)["Description (group)"])} `),w0(D,`(${Q(S(m)["Count of Description"])})`)}),C0(d,E)},null),C0(t,l),u0()}var ve=K('<h1>Condo Complaints</h1> <blockquote scrolly-container="">The <a href="https://data.boston.gov/dataset/rentsmart">RentSmart dataset</a> contains data from Boston’s 311 line and Boston’s Inspectional Services Division on residential property complaints from 2019 to the present.</blockquote> <svg id="linechart-svg" width="960" height="500"></svg>',!0);function Fe(t,r){a0(r,!1);let o=j(r,"query",0,""),e,n,i;function p(){const c={top:50,right:250,bottom:80,left:70},f=960-c.left-c.right,l=500-c.top-c.bottom;e=X("#linechart-svg").attr("viewBox",`0 0 1000 ${l+c.top+c.bottom}`).append("g").attr("transform",`translate(${c.left},${c.top})`),n=dt().range([0,f]).padding(.2),e.append("g").attr("class","x-axis").attr("transform",`translate(0,${l})`),e.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",f/2).attr("y",l+40).text("Year"),i=ht().range([l,0]),e.append("g").attr("class","y-axis"),e.append("text").attr("class","y label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",-50).attr("x",-l/2).text("Number of Distinct Buildings or Complaints in a Year"),e.append("text").attr("class","chart title").attr("x",f/2).attr("y",-20).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaints Filed about Condominium Buildings");const g=e.append("g").attr("class","legend").attr("transform",`translate(${f+50}, 20)`),h=[{color:"steelblue",label:"# of Complaints Filed Per Year"},{color:"red",label:"# of Distinct Buildings the Complaints are Filed About"}];let C=0;h.forEach(y=>{const L=y.label.length*8;C=Math.max(C,L)}),C+=10,g.append("rect").attr("class","legend-box").attr("x",-300).attr("y",250).attr("width",C).attr("height",h.length*20+10).attr("fill","none").attr("stroke","black"),h.forEach((y,L)=>{const d=g.append("g").attr("transform",`translate(0, ${L*20+10})`);d.append("rect").attr("x",-285).attr("y",250).attr("width",10).attr("height",10).attr("fill",y.color),d.append("text").attr("x",-270).attr("y",260).attr("font-size","15px").text(y.label)}),u(o())}async function u(s){const c=await k0("complaints_year_zipcode.csv");c.columns=c.columns.map(d=>d.trim().replace(/[^\x20-\x7E]+/g,""));const f=c.filter(d=>s?d["Zip Code"]===s:!0);let l={};f.forEach(d=>{const m=d["Date (Years)"];l[m]||(l[m]={count:0,discounted:0}),l[m].count+=+d["Number of Complaints Filed Per Year"],l[m].discounted+=+d["Number of Distinct Condominum Buildings the Complaints are Filed About"]});let g=Object.keys(l).map(d=>({year:d,count:l[d].count,discounted:l[d].discounted}));const h=Ft().x(d=>n(d.year)+n.bandwidth()/2).y(d=>i(d.count)),C=Ft().x(d=>n(d.year)+n.bandwidth()/2).y(d=>i(d.discounted));n.domain(g.map(d=>d.year)),e.select(".x-axis").transition().duration(750).call(Xt(n)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),i.domain([0,Gt(g,d=>Math.max(d.count,d.discounted))]),e.select(".y-axis").transition().duration(750).call(Kt(i));let y=e.selectAll(".line-count").data([g],d=>d.year),L=e.selectAll(".line-discounted").data([g],d=>d.year);y.transition().duration(750).attr("d",h(g)),L.transition().duration(750).attr("d",C(g)),y.empty()&&e.append("path").data([g]).attr("class","line-count").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",h),L.empty()&&e.append("path").data([g]).attr("class","line-discounted").attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",C)}U0(()=>{p()}),q(()=>{r0(o()),z(()=>{o()&&u(o())})}),i0();var a=m0(t,!0,ve);C0(t,a),u0()}const Oe=[{"ZIPCODE post (group)":"02215","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02215","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02210","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02141","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R2","Count of LU prior":8},{"ZIPCODE post (group)":"02141","LU prior groups":"R3","Count of LU prior":7},{"ZIPCODE post (group)":"02140","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"R2","Count of LU prior":13},{"ZIPCODE post (group)":"02140","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02139","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02139","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R2","Count of LU prior":21},{"ZIPCODE post (group)":"02139","LU prior groups":"R3","Count of LU prior":10},{"ZIPCODE post (group)":"02138","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02138","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"CM","Count of LU prior":4},{"ZIPCODE post (group)":"02138","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02138","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02136","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02136","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02136","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02136","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02136","LU prior groups":"R3","Count of LU prior":8},{"ZIPCODE post (group)":"02132","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02132","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02132","LU prior groups":"R2","Count of LU prior":18},{"ZIPCODE post (group)":"02132","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02131","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"A","Count of LU prior":5},{"ZIPCODE post (group)":"02131","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"CM","Count of LU prior":11},{"ZIPCODE post (group)":"02131","LU prior groups":"CD","Count of LU prior":70},{"ZIPCODE post (group)":"02131","LU prior groups":"R2","Count of LU prior":65},{"ZIPCODE post (group)":"02131","LU prior groups":"R3","Count of LU prior":32},{"ZIPCODE post (group)":"02130","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02130","LU prior groups":"R1","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"CM","Count of LU prior":16},{"ZIPCODE post (group)":"02130","LU prior groups":"CD","Count of LU prior":59},{"ZIPCODE post (group)":"02130","LU prior groups":"R2","Count of LU prior":43},{"ZIPCODE post (group)":"02130","LU prior groups":"R3","Count of LU prior":63},{"ZIPCODE post (group)":"02129","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02129","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02129","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02129","LU prior groups":"R3","Count of LU prior":26},{"ZIPCODE post (group)":"02128","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02128","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02128","LU prior groups":"RC","Count of LU prior":5},{"ZIPCODE post (group)":"02128","LU prior groups":"A","Count of LU prior":12},{"ZIPCODE post (group)":"02128","LU prior groups":"R4","Count of LU prior":18},{"ZIPCODE post (group)":"02128","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02128","LU prior groups":"R2","Count of LU prior":40},{"ZIPCODE post (group)":"02128","LU prior groups":"R3","Count of LU prior":101},{"ZIPCODE post (group)":"02127","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02127","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02127","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02127","LU prior groups":"R1","Count of LU prior":8},{"ZIPCODE post (group)":"02127","LU prior groups":"RC","Count of LU prior":12},{"ZIPCODE post (group)":"02127","LU prior groups":"A","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"R4","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"CM","Count of LU prior":18},{"ZIPCODE post (group)":"02127","LU prior groups":"CD","Count of LU prior":36},{"ZIPCODE post (group)":"02127","LU prior groups":"R2","Count of LU prior":53},{"ZIPCODE post (group)":"02127","LU prior groups":"R3","Count of LU prior":55},{"ZIPCODE post (group)":"02126","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"CM","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02126","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"A","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"CM","Count of LU prior":8},{"ZIPCODE post (group)":"02125","LU prior groups":"CD","Count of LU prior":16},{"ZIPCODE post (group)":"02125","LU prior groups":"R2","Count of LU prior":17},{"ZIPCODE post (group)":"02125","LU prior groups":"R3","Count of LU prior":53},{"ZIPCODE post (group)":"02124","LU prior groups":"CL","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02124","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02124","LU prior groups":"CM","Count of LU prior":7},{"ZIPCODE post (group)":"02124","LU prior groups":"CD","Count of LU prior":12},{"ZIPCODE post (group)":"02124","LU prior groups":"R2","Count of LU prior":29},{"ZIPCODE post (group)":"02124","LU prior groups":"R3","Count of LU prior":28},{"ZIPCODE post (group)":"02122","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R4","Count of LU prior":10},{"ZIPCODE post (group)":"02122","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02122","LU prior groups":"CD","Count of LU prior":17},{"ZIPCODE post (group)":"02122","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02122","LU prior groups":"R3","Count of LU prior":36},{"ZIPCODE post (group)":"02121","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02121","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02121","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02121","LU prior groups":"CD","Count of LU prior":5},{"ZIPCODE post (group)":"02121","LU prior groups":"R2","Count of LU prior":6},{"ZIPCODE post (group)":"02121","LU prior groups":"R3","Count of LU prior":16},{"ZIPCODE post (group)":"02120","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CD","Count of LU prior":13},{"ZIPCODE post (group)":"02119","LU prior groups":"I","Count of LU prior":1},{"ZIPCODE post (group)":"02119","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02119","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02119","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02119","LU prior groups":"R2","Count of LU prior":12},{"ZIPCODE post (group)":"02119","LU prior groups":"R3","Count of LU prior":17},{"ZIPCODE post (group)":"02118","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"R4","Count of LU prior":11},{"ZIPCODE post (group)":"02118","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02118","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02118","LU prior groups":"R2","Count of LU prior":19},{"ZIPCODE post (group)":"02118","LU prior groups":"R3","Count of LU prior":15},{"ZIPCODE post (group)":"02116","LU prior groups":"C","Count of LU prior":3},{"ZIPCODE post (group)":"02116","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02116","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"R4","Count of LU prior":6},{"ZIPCODE post (group)":"02116","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02116","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R3","Count of LU prior":9},{"ZIPCODE post (group)":"02115","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02115","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02114","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02113","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02111","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02109","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02108","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R2","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R3","Count of LU prior":6}];var _e=pt('<path tabindex="0" role="button" aria-label="pie wedge" class="svelte-1k37voc"></path>'),xe=K('<li class="legend-item"><span class="swatch svelte-1k37voc"></span> <em> </em></li>'),be=K('<div class="container svelte-1k37voc"><svg id="piechart-svg" viewBox="-50 -50 100 100" class="svelte-1k37voc"></svg> <ul class="legend svelte-1k37voc"></ul></div>');function we(t,r){a0(r,!1);let o=j(r,"selectedIndex",12,()=>-1),e=j(r,"data",8,()=>[]),n=le().innerRadius(0).outerRadius(50),i=k(),p=k(),u=Ce().value(g=>g.value),a=lt(re);function s(g,h){(!h.key||h.key==="Enter")&&o(o()===g?-1:g)}q(()=>{r0(e()),z(()=>{R(i,u(e()))})}),q(()=>{I(i),z(()=>{R(p,I(i).map(g=>n(g)))})}),i0();var c=n0(t,!0,be),f=$(c),l=M(M(f,!0));et(f,()=>I(p),9,(g,h,C)=>{var y=n0(g,!0,_e);o0(y,"fill",()=>a(S(C)));var L,d;x0(()=>{var m,Z;L!==(L=S(h))&&J(y,"d",L),d!==(d=`--start-angle: ${Q((m=I(i)[S(C)])==null?void 0:m.startAngle)}rad;
                    --end-angle: ${Q((Z=I(i)[S(C)])==null?void 0:Z.endAngle)}rad;`)&&J(y,"style",d),pr(y,"selected",o()===S(C))}),rt("click",y,m=>s(S(C),m),!1),rt("keyup",y,m=>s(S(C),m),!1),e0(g,y)},null),et(l,e,9,(g,h,C)=>{var y=n0(g,!0,xe),L=$(y),d=M(L,!0),m=M(d),Z=$(m);o0(y,"style",()=>`--color: ${Q(a(S(C)))}`),x0(()=>{w0(d,` ${Q(S(h).label)} `),w0(Z,`(${Q(S(h).value)})`)}),e0(g,y)},null),e0(t,c),u0()}var Me=K('<h1>Building Type Converted into Condominiums</h1> <blockquote scrolly-container="">Families and renters can be displaced when their homes are converted into luxury condos. This effect is especially prevalent when multi-family housing is converted into condos. To estimate the impact of condo conversions on families, we display the most common building types converted into condos. <p>Note: Legend adapted from <a href="https://www.cityofboston.gov/images_documents/land_use_codes%5B1%5D_tcm3-8867.pdf">City of Boston LAND USE CODES</a></p></blockquote> <!>',!0);function Be(t,r){a0(r,!1);let o=j(r,"query",0,""),e=k();const n={CM:"Building broken into condo units",R1:"1-Family",R2:"2-Family",R3:"3-Family",R4:"4-6 Units",A:"7+ Units",RL:"Residential Lot",CD:"Condo",CC:"Commerical Condo",C:"Commerical",RC:"Mixed Use",CL:"Commerical Land",CP:"Condo Parking",I:"Industrial",E:"Exempt",EA:"Exempt"};let i=k(),p=k(),u=k(-1),a=k();q(()=>{r0(o()),z(()=>{R(e,Oe.filter(g=>o()?Object.values(g).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),q(()=>{I(i),I(e),I(p),z(()=>{R(i,{}),console.log(I(e)),R(p,Ht(I(e),g=>R0(g,h=>h["Count of LU prior"]),g=>g["LU prior groups"])),console.log("Rolled ",I(p)),R(i,I(p).map(([g,h])=>({value:h,label:n[g]}))),console.log("pied ",I(i))})}),q(()=>{I(u),I(i),z(()=>{R(a,I(u)>-1?I(i)[I(u)].label:null)})}),i0();var s=m0(t,!0,Me),c=b0(s),f=M(M(c,!0)),l=M(M(f,!0));we(l,{get data(){return I(i)},get selectedIndex(){return I(u)},set selectedIndex(g){R(u,g)}}),C0(t,s),u0()}var Re=K('<blockquote scrolly-container=""> </blockquote>'),ke=K('<div><div id="map" class="svelte-ahycl4"></div> <button class="reset-button svelte-ahycl4">Reset Map</button> <!></div>');function Ye(t,r){a0(r,!1),V0.accessToken="pk.eyJ1Ijoic2VqYWxnIiwiYSI6ImNsdmN0Y21yZTBubmgydmxmNDlmbHVuMXAifQ.G5QWdSQskLQRC0Dw0nYLVw";let o;var e=k(null),n=j(r,"zipcode",4,null);const i=[-71.0589,42.3601],p=11;U0(async()=>{o=new V0.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:i,zoom:p});const l="/boston-cambridge-zip-codes.geojson",g=await k0("/lat_long_address.csv");o.on("load",async function(){o.addSource("zip-codes",{type:"geojson",data:l}),o.addLayer({id:"polygons",type:"fill",source:"zip-codes",paint:{"fill-color":["case",["boolean",["feature-state","clicked"],!1],"#949494","#d3d3d3"],"fill-opacity":.8,"fill-outline-color":"#000000"}});const h={type:"FeatureCollection",features:g.map(C=>({type:"Feature",properties:{zipcode:C["ZIPCODE post (group)"]},geometry:{type:"Point",coordinates:[parseFloat(C.Longitude),parseFloat(C.Latitude)]}}))};o.addSource("locations",{type:"geojson",data:h}),o.addLayer({id:"points",type:"circle",source:"locations",paint:{"circle-radius":6,"circle-color":"#000000","circle-opacity":.4},filter:["==",["get","zipcode"],""]}),o.on("click","polygons",C=>{let y=C.features[0],L=y.id;I(e)!==null&&I(e)!==L&&o.setFeatureState({source:"zip-codes",id:I(e)},{clicked:!1}),o.setFeatureState({source:"zip-codes",id:L},{clicked:!0}),R(e,L),n("0"+I(e).toString()),o.setFilter("points",["==",["get","zipcode"],n()]);const d=new V0.LngLatBounds;y.geometry.coordinates[0].forEach(m=>{d.extend(m)}),o.fitBounds(d,{padding:20})})})});function u(){o.setCenter(i),o.setZoom(p),I(e)!==null&&o.setFeatureState({source:"zip-codes",id:I(e)},{clicked:!1}),o.setFilter("points",["==",["get","zipcode"],""]),R(e,null),n(null)}i0();var a=n0(t,!0,ke),s=$(a),c=M(M(s,!0)),f=M(M(c,!0));rt("click",c,u,!1),lr(f,()=>I(e)===null,l=>{},l=>{var g=n0(l,!0,Re),h=$(g);Bt(h,()=>`You selected ${Q("0"+I(e))}! Click Reset Map to choose a new zip code.`),e0(l,g)}),e0(t,a),u0()}export{ze as B,Fe as L,Ye as M,Be as P,qe as S,$e as a};
