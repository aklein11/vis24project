import{W as j,D as $,i as e0,_ as dt,J as p0,H as ht,M as t0,a as V,C as A,a0 as s0,N as r0,d as k,e as X,K as G,r as J0,a1 as it,c as A0,o as k0,b as zt,L as ur,P as X0,t as Ct,Y as ar}from"./disclose-version.6VTIbz7j.js";import{p as n0,a as i0,g as Z,h as R,$ as o0,k as B,u as F}from"./runtime.DnRKx-fn.js";import{o as m0,i as sr}from"./main-client.DOo1v655.js";import{I as pr,S as mt,r as lr,a as fr,i as K0,b as Lt,d as Ut,e as cr,o as ut,f as Ft,c as $t,m as F0}from"./Mapchoice.svelte_svelte_type_style_lang.dT51nxLD.js";import{a as gr,e as Dt}from"./each.Dq_DC73G.js";function Z0(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function dr(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function Bt(t){let r,o,e;t.length!==2?(r=Z0,o=(u,l)=>Z0(t(u),l),e=(u,l)=>t(u)-l):(r=t===Z0||t===dr?t:hr,o=t,e=t);function n(u,l,p=0,c=u.length){if(p<c){if(r(l,l)!==0)return c;do{const f=p+c>>>1;o(u[f],l)<0?p=f+1:c=f}while(p<c)}return p}function i(u,l,p=0,c=u.length){if(p<c){if(r(l,l)!==0)return c;do{const f=p+c>>>1;o(u[f],l)<=0?p=f+1:c=f}while(p<c)}return p}function a(u,l,p=0,c=u.length){const f=n(u,l,p,c-1);return f>p&&e(u[f-1],l)>-e(u[f],l)?f-1:f}return{left:n,center:a,right:i}}function hr(){return 0}function Cr(t){return t===null?NaN:+t}const mr=Bt(Z0),Lr=mr.right;Bt(Cr).center;function Yt(t,r,...o){return Ur(t,Array.from,r,o)}function Ur(t,r,o,e){return function n(i,a){if(a>=e.length)return o(i);const u=new pr,l=e[a++];let p=-1;for(const c of i){const f=l(c,++p,i),s=u.get(f);s?s.push(c):u.set(f,[c])}for(const[c,f]of u)u.set(c,n(f,a));return r(u)}(t,0)}const Dr=Math.sqrt(50),Er=Math.sqrt(10),yr=Math.sqrt(2);function _0(t,r,o){const e=(r-t)/Math.max(0,o),n=Math.floor(Math.log10(e)),i=e/Math.pow(10,n),a=i>=Dr?10:i>=Er?5:i>=yr?2:1;let u,l,p;return n<0?(p=Math.pow(10,-n)/a,u=Math.round(t*p),l=Math.round(r*p),u/p<t&&++u,l/p>r&&--l,p=-p):(p=Math.pow(10,n)*a,u=Math.round(t/p),l=Math.round(r/p),u*p<t&&++u,l*p>r&&--l),l<u&&.5<=o&&o<2?_0(t,r,o*2):[u,l,p]}function Pr(t,r,o){if(r=+r,t=+t,o=+o,!(o>0))return[];if(t===r)return[t];const e=r<t,[n,i,a]=e?_0(r,t,o):_0(t,r,o);if(!(i>=n))return[];const u=i-n+1,l=new Array(u);if(e)if(a<0)for(let p=0;p<u;++p)l[p]=(i-p)/-a;else for(let p=0;p<u;++p)l[p]=(i-p)*a;else if(a<0)for(let p=0;p<u;++p)l[p]=(n+p)/-a;else for(let p=0;p<u;++p)l[p]=(n+p)*a;return l}function tt(t,r,o){return r=+r,t=+t,o=+o,_0(t,r,o)[2]}function Ir(t,r,o){r=+r,t=+t,o=+o;const e=r<t,n=e?tt(r,t,o):tt(t,r,o);return(e?-1:1)*(n<0?1/-n:n)}function Vt(t,r){let o;if(r===void 0)for(const e of t)e!=null&&(o<e||o===void 0&&e>=e)&&(o=e);else{let e=-1;for(let n of t)(n=r(n,++e,t))!=null&&(o<n||o===void 0&&n>=n)&&(o=n)}return o}function Zr(t,r,o){t=+t,r=+r,o=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+o;for(var e=-1,n=Math.max(0,Math.ceil((r-t)/o))|0,i=new Array(n);++e<n;)i[e]=t+e*o;return i}function Wt(t,r){let o=0;if(r===void 0)for(let e of t)(e=+e)&&(o+=e);else{let e=-1;for(let n of t)(n=+r(n,++e,t))&&(o+=n)}return o}function Or(t){return t}var $0=1,B0=2,rt=3,d0=4,Et=1e-6;function _r(t){return"translate("+t+",0)"}function vr(t){return"translate(0,"+t+")"}function xr(t){return r=>+t(r)}function wr(t,r){return r=Math.max(0,t.bandwidth()-r*2)/2,t.round()&&(r=Math.round(r)),o=>+t(o)+r}function Mr(){return!this.__axis}function Ht(t,r){var o=[],e=null,n=null,i=6,a=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,p=t===$0||t===d0?-1:1,c=t===d0||t===B0?"x":"y",f=t===$0||t===rt?_r:vr;function s(g){var h=e??(r.ticks?r.ticks.apply(r,o):r.domain()),m=n??(r.tickFormat?r.tickFormat.apply(r,o):Or),D=Math.max(i,0)+u,C=r.range(),d=+C[0]+l,L=+C[C.length-1]+l,P=(r.bandwidth?wr:xr)(r.copy(),l),E=g.selection?g.selection():g,_=E.selectAll(".domain").data([null]),v=E.selectAll(".tick").data(h,r).order(),x=v.exit(),M=v.enter().append("g").attr("class","tick"),w=v.select("line"),y=v.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),v=v.merge(M),w=w.merge(M.append("line").attr("stroke","currentColor").attr(c+"2",p*i)),y=y.merge(M.append("text").attr("fill","currentColor").attr(c,p*D).attr("dy",t===$0?"0em":t===rt?"0.71em":"0.32em")),g!==E&&(_=_.transition(g),v=v.transition(g),w=w.transition(g),y=y.transition(g),x=x.transition(g).attr("opacity",Et).attr("transform",function(I){return isFinite(I=P(I))?f(I+l):this.getAttribute("transform")}),M.attr("opacity",Et).attr("transform",function(I){var U=this.parentNode.__axis;return f((U&&isFinite(U=U(I))?U:P(I))+l)})),x.remove(),_.attr("d",t===d0||t===B0?a?"M"+p*a+","+d+"H"+l+"V"+L+"H"+p*a:"M"+l+","+d+"V"+L:a?"M"+d+","+p*a+"V"+l+"H"+L+"V"+p*a:"M"+d+","+l+"H"+L),v.attr("opacity",1).attr("transform",function(I){return f(P(I)+l)}),w.attr(c+"2",p*i),y.attr(c,p*D).text(m),E.filter(Mr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===B0?"start":t===d0?"end":"middle"),E.each(function(){this.__axis=P})}return s.scale=function(g){return arguments.length?(r=g,s):r},s.ticks=function(){return o=Array.from(arguments),s},s.tickArguments=function(g){return arguments.length?(o=g==null?[]:Array.from(g),s):o.slice()},s.tickValues=function(g){return arguments.length?(e=g==null?null:Array.from(g),s):e&&e.slice()},s.tickFormat=function(g){return arguments.length?(n=g,s):n},s.tickSize=function(g){return arguments.length?(i=a=+g,s):i},s.tickSizeInner=function(g){return arguments.length?(i=+g,s):i},s.tickSizeOuter=function(g){return arguments.length?(a=+g,s):a},s.tickPadding=function(g){return arguments.length?(u=+g,s):u},s.offset=function(g){return arguments.length?(l=+g,s):l},s}function Qt(t){return Ht(rt,t)}function Gt(t){return Ht(d0,t)}function K(t){return typeof t=="string"?new mt([[document.querySelector(t)]],[document.documentElement]):new mt([[t]],lr)}function Rr(t,r){r||(r=[]);var o=t?Math.min(r.length,t.length):0,e=r.slice(),n;return function(i){for(n=0;n<o;++n)e[n]=t[n]*(1-i)+r[n]*i;return e}}function br(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Ar(t,r){var o=r?r.length:0,e=t?Math.min(o,t.length):0,n=new Array(e),i=new Array(o),a;for(a=0;a<e;++a)n[a]=at(t[a],r[a]);for(;a<o;++a)i[a]=r[a];return function(u){for(a=0;a<e;++a)i[a]=n[a](u);return i}}function kr(t,r){var o=new Date;return t=+t,r=+r,function(e){return o.setTime(t*(1-e)+r*e),o}}function Nr(t,r){var o={},e={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?o[n]=at(t[n],r[n]):e[n]=r[n];return function(i){for(n in o)e[n]=o[n](i);return e}}function at(t,r){var o=typeof r,e;return r==null||o==="boolean"?fr(r):(o==="number"?K0:o==="string"?(e=Lt(r))?(r=e,Ut):cr:r instanceof Lt?Ut:r instanceof Date?kr:br(r)?Rr:Array.isArray(r)?Ar:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Nr:K0)(t,r)}function Sr(t,r){return t=+t,r=+r,function(o){return Math.round(t*(1-o)+r*o)}}const ot=Math.PI,et=2*ot,a0=1e-6,jr=et-a0;function Jt(t){this._+=t[0];for(let r=1,o=t.length;r<o;++r)this._+=arguments[r]+t[r]}function Tr(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return Jt;const o=10**r;return function(e){this._+=e[0];for(let n=1,i=e.length;n<i;++n)this._+=Math.round(arguments[n]*o)/o+e[n]}}class qr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?Jt:Tr(r)}moveTo(r,o){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,o){this._append`L${this._x1=+r},${this._y1=+o}`}quadraticCurveTo(r,o,e,n){this._append`Q${+r},${+o},${this._x1=+e},${this._y1=+n}`}bezierCurveTo(r,o,e,n,i,a){this._append`C${+r},${+o},${+e},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(r,o,e,n,i){if(r=+r,o=+o,e=+e,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,u=this._y1,l=e-r,p=n-o,c=a-r,f=u-o,s=c*c+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=o}`;else if(s>a0)if(!(Math.abs(f*l-p*c)>a0)||!i)this._append`L${this._x1=r},${this._y1=o}`;else{let g=e-a,h=n-u,m=l*l+p*p,D=g*g+h*h,C=Math.sqrt(m),d=Math.sqrt(s),L=i*Math.tan((ot-Math.acos((m+s-D)/(2*C*d)))/2),P=L/d,E=L/C;Math.abs(P-1)>a0&&this._append`L${r+P*c},${o+P*f}`,this._append`A${i},${i},0,0,${+(f*g>c*h)},${this._x1=r+E*l},${this._y1=o+E*p}`}}arc(r,o,e,n,i,a){if(r=+r,o=+o,e=+e,a=!!a,e<0)throw new Error(`negative radius: ${e}`);let u=e*Math.cos(n),l=e*Math.sin(n),p=r+u,c=o+l,f=1^a,s=a?n-i:i-n;this._x1===null?this._append`M${p},${c}`:(Math.abs(this._x1-p)>a0||Math.abs(this._y1-c)>a0)&&this._append`L${p},${c}`,e&&(s<0&&(s=s%et+et),s>jr?this._append`A${e},${e},0,1,${f},${r-u},${o-l}A${e},${e},0,1,${f},${this._x1=p},${this._y1=c}`:s>a0&&this._append`A${e},${e},0,${+(s>=ot)},${f},${this._x1=r+e*Math.cos(i)},${this._y1=o+e*Math.sin(i)}`)}rect(r,o,e,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}h${e=+e}v${+n}h${-e}Z`}toString(){return this._}}var yt={},Y0={},V0=34,g0=10,W0=13;function Xt(t){return new Function("d","return {"+t.map(function(r,o){return JSON.stringify(r)+": d["+o+'] || ""'}).join(",")+"}")}function zr(t,r){var o=Xt(t);return function(e,n){return r(o(e),n,t)}}function Pt(t){var r=Object.create(null),o=[];return t.forEach(function(e){for(var n in e)n in r||o.push(r[n]=n)}),o}function z(t,r){var o=t+"",e=o.length;return e<r?new Array(r-e+1).join(0)+o:o}function Fr(t){return t<0?"-"+z(-t,6):t>9999?"+"+z(t,6):z(t,4)}function $r(t){var r=t.getUTCHours(),o=t.getUTCMinutes(),e=t.getUTCSeconds(),n=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Fr(t.getUTCFullYear())+"-"+z(t.getUTCMonth()+1,2)+"-"+z(t.getUTCDate(),2)+(n?"T"+z(r,2)+":"+z(o,2)+":"+z(e,2)+"."+z(n,3)+"Z":e?"T"+z(r,2)+":"+z(o,2)+":"+z(e,2)+"Z":o||r?"T"+z(r,2)+":"+z(o,2)+"Z":"")}function Br(t){var r=new RegExp('["'+t+`
\r]`),o=t.charCodeAt(0);function e(f,s){var g,h,m=n(f,function(D,C){if(g)return g(D,C-1);h=D,g=s?zr(D,s):Xt(D)});return m.columns=h||[],m}function n(f,s){var g=[],h=f.length,m=0,D=0,C,d=h<=0,L=!1;f.charCodeAt(h-1)===g0&&--h,f.charCodeAt(h-1)===W0&&--h;function P(){if(d)return Y0;if(L)return L=!1,yt;var _,v=m,x;if(f.charCodeAt(v)===V0){for(;m++<h&&f.charCodeAt(m)!==V0||f.charCodeAt(++m)===V0;);return(_=m)>=h?d=!0:(x=f.charCodeAt(m++))===g0?L=!0:x===W0&&(L=!0,f.charCodeAt(m)===g0&&++m),f.slice(v+1,_-1).replace(/""/g,'"')}for(;m<h;){if((x=f.charCodeAt(_=m++))===g0)L=!0;else if(x===W0)L=!0,f.charCodeAt(m)===g0&&++m;else if(x!==o)continue;return f.slice(v,_)}return d=!0,f.slice(v,h)}for(;(C=P())!==Y0;){for(var E=[];C!==yt&&C!==Y0;)E.push(C),C=P();s&&(E=s(E,D++))==null||g.push(E)}return g}function i(f,s){return f.map(function(g){return s.map(function(h){return c(g[h])}).join(t)})}function a(f,s){return s==null&&(s=Pt(f)),[s.map(c).join(t)].concat(i(f,s)).join(`
`)}function u(f,s){return s==null&&(s=Pt(f)),i(f,s).join(`
`)}function l(f){return f.map(p).join(`
`)}function p(f){return f.map(c).join(t)}function c(f){return f==null?"":f instanceof Date?$r(f):r.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:e,parseRows:n,format:a,formatBody:u,formatRows:l,formatRow:p,formatValue:c}}var Yr=Br(","),Vr=Yr.parse;function Wr(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function Hr(t,r){return fetch(t,r).then(Wr)}function Qr(t){return function(r,o,e){return arguments.length===2&&typeof o=="function"&&(e=o,o=void 0),Hr(r,o).then(function(n){return t(n,e)})}}var v0=Qr(Vr);function Gr(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function x0(t,r){if((o=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var o,e=t.slice(0,o);return[e.length>1?e[0]+e.slice(2):e,+t.slice(o+1)]}function c0(t){return t=x0(Math.abs(t)),t?t[1]:NaN}function Jr(t,r){return function(o,e){for(var n=o.length,i=[],a=0,u=t[0],l=0;n>0&&u>0&&(l+u+1>e&&(u=Math.max(1,e-l)),i.push(o.substring(n-=u,n+u)),!((l+=u+1)>e));)u=t[a=(a+1)%t.length];return i.reverse().join(r)}}function Xr(t){return function(r){return r.replace(/[0-9]/g,function(o){return t[+o]})}}var Kr=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function w0(t){if(!(r=Kr.exec(t)))throw new Error("invalid format: "+t);var r;return new st({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}w0.prototype=st.prototype;function st(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}st.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function to(t){t:for(var r=t.length,o=1,e=-1,n;o<r;++o)switch(t[o]){case".":e=n=o;break;case"0":e===0&&(e=o),n=o;break;default:if(!+t[o])break t;e>0&&(e=0);break}return e>0?t.slice(0,e)+t.slice(n+1):t}var Kt;function ro(t,r){var o=x0(t,r);if(!o)return t+"";var e=o[0],n=o[1],i=n-(Kt=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,a=e.length;return i===a?e:i>a?e+new Array(i-a+1).join("0"):i>0?e.slice(0,i)+"."+e.slice(i):"0."+new Array(1-i).join("0")+x0(t,Math.max(0,r+i-1))[0]}function It(t,r){var o=x0(t,r);if(!o)return t+"";var e=o[0],n=o[1];return n<0?"0."+new Array(-n).join("0")+e:e.length>n+1?e.slice(0,n+1)+"."+e.slice(n+1):e+new Array(n-e.length+2).join("0")}const Zt={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Gr,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>It(t*100,r),r:It,s:ro,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ot(t){return t}var _t=Array.prototype.map,vt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function oo(t){var r=t.grouping===void 0||t.thousands===void 0?Ot:Jr(_t.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",e=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Ot:Xr(_t.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function p(f){f=w0(f);var s=f.fill,g=f.align,h=f.sign,m=f.symbol,D=f.zero,C=f.width,d=f.comma,L=f.precision,P=f.trim,E=f.type;E==="n"?(d=!0,E="g"):Zt[E]||(L===void 0&&(L=12),P=!0,E="g"),(D||s==="0"&&g==="=")&&(D=!0,s="0",g="=");var _=m==="$"?o:m==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",v=m==="$"?e:/[%p]/.test(E)?a:"",x=Zt[E],M=/[defgprs%]/.test(E);L=L===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function w(y){var I=_,U=v,O,N,Y;if(E==="c")U=x(y)+U,y="";else{y=+y;var W=y<0||1/y<0;if(y=isNaN(y)?l:x(Math.abs(y),L),P&&(y=to(y)),W&&+y==0&&h!=="+"&&(W=!1),I=(W?h==="("?h:u:h==="-"||h==="("?"":h)+I,U=(E==="s"?vt[8+Kt/3]:"")+U+(W&&h==="("?")":""),M){for(O=-1,N=y.length;++O<N;)if(Y=y.charCodeAt(O),48>Y||Y>57){U=(Y===46?n+y.slice(O+1):y.slice(O))+U,y=y.slice(0,O);break}}}d&&!D&&(y=r(y,1/0));var H=I.length+y.length+U.length,T=H<C?new Array(C-H+1).join(s):"";switch(d&&D&&(y=r(T+y,T.length?C-U.length:1/0),T=""),g){case"<":y=I+y+U+T;break;case"=":y=I+T+y+U;break;case"^":y=T.slice(0,H=T.length>>1)+I+y+U+T.slice(H);break;default:y=T+I+y+U;break}return i(y)}return w.toString=function(){return f+""},w}function c(f,s){var g=p((f=w0(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(c0(s)/3)))*3,m=Math.pow(10,-h),D=vt[8+h/3];return function(C){return g(m*C)+D}}return{format:p,formatPrefix:c}}var E0,pt,tr;eo({thousands:",",grouping:[3],currency:["$",""]});function eo(t){return E0=oo(t),pt=E0.format,tr=E0.formatPrefix,E0}function no(t){return Math.max(0,-c0(Math.abs(t)))}function io(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(c0(r)/3)))*3-c0(Math.abs(t)))}function uo(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,c0(r)-c0(t))+1}function ao(t){var r=0,o=t.children,e=o&&o.length;if(!e)r=1;else for(;--e>=0;)r+=o[e].value;t.value=r}function so(){return this.eachAfter(ao)}function po(t,r){let o=-1;for(const e of this)t.call(r,e,++o,this);return this}function lo(t,r){for(var o=this,e=[o],n,i,a=-1;o=e.pop();)if(t.call(r,o,++a,this),n=o.children)for(i=n.length-1;i>=0;--i)e.push(n[i]);return this}function fo(t,r){for(var o=this,e=[o],n=[],i,a,u,l=-1;o=e.pop();)if(n.push(o),i=o.children)for(a=0,u=i.length;a<u;++a)e.push(i[a]);for(;o=n.pop();)t.call(r,o,++l,this);return this}function co(t,r){let o=-1;for(const e of this)if(t.call(r,e,++o,this))return e}function go(t){return this.eachAfter(function(r){for(var o=+t(r.data)||0,e=r.children,n=e&&e.length;--n>=0;)o+=e[n].value;r.value=o})}function ho(t){return this.eachBefore(function(r){r.children&&r.children.sort(t)})}function Co(t){for(var r=this,o=mo(r,t),e=[r];r!==o;)r=r.parent,e.push(r);for(var n=e.length;t!==o;)e.splice(n,0,t),t=t.parent;return e}function mo(t,r){if(t===r)return t;var o=t.ancestors(),e=r.ancestors(),n=null;for(t=o.pop(),r=e.pop();t===r;)n=t,t=o.pop(),r=e.pop();return n}function Lo(){for(var t=this,r=[t];t=t.parent;)r.push(t);return r}function Uo(){return Array.from(this)}function Do(){var t=[];return this.eachBefore(function(r){r.children||t.push(r)}),t}function Eo(){var t=this,r=[];return t.each(function(o){o!==t&&r.push({source:o.parent,target:o})}),r}function*yo(){var t=this,r,o=[t],e,n,i;do for(r=o.reverse(),o=[];t=r.pop();)if(yield t,e=t.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);while(o.length)}function M0(t,r){t instanceof Map?(t=[void 0,t],r===void 0&&(r=Zo)):r===void 0&&(r=Io);for(var o=new R0(t),e,n=[o],i,a,u,l;e=n.pop();)if((a=r(e.data))&&(l=(a=Array.from(a)).length))for(e.children=a,u=l-1;u>=0;--u)n.push(i=a[u]=new R0(a[u])),i.parent=e,i.depth=e.depth+1;return o.eachBefore(_o)}function Po(){return M0(this).eachBefore(Oo)}function Io(t){return t.children}function Zo(t){return Array.isArray(t)?t[1]:null}function Oo(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function _o(t){var r=0;do t.height=r;while((t=t.parent)&&t.height<++r)}function R0(t){this.data=t,this.depth=this.height=0,this.parent=null}R0.prototype=M0.prototype={constructor:R0,count:so,each:po,eachAfter:fo,eachBefore:lo,find:co,sum:go,sort:ho,path:Co,ancestors:Lo,descendants:Uo,leaves:Do,links:Eo,copy:Po,[Symbol.iterator]:yo};function vo(t){return t==null?null:xo(t)}function xo(t){if(typeof t!="function")throw new Error;return t}function xt(){return 0}function wo(t){return function(){return t}}const Mo=1664525,Ro=1013904223,wt=4294967296;function bo(){let t=1;return()=>(t=(Mo*t+Ro)%wt)/wt}function Ao(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ko(t,r){let o=t.length,e,n;for(;o;)n=r()*o--|0,e=t[o],t[o]=t[n],t[n]=e;return t}function No(t,r){for(var o=0,e=(t=ko(Array.from(t),r)).length,n=[],i,a;o<e;)i=t[o],a&&rr(a,i)?++o:(a=jo(n=So(n,i)),o=0);return a}function So(t,r){var o,e;if(H0(r,t))return[r];for(o=0;o<t.length;++o)if(y0(r,t[o])&&H0(h0(t[o],r),t))return[t[o],r];for(o=0;o<t.length-1;++o)for(e=o+1;e<t.length;++e)if(y0(h0(t[o],t[e]),r)&&y0(h0(t[o],r),t[e])&&y0(h0(t[e],r),t[o])&&H0(or(t[o],t[e],r),t))return[t[o],t[e],r];throw new Error}function y0(t,r){var o=t.r-r.r,e=r.x-t.x,n=r.y-t.y;return o<0||o*o<e*e+n*n}function rr(t,r){var o=t.r-r.r+Math.max(t.r,r.r,1)*1e-9,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function H0(t,r){for(var o=0;o<r.length;++o)if(!rr(t,r[o]))return!1;return!0}function jo(t){switch(t.length){case 1:return To(t[0]);case 2:return h0(t[0],t[1]);case 3:return or(t[0],t[1],t[2])}}function To(t){return{x:t.x,y:t.y,r:t.r}}function h0(t,r){var o=t.x,e=t.y,n=t.r,i=r.x,a=r.y,u=r.r,l=i-o,p=a-e,c=u-n,f=Math.sqrt(l*l+p*p);return{x:(o+i+l/f*c)/2,y:(e+a+p/f*c)/2,r:(f+n+u)/2}}function or(t,r,o){var e=t.x,n=t.y,i=t.r,a=r.x,u=r.y,l=r.r,p=o.x,c=o.y,f=o.r,s=e-a,g=e-p,h=n-u,m=n-c,D=l-i,C=f-i,d=e*e+n*n-i*i,L=d-a*a-u*u+l*l,P=d-p*p-c*c+f*f,E=g*h-s*m,_=(h*P-m*L)/(E*2)-e,v=(m*D-h*C)/E,x=(g*L-s*P)/(E*2)-n,M=(s*C-g*D)/E,w=v*v+M*M-1,y=2*(i+_*v+x*M),I=_*_+x*x-i*i,U=-(Math.abs(w)>1e-6?(y+Math.sqrt(y*y-4*w*I))/(2*w):I/y);return{x:e+_+v*U,y:n+x+M*U,r:U}}function Mt(t,r,o){var e=t.x-r.x,n,i,a=t.y-r.y,u,l,p=e*e+a*a;p?(i=r.r+o.r,i*=i,l=t.r+o.r,l*=l,i>l?(n=(p+l-i)/(2*p),u=Math.sqrt(Math.max(0,l/p-n*n)),o.x=t.x-n*e-u*a,o.y=t.y-n*a+u*e):(n=(p+i-l)/(2*p),u=Math.sqrt(Math.max(0,i/p-n*n)),o.x=r.x+n*e-u*a,o.y=r.y+n*a+u*e)):(o.x=r.x+o.r,o.y=r.y)}function Rt(t,r){var o=t.r+r.r-1e-6,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function bt(t){var r=t._,o=t.next._,e=r.r+o.r,n=(r.x*o.r+o.x*r.r)/e,i=(r.y*o.r+o.y*r.r)/e;return n*n+i*i}function P0(t){this._=t,this.next=null,this.previous=null}function qo(t,r){if(!(i=(t=Ao(t)).length))return 0;var o,e,n,i,a,u,l,p,c,f,s;if(o=t[0],o.x=0,o.y=0,!(i>1))return o.r;if(e=t[1],o.x=-e.r,e.x=o.r,e.y=0,!(i>2))return o.r+e.r;Mt(e,o,n=t[2]),o=new P0(o),e=new P0(e),n=new P0(n),o.next=n.previous=e,e.next=o.previous=n,n.next=e.previous=o;t:for(l=3;l<i;++l){Mt(o._,e._,n=t[l]),n=new P0(n),p=e.next,c=o.previous,f=e._.r,s=o._.r;do if(f<=s){if(Rt(p._,n._)){e=p,o.next=e,e.previous=o,--l;continue t}f+=p._.r,p=p.next}else{if(Rt(c._,n._)){o=c,o.next=e,e.previous=o,--l;continue t}s+=c._.r,c=c.previous}while(p!==c.next);for(n.previous=o,n.next=e,o.next=e.previous=e=n,a=bt(o);(n=n.next)!==e;)(u=bt(n))<a&&(o=n,a=u);e=o.next}for(o=[e._],n=e;(n=n.next)!==e;)o.push(n._);for(n=No(o,r),l=0;l<i;++l)o=t[l],o.x-=n.x,o.y-=n.y;return n.r}function zo(t){return Math.sqrt(t.value)}function At(){var t=null,r=1,o=1,e=xt;function n(i){const a=bo();return i.x=r/2,i.y=o/2,t?i.eachBefore(kt(t)).eachAfter(Q0(e,.5,a)).eachBefore(Nt(1)):i.eachBefore(kt(zo)).eachAfter(Q0(xt,1,a)).eachAfter(Q0(e,i.r/Math.min(r,o),a)).eachBefore(Nt(Math.min(r,o)/(2*i.r))),i}return n.radius=function(i){return arguments.length?(t=vo(i),n):t},n.size=function(i){return arguments.length?(r=+i[0],o=+i[1],n):[r,o]},n.padding=function(i){return arguments.length?(e=typeof i=="function"?i:wo(+i),n):e},n}function kt(t){return function(r){r.children||(r.r=Math.max(0,+t(r)||0))}}function Q0(t,r,o){return function(e){if(n=e.children){var n,i,a=n.length,u=t(e)*r||0,l;if(u)for(i=0;i<a;++i)n[i].r+=u;if(l=qo(n,o),u)for(i=0;i<a;++i)n[i].r-=u;e.r=l+u}}}function Nt(t){return function(r){var o=r.parent;r.r*=t,o&&(r.x=o.x+t*r.x,r.y=o.y+t*r.y)}}function lt(){var t=ut().unknown(void 0),r=t.domain,o=t.range,e=0,n=1,i,a,u=!1,l=0,p=0,c=.5;delete t.unknown;function f(){var s=r().length,g=n<e,h=g?n:e,m=g?e:n;i=(m-h)/Math.max(1,s-l+p*2),u&&(i=Math.floor(i)),h+=(m-h-i*(s-l))*c,a=i*(1-l),u&&(h=Math.round(h),a=Math.round(a));var D=Zr(s).map(function(C){return h+i*C});return o(g?D.reverse():D)}return t.domain=function(s){return arguments.length?(r(s),f()):r()},t.range=function(s){return arguments.length?([e,n]=s,e=+e,n=+n,f()):[e,n]},t.rangeRound=function(s){return[e,n]=s,e=+e,n=+n,u=!0,f()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(s){return arguments.length?(u=!!s,f()):u},t.padding=function(s){return arguments.length?(l=Math.min(1,p=+s),f()):l},t.paddingInner=function(s){return arguments.length?(l=Math.min(1,s),f()):l},t.paddingOuter=function(s){return arguments.length?(p=+s,f()):p},t.align=function(s){return arguments.length?(c=Math.max(0,Math.min(1,s)),f()):c},t.copy=function(){return lt(r(),[e,n]).round(u).paddingInner(l).paddingOuter(p).align(c)},Ft.apply(f(),arguments)}function Fo(t){return function(){return t}}function $o(t){return+t}var St=[0,1];function l0(t){return t}function nt(t,r){return(r-=t=+t)?function(o){return(o-t)/r}:Fo(isNaN(r)?NaN:.5)}function Bo(t,r){var o;return t>r&&(o=t,t=r,r=o),function(e){return Math.max(t,Math.min(r,e))}}function Yo(t,r,o){var e=t[0],n=t[1],i=r[0],a=r[1];return n<e?(e=nt(n,e),i=o(a,i)):(e=nt(e,n),i=o(i,a)),function(u){return i(e(u))}}function Vo(t,r,o){var e=Math.min(t.length,r.length)-1,n=new Array(e),i=new Array(e),a=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++a<e;)n[a]=nt(t[a],t[a+1]),i[a]=o(r[a],r[a+1]);return function(u){var l=Lr(t,u,1,e)-1;return i[l](n[l](u))}}function Wo(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Ho(){var t=St,r=St,o=at,e,n,i,a=l0,u,l,p;function c(){var s=Math.min(t.length,r.length);return a!==l0&&(a=Bo(t[0],t[s-1])),u=s>2?Vo:Yo,l=p=null,f}function f(s){return s==null||isNaN(s=+s)?i:(l||(l=u(t.map(e),r,o)))(e(a(s)))}return f.invert=function(s){return a(n((p||(p=u(r,t.map(e),K0)))(s)))},f.domain=function(s){return arguments.length?(t=Array.from(s,$o),c()):t.slice()},f.range=function(s){return arguments.length?(r=Array.from(s),c()):r.slice()},f.rangeRound=function(s){return r=Array.from(s),o=Sr,c()},f.clamp=function(s){return arguments.length?(a=s?!0:l0,c()):a!==l0},f.interpolate=function(s){return arguments.length?(o=s,c()):o},f.unknown=function(s){return arguments.length?(i=s,f):i},function(s,g){return e=s,n=g,c()}}function Qo(){return Ho()(l0,l0)}function Go(t,r,o,e){var n=Ir(t,r,o),i;switch(e=w0(e??",f"),e.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(r));return e.precision==null&&!isNaN(i=io(n,a))&&(e.precision=i),tr(e,a)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(i=uo(n,Math.max(Math.abs(t),Math.abs(r))))&&(e.precision=i-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(i=no(n))&&(e.precision=i-(e.type==="%")*2);break}}return pt(e)}function Jo(t){var r=t.domain;return t.ticks=function(o){var e=r();return Pr(e[0],e[e.length-1],o??10)},t.tickFormat=function(o,e){var n=r();return Go(n[0],n[n.length-1],o??10,e)},t.nice=function(o){o==null&&(o=10);var e=r(),n=0,i=e.length-1,a=e[n],u=e[i],l,p,c=10;for(u<a&&(p=a,a=u,u=p,p=n,n=i,i=p);c-- >0;){if(p=tt(a,u,o),p===l)return e[n]=a,e[i]=u,r(e);if(p>0)a=Math.floor(a/p)*p,u=Math.ceil(u/p)*p;else if(p<0)a=Math.ceil(a*p)/p,u=Math.floor(u*p)/p;else break;l=p}return t},t}function ft(){var t=Qo();return t.copy=function(){return Wo(t,ft())},Ft.apply(t,arguments),Jo(t)}const Xo=$t("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Ko=$t("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928");function b(t){return function(){return t}}const jt=Math.abs,S=Math.atan2,u0=Math.cos,te=Math.max,G0=Math.min,Q=Math.sin,f0=Math.sqrt,q=1e-12,C0=Math.PI,b0=C0/2,O0=2*C0;function re(t){return t>1?0:t<-1?C0:Math.acos(t)}function Tt(t){return t>=1?b0:t<=-1?-b0:Math.asin(t)}function er(t){let r=3;return t.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const e=Math.floor(o);if(!(e>=0))throw new RangeError(`invalid digits: ${o}`);r=e}return t},()=>new qr(r)}function oe(t){return t.innerRadius}function ee(t){return t.outerRadius}function ne(t){return t.startAngle}function ie(t){return t.endAngle}function ue(t){return t&&t.padAngle}function ae(t,r,o,e,n,i,a,u){var l=o-t,p=e-r,c=a-n,f=u-i,s=f*l-c*p;if(!(s*s<q))return s=(c*(r-i)-f*(t-n))/s,[t+s*l,r+s*p]}function I0(t,r,o,e,n,i,a){var u=t-o,l=r-e,p=(a?i:-i)/f0(u*u+l*l),c=p*l,f=-p*u,s=t+c,g=r+f,h=o+c,m=e+f,D=(s+h)/2,C=(g+m)/2,d=h-s,L=m-g,P=d*d+L*L,E=n-i,_=s*m-h*g,v=(L<0?-1:1)*f0(te(0,E*E*P-_*_)),x=(_*L-d*v)/P,M=(-_*d-L*v)/P,w=(_*L+d*v)/P,y=(-_*d+L*v)/P,I=x-D,U=M-C,O=w-D,N=y-C;return I*I+U*U>O*O+N*N&&(x=w,M=y),{cx:x,cy:M,x01:-c,y01:-f,x11:x*(n/E-1),y11:M*(n/E-1)}}function se(){var t=oe,r=ee,o=b(0),e=null,n=ne,i=ie,a=ue,u=null,l=er(p);function p(){var c,f,s=+t.apply(this,arguments),g=+r.apply(this,arguments),h=n.apply(this,arguments)-b0,m=i.apply(this,arguments)-b0,D=jt(m-h),C=m>h;if(u||(u=c=l()),g<s&&(f=g,g=s,s=f),!(g>q))u.moveTo(0,0);else if(D>O0-q)u.moveTo(g*u0(h),g*Q(h)),u.arc(0,0,g,h,m,!C),s>q&&(u.moveTo(s*u0(m),s*Q(m)),u.arc(0,0,s,m,h,C));else{var d=h,L=m,P=h,E=m,_=D,v=D,x=a.apply(this,arguments)/2,M=x>q&&(e?+e.apply(this,arguments):f0(s*s+g*g)),w=G0(jt(g-s)/2,+o.apply(this,arguments)),y=w,I=w,U,O;if(M>q){var N=Tt(M/s*Q(x)),Y=Tt(M/g*Q(x));(_-=N*2)>q?(N*=C?1:-1,P+=N,E-=N):(_=0,P=E=(h+m)/2),(v-=Y*2)>q?(Y*=C?1:-1,d+=Y,L-=Y):(v=0,d=L=(h+m)/2)}var W=g*u0(d),H=g*Q(d),T=s*u0(E),L0=s*Q(E);if(w>q){var U0=g*u0(L),D0=g*Q(L),N0=s*u0(P),S0=s*Q(P),J;if(D<C0)if(J=ae(W,H,N0,S0,U0,D0,T,L0)){var j0=W-J[0],T0=H-J[1],q0=U0-J[0],z0=D0-J[1],ct=1/Q(re((j0*q0+T0*z0)/(f0(j0*j0+T0*T0)*f0(q0*q0+z0*z0)))/2),gt=f0(J[0]*J[0]+J[1]*J[1]);y=G0(w,(s-gt)/(ct-1)),I=G0(w,(g-gt)/(ct+1))}else y=I=0}v>q?I>q?(U=I0(N0,S0,W,H,g,I,C),O=I0(U0,D0,T,L0,g,I,C),u.moveTo(U.cx+U.x01,U.cy+U.y01),I<w?u.arc(U.cx,U.cy,I,S(U.y01,U.x01),S(O.y01,O.x01),!C):(u.arc(U.cx,U.cy,I,S(U.y01,U.x01),S(U.y11,U.x11),!C),u.arc(0,0,g,S(U.cy+U.y11,U.cx+U.x11),S(O.cy+O.y11,O.cx+O.x11),!C),u.arc(O.cx,O.cy,I,S(O.y11,O.x11),S(O.y01,O.x01),!C))):(u.moveTo(W,H),u.arc(0,0,g,d,L,!C)):u.moveTo(W,H),!(s>q)||!(_>q)?u.lineTo(T,L0):y>q?(U=I0(T,L0,U0,D0,s,-y,C),O=I0(W,H,N0,S0,s,-y,C),u.lineTo(U.cx+U.x01,U.cy+U.y01),y<w?u.arc(U.cx,U.cy,y,S(U.y01,U.x01),S(O.y01,O.x01),!C):(u.arc(U.cx,U.cy,y,S(U.y01,U.x01),S(U.y11,U.x11),!C),u.arc(0,0,s,S(U.cy+U.y11,U.cx+U.x11),S(O.cy+O.y11,O.cx+O.x11),C),u.arc(O.cx,O.cy,y,S(O.y11,O.x11),S(O.y01,O.x01),!C))):u.arc(0,0,s,E,P,C)}if(u.closePath(),c)return u=null,c+""||null}return p.centroid=function(){var c=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,f=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2-C0/2;return[u0(f)*c,Q(f)*c]},p.innerRadius=function(c){return arguments.length?(t=typeof c=="function"?c:b(+c),p):t},p.outerRadius=function(c){return arguments.length?(r=typeof c=="function"?c:b(+c),p):r},p.cornerRadius=function(c){return arguments.length?(o=typeof c=="function"?c:b(+c),p):o},p.padRadius=function(c){return arguments.length?(e=c==null?null:typeof c=="function"?c:b(+c),p):e},p.startAngle=function(c){return arguments.length?(n=typeof c=="function"?c:b(+c),p):n},p.endAngle=function(c){return arguments.length?(i=typeof c=="function"?c:b(+c),p):i},p.padAngle=function(c){return arguments.length?(a=typeof c=="function"?c:b(+c),p):a},p.context=function(c){return arguments.length?(u=c??null,p):u},p}function nr(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ir(t){this._context=t}ir.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function pe(t){return new ir(t)}function le(t){return t[0]}function fe(t){return t[1]}function qt(t,r){var o=b(!0),e=null,n=pe,i=null,a=er(u);t=typeof t=="function"?t:t===void 0?le:b(t),r=typeof r=="function"?r:r===void 0?fe:b(r);function u(l){var p,c=(l=nr(l)).length,f,s=!1,g;for(e==null&&(i=n(g=a())),p=0;p<=c;++p)!(p<c&&o(f=l[p],p,l))===s&&((s=!s)?i.lineStart():i.lineEnd()),s&&i.point(+t(f,p,l),+r(f,p,l));if(g)return i=null,g+""||null}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:b(+l),u):t},u.y=function(l){return arguments.length?(r=typeof l=="function"?l:b(+l),u):r},u.defined=function(l){return arguments.length?(o=typeof l=="function"?l:b(!!l),u):o},u.curve=function(l){return arguments.length?(n=l,e!=null&&(i=n(e)),u):n},u.context=function(l){return arguments.length?(l==null?e=i=null:i=n(e=l),u):e},u}function ce(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function ge(t){return t}function de(){var t=ge,r=ce,o=null,e=b(0),n=b(O0),i=b(0);function a(u){var l,p=(u=nr(u)).length,c,f,s=0,g=new Array(p),h=new Array(p),m=+e.apply(this,arguments),D=Math.min(O0,Math.max(-O0,n.apply(this,arguments)-m)),C,d=Math.min(Math.abs(D)/p,i.apply(this,arguments)),L=d*(D<0?-1:1),P;for(l=0;l<p;++l)(P=h[g[l]=l]=+t(u[l],l,u))>0&&(s+=P);for(r!=null?g.sort(function(E,_){return r(h[E],h[_])}):o!=null&&g.sort(function(E,_){return o(u[E],u[_])}),l=0,f=s?(D-p*L)/s:0;l<p;++l,m=C)c=g[l],P=h[c],C=m+(P>0?P*f:0)+L,h[c]={data:u[c],index:l,value:P,startAngle:m,endAngle:C,padAngle:d};return h}return a.value=function(u){return arguments.length?(t=typeof u=="function"?u:b(+u),a):t},a.sortValues=function(u){return arguments.length?(r=u,o=null,a):r},a.sort=function(u){return arguments.length?(o=u,r=null,a):o},a.startAngle=function(u){return arguments.length?(e=typeof u=="function"?u:b(+u),a):e},a.endAngle=function(u){return arguments.length?(n=typeof u=="function"?u:b(+u),a):n},a.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:b(+u),a):i},a}var he=X('<section class="scrolly svelte-14jsymd"><section class="story svelte-14jsymd"><!></section> <section class="viz svelte-14jsymd"><!></section></section>');function Se(t,r){var y;i0(r,!1);let o=j(r,"progress",4,0),e=j(r,"progressRaw",4,0),n=j(r,"threshold",0,.5),i=j(r,"margin",0,30),a=j(r,"debounce",0,!1),u=j(r,"throttle",0,!1),l=A(),p=A(),c,f,s,g={},h,m;const D=(I,U,O)=>Math.min(Math.max(I,U),O),C=(I,U,O)=>100*(I-U)/(O-U),d=I=>I(),L=I=>I;let P=A(),E=A();m0(()=>{function I({top:N=Z(l).getBoundingClientRect().top}={}){e(C(N,c,f)),U()}function U(){let N=D(0,e(),100);N===0||N===100?o(N):Z(E)(Z(P)(()=>o(N)))}function O(){g=Z(l).getBoundingClientRect(),s=window.scrollY+g.top,c=Math.min(s,innerHeight*n())+i(),f=innerHeight-g.height+i(),I(g)}h=new IntersectionObserver(N=>{let Y=N.at(-1);Y.intersectionRatio,Y.isIntersecting?(O(),I(),window.addEventListener("scroll",I),window.addEventListener("resize",O),m==null||m.observe(Z(l))):(window.removeEventListener("scroll",I),window.removeEventListener("resize",O),m==null||m.unobserve(Z(l)))}),h.observe(Z(l),{rootMargin:(i()??0)+"px",threshold:n()}),m=new ResizeObserver(O),O()}),$(()=>{o0(u()),B(()=>{let I=0;R(P,u()>0?function(U){return function(){let O=performance.now();O-I>=u()&&(U(),I=O)}}:L)})}),$(()=>{o0(a()),B(()=>{let I;R(E,a()?a()>0?function(U){clearTimeout(I),I=setTimeout(U,a())}:function(U){cancelAnimationFrame(I),I=requestAnimationFrame(U)}:d)})}),e0();var _=r0(t,!0,he);dt(_,I=>R(l,I),()=>Z(l));var v=V(_),x=V(v),M=k(k(v,!0));dt(M,I=>R(p,I),()=>Z(p));var w=V(M);p0(_,"style",()=>`--scrolly-margin: ${s0(i())}`),ht(x,r.children,{},null),ht(w,(y=r.$$slots)==null?void 0:y.viz,{},null),t0(t,_),n0()}const Ce=[{ZIPCODE:"02238",count_of_address:1,Latitude_generated:42.375,longitude_generated:-71.10610199},{ZIPCODE:"02215",count_of_address:28,Latitude_generated:42.3472,longitude_generated:-71.099688298},{ZIPCODE:"02210",count_of_address:10,Latitude_generated:42.347000122,longitude_generated:-71.041000366},{ZIPCODE:"02199",count_of_address:1,Latitude_generated:42.346599579,longitude_generated:-71.082702637},{ZIPCODE:"02142",count_of_address:5,Latitude_generated:42.36289978,longitude_generated:-71.084701538},{ZIPCODE:"02141",count_of_address:24,Latitude_generated:42.370399475,longitude_generated:-71.082199097},{ZIPCODE:"02140-1841",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140-1124",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140",count_of_address:24,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02139-4745",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-4019",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-3928",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1116",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1113",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1017",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139",count_of_address:50,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02138-6832",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4646",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4531",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-2121",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138",count_of_address:48,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02136",count_of_address:115,Latitude_generated:42.254573275,longitude_generated:-71.125281891},{ZIPCODE:"02133",count_of_address:1,Latitude_generated:42.357898712,longitude_generated:-71.063499451},{ZIPCODE:"02132",count_of_address:75,Latitude_generated:42.278388487,longitude_generated:-71.16006103},{ZIPCODE:"02131",count_of_address:233,Latitude_generated:42.28275,longitude_generated:-71.125859439},{ZIPCODE:"02130",count_of_address:255,Latitude_generated:42.307899475,longitude_generated:-71.112701416},{ZIPCODE:"02129",count_of_address:89,Latitude_generated:42.379199982,longitude_generated:-71.064399719},{ZIPCODE:"02128",count_of_address:212,Latitude_generated:42.37275,longitude_generated:-71.02818},{ZIPCODE:"02127",count_of_address:277,Latitude_generated:42.3357,longitude_generated:-71.040740733},{ZIPCODE:"02126",count_of_address:26,Latitude_generated:42.276500702,longitude_generated:-71.093002319},{ZIPCODE:"02125",count_of_address:136,Latitude_generated:42.31865,longitude_generated:-71.057624145},{ZIPCODE:"02124",count_of_address:121,Latitude_generated:42.285853705,longitude_generated:-71.071814029},{ZIPCODE:"02122",count_of_address:126,Latitude_generated:42.29445,longitude_generated:-71.052695703},{ZIPCODE:"02121",count_of_address:55,Latitude_generated:42.307373545,longitude_generated:-71.082806865},{ZIPCODE:"02120",count_of_address:37,Latitude_generated:42.332656641,longitude_generated:-71.095659537},{ZIPCODE:"02119",count_of_address:111,Latitude_generated:42.3238,longitude_generated:-71.083608708},{ZIPCODE:"02118",count_of_address:82,Latitude_generated:42.3379156,longitude_generated:-71.069753417},{ZIPCODE:"02116",count_of_address:56,Latitude_generated:42.349179535,longitude_generated:-71.074520575},{ZIPCODE:"02115",count_of_address:31,Latitude_generated:42.34155,longitude_generated:-71.088459936},{ZIPCODE:"02114",count_of_address:20,Latitude_generated:42.362201691,longitude_generated:-71.066398621},{ZIPCODE:"02113",count_of_address:18,Latitude_generated:42.364299774,longitude_generated:-71.057502747},{ZIPCODE:"02111",count_of_address:3,Latitude_generated:42.350741429,longitude_generated:-71.05914918},{ZIPCODE:"02110",count_of_address:6,Latitude_generated:42.355850624,longitude_generated:-71.055570374},{ZIPCODE:"02109",count_of_address:6,Latitude_generated:42.3632,longitude_generated:-71.053075619},{ZIPCODE:"02108",count_of_address:23,Latitude_generated:42.356001176,longitude_generated:-71.066357458}],me=[{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01742"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01757"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01760"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01824"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"01845"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01880"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01890"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01940"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01945"},{1800:1,1810:0,1820:1,1830:0,1840:1,1850:0,1860:0,1870:1,1880:0,1890:12,1900:3,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02108"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:1,2010:0,2020:0,ZIPCODE:"02109"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02110"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02111"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:4,1900:3,1910:3,1920:3,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:1,1870:0,1880:1,1890:3,1900:2,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:4,2020:0,ZIPCODE:"02114"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:9,1900:1,1910:2,1920:2,1930:2,1940:0,1950:0,1960:1,1970:1,1980:1,1990:1,2e3:0,2010:1,2020:0,ZIPCODE:"02115"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:2,1870:1,1880:3,1890:26,1900:6,1910:4,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:1,1990:2,2e3:3,2010:0,2020:2,ZIPCODE:"02116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:14,1870:2,1880:0,1890:27,1900:10,1910:3,1920:4,1930:1,1940:0,1950:1,1960:0,1970:2,1980:2,1990:1,2e3:2,2010:2,2020:0,ZIPCODE:"02118"},{1800:0,1810:0,1820:0,1830:0,1840:1,1850:1,1860:0,1870:3,1880:7,1890:16,1900:26,1910:3,1920:1,1930:1,1940:0,1950:1,1960:3,1970:3,1980:2,1990:4,2e3:18,2010:5,2020:2,ZIPCODE:"02119"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:1,1900:6,1910:1,1920:1,1930:1,1940:0,1950:0,1960:3,1970:0,1980:11,1990:1,2e3:7,2010:0,2020:2,ZIPCODE:"02120"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:4,1900:15,1910:9,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:5,2010:5,2020:2,ZIPCODE:"02121"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:1,1880:2,1890:6,1900:45,1910:11,1920:16,1930:3,1940:1,1950:0,1960:0,1970:0,1980:6,1990:2,2e3:8,2010:9,2020:7,ZIPCODE:"02122"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:3,1890:15,1900:32,1910:9,1920:18,1930:7,1940:2,1950:1,1960:0,1970:0,1980:2,1990:7,2e3:11,2010:5,2020:3,ZIPCODE:"02124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:7,1890:14,1900:48,1910:7,1920:6,1930:3,1940:0,1950:0,1960:0,1970:0,1980:5,1990:1,2e3:16,2010:15,2020:5,ZIPCODE:"02125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:4,1920:6,1930:4,1940:0,1950:1,1960:0,1970:1,1980:1,1990:0,2e3:3,2010:2,2020:1,ZIPCODE:"02126"},{1800:1,1810:0,1820:0,1830:1,1840:0,1850:0,1860:1,1870:7,1880:5,1890:49,1900:62,1910:18,1920:8,1930:2,1940:1,1950:0,1960:5,1970:1,1980:21,1990:7,2e3:16,2010:45,2020:16,ZIPCODE:"02127"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:1,1870:5,1880:11,1890:12,1900:81,1910:28,1920:8,1930:1,1940:2,1950:0,1960:2,1970:0,1980:4,1990:1,2e3:2,2010:29,2020:13,ZIPCODE:"02128"},{1800:1,1810:0,1820:1,1830:2,1840:1,1850:5,1860:7,1870:15,1880:13,1890:9,1900:5,1910:3,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:2,2e3:7,2010:7,2020:3,ZIPCODE:"02129"},{1800:1,1810:0,1820:0,1830:0,1840:1,1850:0,1860:2,1870:5,1880:12,1890:15,1900:74,1910:24,1920:30,1930:7,1940:1,1950:2,1960:2,1970:0,1980:5,1990:7,2e3:29,2010:19,2020:7,ZIPCODE:"02130"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:9,1890:11,1900:36,1910:37,1920:51,1930:9,1940:0,1950:0,1960:6,1970:2,1980:15,1990:3,2e3:18,2010:15,2020:10,ZIPCODE:"02131"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:5,1900:4,1910:7,1920:23,1930:3,1940:4,1950:4,1960:8,1970:2,1980:3,1990:3,2e3:4,2010:0,2020:1,ZIPCODE:"02132"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:2,1880:2,1890:5,1900:13,1910:16,1920:10,1930:6,1940:4,1950:5,1960:9,1970:1,1980:9,1990:4,2e3:19,2010:4,2020:2,ZIPCODE:"02136"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:2,1870:2,1880:1,1890:3,1900:5,1910:8,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:3,2020:0,ZIPCODE:"02138"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-1915"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4531"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4646"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-6832"},{1800:0,1810:0,1820:0,1830:1,1840:2,1850:0,1860:0,1870:4,1880:4,1890:6,1900:7,1910:6,1920:1,1930:0,1940:0,1950:0,1960:0,1970:1,1980:1,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02139"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1017"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-3125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4019"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4423"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4430"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4745"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:2,1900:2,1910:1,1920:3,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02140"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1610"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1841"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-3304"},{1800:0,1810:0,1820:0,1830:1,1840:0,1850:1,1860:0,1870:0,1880:0,1890:2,1900:5,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:1,1980:0,1990:0,2e3:2,2010:2,2020:1,ZIPCODE:"02141"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02141-1931"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02142"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02199"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:1,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02210"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:10,1900:7,1910:4,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:1,2e3:1,2010:1,2020:0,ZIPCODE:"02215"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02421"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02458"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02460"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02461"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02472"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02474"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"03246"}];var Le=it('<rect class="bar svelte-76qd0p" fill="orange"></rect>'),Ue=it('<svg id="barchart-svg"><g><!><g class="x-axis svelte-76qd0p"><text text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Year Built</text></g><g class="y-axis svelte-76qd0p"><text transform="rotate(-90)" text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Number of Buildings</text></g></g></svg>');function De(t,r){i0(r,!1);let o=j(r,"dataArray",8,()=>[]),e={top:20,right:30,bottom:70,left:80},n=960-e.left-e.right,i=500-e.top-e.bottom;const a=lt().domain(o().map(E=>E.year)).range([0,n]).padding(.1),u=ft().domain([0,Vt(o(),E=>E.count)]).range([i,0]),l=Qt(a).tickFormat(pt("d")),p=Gt(u).ticks(5);function c(){K(".x-axis").call(l),K(".y-axis").call(p)}m0(()=>{c()}),e0();var f=r0(t,!0,Ue),s=V(f),g=V(s),h=k(g);G(h,"transform",`translate(0, ${i})`);var m=V(h);G(m,"x",n/2),G(m,"y",40);var D=k(h),C=V(D);G(C,"x",-i/2),G(C,"y",-50);var d,L,P;J0(()=>{d!==(d=n+e.left+e.right)&&G(f,"width",d),L!==(L=i+e.top+e.bottom)&&G(f,"height",L),P!==(P=`translate(${e.left},${e.top})`)&&G(s,"transform",P)}),gr(g,o,7,(E,_)=>F(E).year,(E,_,v)=>{var x=r0(E,!0,Le);p0(x,"x",()=>a(F(_).year)),p0(x,"y",()=>u(F(_).count)),p0(x,"width",()=>a.bandwidth()),p0(x,"height",()=>i-u(F(_).count)),t0(E,x)},null),t0(t,f),n0()}var Ee=X('<h1>Year Converted Property was Built</h1> <blockquote><a href="https://homesforprofit.mapc.org/report">Investors upgrading residential properties into condos can displace residents due to subsequent rent increases.</a> Here, we display the number of condo conversions against the year the building was built. While imperfect, we use how early a building was constructed as a proxy for how likely the condo conversion upgraded the property.</blockquote> <!>',!0);function je(t,r){i0(r,!1),j(r,"hLevel",0,2);let o=j(r,"query",0,""),e=A(),n=A(),i,a=A(),u=A(),l=A(),p=-1,c=A(),f=A(),s=A();function g(d){const L={};return d.forEach(P=>{const E=P.substring(0,5);L[E]||(L[E]=[]),L[E].push(P.substring(0,5))}),L}$(()=>{o0(o()),B(()=>{R(e,Ce.filter(d=>o()?Object.values(d).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),$(()=>{o0(o()),B(()=>{R(n,me.filter(d=>o()?Object.values(d).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),$(()=>{Z(a),Z(e),Z(u),Z(n),Z(l),B(()=>{R(a,Yt(Z(e),d=>Wt(d,L=>L.Count_of_LU_prior),d=>d.LU_prior_group)),console.log("Rolled ",Z(a)),R(u,Z(n).reduce((d,L)=>(Object.keys(L).forEach(P=>{P!=="ZIPCODE"&&(d[P]||(d[P]=0),d[P]+=L[P])}),d),{})),console.log("Agg Year Built",Z(u)),R(l,Object.keys(Z(u)).map(d=>({year:parseInt(d),count:Z(u)[d]})).sort((d,L)=>d.year-L.year)),console.log("Year Built Data Array ",Z(l))})}),$(()=>{B(()=>{R(c,p>-1?i[p].label:null)})}),$(()=>{Z(f),Z(e),B(()=>{R(f,Z(e).map(d=>d.ZIPCODE)),R(s,new Set(Object.values(g(Z(f))).flat()))})}),e0();var h=k0(t,!0,Ee),m=zt(h),D=k(k(m,!0)),C=k(k(D,!0));De(C,{get dataArray(){return Z(l)}}),A0(t,h),n0()}var ye=X('<h1>Complaints by Zipcode</h1> <blockquote scrolly-container="">We categorized the complaints into groups to demonstrate the impact of condominium development both on residents and the surrounding neighborhood.</blockquote> <svg id="bubblechart-svg"></svg> <div class="legend"></div>',!0);function Te(t,r){i0(r,!1);let o=j(r,"query",0,""),e,n=960,i=500;const a={top:20,right:20,bottom:30,left:40},u=ut(Xo);async function l(f){const s=await v0("complaints_count_zipcode.csv");s.columns=s.columns.map(d=>d.trim().replace(/[^\x20-\x7E]+/g,""));const g=s.filter(d=>f?d["Zip Code"]===f:!0),h=At().size([n-a.left-a.right,i-a.top-a.bottom]).padding(10),m=M0({children:g}).sum(d=>+d["Count of Description"]),D=h(m).descendants();e=K("#bubblechart-svg").attr("width",n).attr("height",i).append("g").attr("transform",`translate(${a.left}, ${a.top})`),e.append("text").attr("class","chart title").attr("x",n/2).attr("y",8).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaint Types filed for Condominiums, 2019 to Present"),console.log("ZIP",f),e.selectAll("circle").data(D.slice(1)).enter().append("circle").attr("cx",d=>d.x).attr("cy",d=>d.y).attr("r",d=>d.r).attr("fill",d=>u(d.data["Description (group)"])).attr("opacity",.7).on("mouseover",function(d,L){K(this).append("title").text(L.data["Description (group)"])}).on("mouseout",function(){K(this).select("title").remove()}),console.log(u.domain())}function p(f){f?v0("complaints_count_zipcode.csv").then(s=>{s.columns=s.columns.map(C=>C.trim().replace(/[^\x20-\x7E]+/g,""));const g=s.filter(C=>f?C["Zip Code"]===f:!0),h=M0({children:g}).sum(C=>+C["Count of Description"]),m=At().size([n-a.left-a.right,i-a.top-a.bottom]).padding(10)(h).descendants(),D=e.selectAll("circle").data(m.slice(1));D.transition().duration(750).attr("cx",C=>C.x).attr("cy",C=>C.y).attr("r",C=>C.r),D.enter().append("circle").attr("cx",C=>C.x).attr("cy",C=>C.y).attr("r",C=>C.r).attr("fill",C=>u(C.data["Description (group)"])).attr("opacity",.7).transition().duration(750).attr("r",C=>C.r),D.exit().remove(),D.on("mouseover",function(C,d){K(this).append("title").text(d.data["Description (group)"])}).on("mouseout",function(){K(this).select("title").remove()})}):alert("Please enter a zipcode.")}m0(()=>{l(o())}),$(()=>{o0(o()),B(()=>{o()&&p(o())})}),e0();var c=k0(t,!0,ye);A0(t,c),n0()}var Pe=X('<h1>Condo Complaints</h1> <blockquote scrolly-container="">The <a href="https://data.boston.gov/dataset/rentsmart">RentSmart dataset</a> contains data from Boston’s 311 line and Boston’s Inspectional Services Division on residential property complaints from 2019 to the present.</blockquote> <svg id="linechart-svg" width="960" height="500"></svg>',!0);function qe(t,r){i0(r,!1);let o=j(r,"query",0,""),e,n,i;function a(){const c={top:50,right:250,bottom:80,left:70},f=960-c.left-c.right,s=500-c.top-c.bottom;e=K("#linechart-svg").attr("viewBox",`0 0 1000 ${s+c.top+c.bottom}`).append("g").attr("transform",`translate(${c.left},${c.top})`),n=lt().range([0,f]).padding(.2),e.append("g").attr("class","x-axis").attr("transform",`translate(0,${s})`),e.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",f/2).attr("y",s+40).text("Year"),i=ft().range([s,0]),e.append("g").attr("class","y-axis"),e.append("text").attr("class","y label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",-50).attr("x",-s/2).text("Number of Distinct Buildings or Complaints in a Year"),e.append("text").attr("class","chart title").attr("x",f/2).attr("y",-20).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaints Filed about Condominium Buildings");const g=e.append("g").attr("class","legend").attr("transform",`translate(${f+50}, 20)`),h=[{color:"steelblue",label:"# of Complaints Filed Per Year"},{color:"red",label:"# of Distinct Buildings the Complaints are Filed About"}];let m=0;h.forEach(D=>{const C=D.label.length*8;m=Math.max(m,C)}),m+=10,g.append("rect").attr("class","legend-box").attr("x",-300).attr("y",250).attr("width",m).attr("height",h.length*20+10).attr("fill","none").attr("stroke","black"),h.forEach((D,C)=>{const d=g.append("g").attr("transform",`translate(0, ${C*20+10})`);d.append("rect").attr("x",-285).attr("y",250).attr("width",10).attr("height",10).attr("fill",D.color),d.append("text").attr("x",-270).attr("y",260).attr("font-size","15px").text(D.label)}),u(o())}async function u(p){const c=await v0("complaints_year_zipcode.csv");c.columns=c.columns.map(d=>d.trim().replace(/[^\x20-\x7E]+/g,""));const f=c.filter(d=>p?d["Zip Code"]===p:!0);let s={};f.forEach(d=>{const L=d["Date (Years)"];s[L]||(s[L]={count:0,discounted:0}),s[L].count+=+d["Number of Complaints Filed Per Year"],s[L].discounted+=+d["Number of Distinct Condominum Buildings the Complaints are Filed About"]});let g=Object.keys(s).map(d=>({year:d,count:s[d].count,discounted:s[d].discounted}));const h=qt().x(d=>n(d.year)+n.bandwidth()/2).y(d=>i(d.count)),m=qt().x(d=>n(d.year)+n.bandwidth()/2).y(d=>i(d.discounted));n.domain(g.map(d=>d.year)),e.select(".x-axis").transition().duration(750).call(Qt(n)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),i.domain([0,Vt(g,d=>Math.max(d.count,d.discounted))]),e.select(".y-axis").transition().duration(750).call(Gt(i));let D=e.selectAll(".line-count").data([g],d=>d.year),C=e.selectAll(".line-discounted").data([g],d=>d.year);D.transition().duration(750).attr("d",h(g)),C.transition().duration(750).attr("d",m(g)),D.empty()&&e.append("path").data([g]).attr("class","line-count").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",h),C.empty()&&e.append("path").data([g]).attr("class","line-discounted").attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",m)}m0(()=>{a()}),$(()=>{o0(o()),B(()=>{o()&&u(o())})}),e0();var l=k0(t,!0,Pe);A0(t,l),n0()}const Ie=[{"ZIPCODE post (group)":"02215","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02215","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02210","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02141","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R2","Count of LU prior":8},{"ZIPCODE post (group)":"02141","LU prior groups":"R3","Count of LU prior":7},{"ZIPCODE post (group)":"02140","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"R2","Count of LU prior":13},{"ZIPCODE post (group)":"02140","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02139","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02139","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R2","Count of LU prior":21},{"ZIPCODE post (group)":"02139","LU prior groups":"R3","Count of LU prior":10},{"ZIPCODE post (group)":"02138","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02138","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"CM","Count of LU prior":4},{"ZIPCODE post (group)":"02138","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02138","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02136","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02136","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02136","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02136","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02136","LU prior groups":"R3","Count of LU prior":8},{"ZIPCODE post (group)":"02132","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02132","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02132","LU prior groups":"R2","Count of LU prior":18},{"ZIPCODE post (group)":"02132","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02131","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"A","Count of LU prior":5},{"ZIPCODE post (group)":"02131","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"CM","Count of LU prior":11},{"ZIPCODE post (group)":"02131","LU prior groups":"CD","Count of LU prior":70},{"ZIPCODE post (group)":"02131","LU prior groups":"R2","Count of LU prior":65},{"ZIPCODE post (group)":"02131","LU prior groups":"R3","Count of LU prior":32},{"ZIPCODE post (group)":"02130","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02130","LU prior groups":"R1","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"CM","Count of LU prior":16},{"ZIPCODE post (group)":"02130","LU prior groups":"CD","Count of LU prior":59},{"ZIPCODE post (group)":"02130","LU prior groups":"R2","Count of LU prior":43},{"ZIPCODE post (group)":"02130","LU prior groups":"R3","Count of LU prior":63},{"ZIPCODE post (group)":"02129","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02129","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02129","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02129","LU prior groups":"R3","Count of LU prior":26},{"ZIPCODE post (group)":"02128","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02128","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02128","LU prior groups":"RC","Count of LU prior":5},{"ZIPCODE post (group)":"02128","LU prior groups":"A","Count of LU prior":12},{"ZIPCODE post (group)":"02128","LU prior groups":"R4","Count of LU prior":18},{"ZIPCODE post (group)":"02128","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02128","LU prior groups":"R2","Count of LU prior":40},{"ZIPCODE post (group)":"02128","LU prior groups":"R3","Count of LU prior":101},{"ZIPCODE post (group)":"02127","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02127","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02127","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02127","LU prior groups":"R1","Count of LU prior":8},{"ZIPCODE post (group)":"02127","LU prior groups":"RC","Count of LU prior":12},{"ZIPCODE post (group)":"02127","LU prior groups":"A","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"R4","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"CM","Count of LU prior":18},{"ZIPCODE post (group)":"02127","LU prior groups":"CD","Count of LU prior":36},{"ZIPCODE post (group)":"02127","LU prior groups":"R2","Count of LU prior":53},{"ZIPCODE post (group)":"02127","LU prior groups":"R3","Count of LU prior":55},{"ZIPCODE post (group)":"02126","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"CM","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02126","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"A","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"CM","Count of LU prior":8},{"ZIPCODE post (group)":"02125","LU prior groups":"CD","Count of LU prior":16},{"ZIPCODE post (group)":"02125","LU prior groups":"R2","Count of LU prior":17},{"ZIPCODE post (group)":"02125","LU prior groups":"R3","Count of LU prior":53},{"ZIPCODE post (group)":"02124","LU prior groups":"CL","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02124","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02124","LU prior groups":"CM","Count of LU prior":7},{"ZIPCODE post (group)":"02124","LU prior groups":"CD","Count of LU prior":12},{"ZIPCODE post (group)":"02124","LU prior groups":"R2","Count of LU prior":29},{"ZIPCODE post (group)":"02124","LU prior groups":"R3","Count of LU prior":28},{"ZIPCODE post (group)":"02122","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R4","Count of LU prior":10},{"ZIPCODE post (group)":"02122","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02122","LU prior groups":"CD","Count of LU prior":17},{"ZIPCODE post (group)":"02122","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02122","LU prior groups":"R3","Count of LU prior":36},{"ZIPCODE post (group)":"02121","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02121","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02121","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02121","LU prior groups":"CD","Count of LU prior":5},{"ZIPCODE post (group)":"02121","LU prior groups":"R2","Count of LU prior":6},{"ZIPCODE post (group)":"02121","LU prior groups":"R3","Count of LU prior":16},{"ZIPCODE post (group)":"02120","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CD","Count of LU prior":13},{"ZIPCODE post (group)":"02119","LU prior groups":"I","Count of LU prior":1},{"ZIPCODE post (group)":"02119","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02119","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02119","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02119","LU prior groups":"R2","Count of LU prior":12},{"ZIPCODE post (group)":"02119","LU prior groups":"R3","Count of LU prior":17},{"ZIPCODE post (group)":"02118","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"R4","Count of LU prior":11},{"ZIPCODE post (group)":"02118","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02118","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02118","LU prior groups":"R2","Count of LU prior":19},{"ZIPCODE post (group)":"02118","LU prior groups":"R3","Count of LU prior":15},{"ZIPCODE post (group)":"02116","LU prior groups":"C","Count of LU prior":3},{"ZIPCODE post (group)":"02116","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02116","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"R4","Count of LU prior":6},{"ZIPCODE post (group)":"02116","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02116","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R3","Count of LU prior":9},{"ZIPCODE post (group)":"02115","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02115","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02114","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02113","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02111","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02109","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02108","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R2","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R3","Count of LU prior":6}];var Ze=it('<path tabindex="0" role="button" aria-label="pie wedge" class="svelte-19yj5i9"></path>'),Oe=X('<li class="legend-item"><span class="swatch svelte-19yj5i9"></span> <em> </em></li>'),_e=X('<div class="container svelte-19yj5i9"><svg id="piechart-svg" viewBox="-50 -50 100 100" class="svelte-19yj5i9"></svg> <ul class="legend svelte-19yj5i9"></ul></div>');function ve(t,r){i0(r,!1);let o=j(r,"selectedIndex",12,()=>-1),e=j(r,"data",8,()=>[]),n=se().innerRadius(0).outerRadius(50),i=A(),a=A(),u=de().value(g=>g.value),l=ut(Ko);function p(g,h){(!h.key||h.key==="Enter")&&o(o()===g?-1:g)}$(()=>{o0(e()),B(()=>{R(i,u(e()))})}),$(()=>{Z(i),B(()=>{R(a,Z(i).map(g=>n(g)))})}),e0();var c=r0(t,!0,_e),f=V(c),s=k(k(f,!0));Dt(f,()=>Z(a),9,(g,h,m)=>{var D=r0(g,!0,Ze);p0(D,"fill",()=>l(F(m)));var C,d;J0(()=>{var L,P;C!==(C=F(h))&&G(D,"d",C),d!==(d=`--start-angle: ${s0((L=Z(i)[F(m)])==null?void 0:L.startAngle)}rad;
                    --end-angle: ${s0((P=Z(i)[F(m)])==null?void 0:P.endAngle)}rad;`)&&G(D,"style",d),ur(D,"selected",o()===F(m))}),X0("click",D,L=>p(F(m),L),!1),X0("keyup",D,L=>p(F(m),L),!1),t0(g,D)},null),Dt(s,e,9,(g,h,m)=>{var D=r0(g,!0,Oe),C=V(D),d=k(C,!0),L=k(d),P=V(L);p0(D,"style",()=>`--color: ${s0(l(F(m)))}`),J0(()=>{Ct(d,` ${s0(F(h).label)} `),Ct(P,`(${s0(F(h).value)})`)}),t0(g,D)},null),t0(t,c),n0()}var xe=X('<h1>Building Type Converted into Condominiums</h1> <blockquote scrolly-container="">Families and renters can be displaced when their homes are converted into luxury condos. This effect is especially prevalent when multi-family housing is converted into condos. To estimate the impact of condo conversions on families, we display the most common building types converted into condos. <p>Note: Legend adapted from <a href="https://www.cityofboston.gov/images_documents/land_use_codes%5B1%5D_tcm3-8867.pdf">City of Boston LAND USE CODES</a></p></blockquote> <!>',!0);function ze(t,r){i0(r,!1);let o=j(r,"query",0,""),e=A();const n={CM:"Building broken into condo units",R1:"1-Family",R2:"2-Family",R3:"3-Family",R4:"4-6 Units",A:"7+ Units",RL:"Residential Lot",CD:"Condo",CC:"Commerical Condo",C:"Commerical",RC:"Mixed Use",CL:"Commerical Land",CP:"Condo Parking",I:"Industrial",E:"Exempt",EA:"Exempt"};let i=A(),a=A(),u=A(-1),l=A();$(()=>{o0(o()),B(()=>{R(e,Ie.filter(g=>o()?Object.values(g).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),$(()=>{Z(i),Z(e),Z(a),B(()=>{R(i,{}),console.log(Z(e)),R(a,Yt(Z(e),g=>Wt(g,h=>h["Count of LU prior"]),g=>g["LU prior groups"])),console.log("Rolled ",Z(a)),R(i,Z(a).map(([g,h])=>({value:h,label:n[g]}))),console.log("pied ",Z(i))})}),$(()=>{Z(u),Z(i),B(()=>{R(l,Z(u)>-1?Z(i)[Z(u)].label:null)})}),e0();var p=k0(t,!0,xe),c=zt(p),f=k(k(c,!0)),s=k(k(f,!0));ve(s,{get data(){return Z(i)},get selectedIndex(){return Z(u)},set selectedIndex(g){R(u,g)}}),A0(t,p),n0()}var we=X('<blockquote scrolly-container=""> </blockquote>'),Me=X('<div><div id="map" class="svelte-ahycl4"></div> <button class="reset-button svelte-ahycl4">Reset Map</button> <!></div>');function Fe(t,r){i0(r,!1),F0.accessToken="pk.eyJ1Ijoic2VqYWxnIiwiYSI6ImNsdmN0Y21yZTBubmgydmxmNDlmbHVuMXAifQ.G5QWdSQskLQRC0Dw0nYLVw";let o;var e=A(null),n=j(r,"zipcode",4,null);const i=[-71.0589,42.3601],a=11;m0(async()=>{o=new F0.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:i,zoom:a});const s="/boston-cambridge-zip-codes.geojson",g=await v0("/lat_long_address.csv");o.on("load",async function(){o.addSource("zip-codes",{type:"geojson",data:s}),o.addLayer({id:"polygons",type:"fill",source:"zip-codes",paint:{"fill-color":["case",["boolean",["feature-state","clicked"],!1],"#949494","#d3d3d3"],"fill-opacity":.8,"fill-outline-color":"#000000"}});const h={type:"FeatureCollection",features:g.map(m=>({type:"Feature",properties:{zipcode:m["ZIPCODE post (group)"]},geometry:{type:"Point",coordinates:[parseFloat(m.Longitude),parseFloat(m.Latitude)]}}))};o.addSource("locations",{type:"geojson",data:h}),o.addLayer({id:"points",type:"circle",source:"locations",paint:{"circle-radius":6,"circle-color":"#000000","circle-opacity":.4},filter:["==",["get","zipcode"],""]}),o.on("click","polygons",m=>{let D=m.features[0],C=D.id;Z(e)!==null&&Z(e)!==C&&o.setFeatureState({source:"zip-codes",id:Z(e)},{clicked:!1}),o.setFeatureState({source:"zip-codes",id:C},{clicked:!0}),R(e,C),n("0"+Z(e).toString()),o.setFilter("points",["==",["get","zipcode"],n()]);const d=new F0.LngLatBounds;D.geometry.coordinates[0].forEach(L=>{d.extend(L)}),o.fitBounds(d,{padding:20})})})});function u(){o.setCenter(i),o.setZoom(a),Z(e)!==null&&o.setFeatureState({source:"zip-codes",id:Z(e)},{clicked:!1}),o.setFilter("points",["==",["get","zipcode"],""]),R(e,null),n(null)}e0();var l=r0(t,!0,Me),p=V(l),c=k(k(p,!0)),f=k(k(c,!0));X0("click",c,u,!1),sr(f,()=>Z(e)===null,s=>{},s=>{var g=r0(s,!0,we),h=V(g);ar(h,()=>`You selected ${s0("0"+Z(e))}! Click Reset Map to choose a new zip code.`),t0(s,g)}),t0(t,l),n0()}export{je as B,qe as L,Fe as M,ze as P,Se as S,Te as a};
