import{p as ge,j as pe,i as ke,f as le,Q as de,r as me,R as ye,a2 as C,S as Pe,a1 as he,t as ve,m as xe,g as ue,a as ie,d as Y,T as ze,e as Te}from"./disclose-version.C19aztMc.js";import{p as Ie,a as je,u as q,g as F,A as qe,b as Ae,s as Re}from"./runtime.DoKzdPu0.js";import{e as Me}from"./each.CP1D8uQB.js";import{o as De}from"./transform.s-_yf9sf.js";import{w as Ee,c as w,a as Ge}from"./array.DIqrq8cy.js";function Ne(a){for(var c=a.length/6|0,x=new Array(c),h=0;h<c;)x[h]="#"+a.slice(h*6,++h*6);return x}const Se=Ne("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),be=Math.abs,b=Math.atan2,B=Math.cos,Ve=Math.max,oe=Math.min,D=Math.sin,W=Math.sqrt,P=1e-12,H=Math.PI,_=H/2,$=2*H;function Be(a){return a>1?0:a<-1?H:Math.acos(a)}function we(a){return a>=1?_:a<=-1?-_:Math.asin(a)}function Oe(a){return a.innerRadius}function Qe(a){return a.outerRadius}function We(a){return a.startAngle}function Ce(a){return a.endAngle}function Fe(a){return a&&a.padAngle}function He(a,c,x,h,M,A,p,e){var d=x-a,l=h-c,n=p-M,R=e-A,s=R*d-n*l;if(!(s*s<P))return s=(n*(c-A)-R*(a-M))/s,[a+s*d,c+s*l]}function Z(a,c,x,h,M,A,p){var e=a-x,d=c-h,l=(p?A:-A)/W(e*e+d*d),n=l*d,R=-l*e,s=a+n,t=c+R,i=x+n,f=h+R,m=(s+i)/2,u=(t+f)/2,v=i-s,g=f-t,y=v*v+g*g,T=M-A,k=s*f-i*t,G=(g<0?-1:1)*W(Ve(0,T*T*y-k*k)),N=(k*g-v*G)/y,S=(-k*v-g*G)/y,j=(k*g+v*G)/y,z=(-k*v+g*G)/y,I=N-m,r=S-u,o=j-m,V=z-u;return I*I+r*r>o*o+V*V&&(N=j,S=z),{cx:N,cy:S,x01:-n,y01:-R,x11:N*(M/T-1),y11:S*(M/T-1)}}function Je(){var a=Oe,c=Qe,x=w(0),h=null,M=We,A=Ce,p=Fe,e=null,d=Ee(l);function l(){var n,R,s=+a.apply(this,arguments),t=+c.apply(this,arguments),i=M.apply(this,arguments)-_,f=A.apply(this,arguments)-_,m=be(f-i),u=f>i;if(e||(e=n=d()),t<s&&(R=t,t=s,s=R),!(t>P))e.moveTo(0,0);else if(m>$-P)e.moveTo(t*B(i),t*D(i)),e.arc(0,0,t,i,f,!u),s>P&&(e.moveTo(s*B(f),s*D(f)),e.arc(0,0,s,f,i,u));else{var v=i,g=f,y=i,T=f,k=m,G=m,N=p.apply(this,arguments)/2,S=N>P&&(h?+h.apply(this,arguments):W(s*s+t*t)),j=oe(be(t-s)/2,+x.apply(this,arguments)),z=j,I=j,r,o;if(S>P){var V=we(S/s*D(N)),J=we(S/t*D(N));(k-=V*2)>P?(V*=u?1:-1,y+=V,T-=V):(k=0,y=T=(i+f)/2),(G-=J*2)>P?(J*=u?1:-1,v+=J,g-=J):(G=0,v=g=(i+f)/2)}var O=t*B(v),Q=t*D(v),K=s*B(T),L=s*D(T);if(j>P){var U=t*B(g),X=t*D(g),ee=s*B(y),ne=s*D(y),E;if(m<H)if(E=He(O,Q,ee,ne,U,X,K,L)){var ae=O-E[0],te=Q-E[1],re=U-E[0],se=X-E[1],ce=1/D(Be((ae*re+te*se)/(W(ae*ae+te*te)*W(re*re+se*se)))/2),fe=W(E[0]*E[0]+E[1]*E[1]);z=oe(j,(s-fe)/(ce-1)),I=oe(j,(t-fe)/(ce+1))}else z=I=0}G>P?I>P?(r=Z(ee,ne,O,Q,t,I,u),o=Z(U,X,K,L,t,I,u),e.moveTo(r.cx+r.x01,r.cy+r.y01),I<j?e.arc(r.cx,r.cy,I,b(r.y01,r.x01),b(o.y01,o.x01),!u):(e.arc(r.cx,r.cy,I,b(r.y01,r.x01),b(r.y11,r.x11),!u),e.arc(0,0,t,b(r.cy+r.y11,r.cx+r.x11),b(o.cy+o.y11,o.cx+o.x11),!u),e.arc(o.cx,o.cy,I,b(o.y11,o.x11),b(o.y01,o.x01),!u))):(e.moveTo(O,Q),e.arc(0,0,t,v,g,!u)):e.moveTo(O,Q),!(s>P)||!(k>P)?e.lineTo(K,L):z>P?(r=Z(K,L,U,X,s,-z,u),o=Z(O,Q,ee,ne,s,-z,u),e.lineTo(r.cx+r.x01,r.cy+r.y01),z<j?e.arc(r.cx,r.cy,z,b(r.y01,r.x01),b(o.y01,o.x01),!u):(e.arc(r.cx,r.cy,z,b(r.y01,r.x01),b(r.y11,r.x11),!u),e.arc(0,0,s,b(r.cy+r.y11,r.cx+r.x11),b(o.cy+o.y11,o.cx+o.x11),u),e.arc(o.cx,o.cy,z,b(o.y11,o.x11),b(o.y01,o.x01),!u))):e.arc(0,0,s,T,y,u)}if(e.closePath(),n)return e=null,n+""||null}return l.centroid=function(){var n=(+a.apply(this,arguments)+ +c.apply(this,arguments))/2,R=(+M.apply(this,arguments)+ +A.apply(this,arguments))/2-H/2;return[B(R)*n,D(R)*n]},l.innerRadius=function(n){return arguments.length?(a=typeof n=="function"?n:w(+n),l):a},l.outerRadius=function(n){return arguments.length?(c=typeof n=="function"?n:w(+n),l):c},l.cornerRadius=function(n){return arguments.length?(x=typeof n=="function"?n:w(+n),l):x},l.padRadius=function(n){return arguments.length?(h=n==null?null:typeof n=="function"?n:w(+n),l):h},l.startAngle=function(n){return arguments.length?(M=typeof n=="function"?n:w(+n),l):M},l.endAngle=function(n){return arguments.length?(A=typeof n=="function"?n:w(+n),l):A},l.padAngle=function(n){return arguments.length?(p=typeof n=="function"?n:w(+n),l):p},l.context=function(n){return arguments.length?(e=n??null,l):e},l}function Ke(a,c){return c<a?-1:c>a?1:c>=a?0:NaN}function Le(a){return a}function Ue(){var a=Le,c=Ke,x=null,h=w(0),M=w($),A=w(0);function p(e){var d,l=(e=Ge(e)).length,n,R,s=0,t=new Array(l),i=new Array(l),f=+h.apply(this,arguments),m=Math.min($,Math.max(-$,M.apply(this,arguments)-f)),u,v=Math.min(Math.abs(m)/l,A.apply(this,arguments)),g=v*(m<0?-1:1),y;for(d=0;d<l;++d)(y=i[t[d]=d]=+a(e[d],d,e))>0&&(s+=y);for(c!=null?t.sort(function(T,k){return c(i[T],i[k])}):x!=null&&t.sort(function(T,k){return x(e[T],e[k])}),d=0,R=s?(m-l*g)/s:0;d<l;++d,f=u)n=t[d],y=i[n],u=f+(y>0?y*R:0)+g,i[n]={data:e[n],index:d,value:y,startAngle:f,endAngle:u,padAngle:v};return i}return p.value=function(e){return arguments.length?(a=typeof e=="function"?e:w(+e),p):a},p.sortValues=function(e){return arguments.length?(c=e,x=null,p):c},p.sort=function(e){return arguments.length?(x=e,c=null,p):x},p.startAngle=function(e){return arguments.length?(h=typeof e=="function"?e:w(+e),p):h},p.endAngle=function(e){return arguments.length?(M=typeof e=="function"?e:w(+e),p):M},p.padAngle=function(e){return arguments.length?(A=typeof e=="function"?e:w(+e),p):A},p}var Xe=ze('<path tabindex="0" role="button" aria-label="pie wedge" class="svelte-1cnv3tz"></path>'),Ye=Te('<li class="legend-item"><span class="swatch svelte-1cnv3tz"></span> <em> </em></li>'),Ze=Te('<div class="container svelte-1cnv3tz"><svg viewBox="-50 -50 100 100" class="svelte-1cnv3tz"></svg> <ul class="legend svelte-1cnv3tz"></ul></div>');function tn(a,c){je(c,!1);let x=ge(c,"selectedIndex",12,()=>-1),h=ge(c,"data",8,()=>[]),M=Je().innerRadius(0).outerRadius(50),A=xe(),p=xe(),e=Ue().value(t=>t.value),d=De(Se);function l(t,i){(!i.key||i.key==="Enter")&&x(x()===t?-1:t)}pe(()=>{qe(h()),Ae(()=>{Re(A,e(h()))})}),pe(()=>{F(A),Ae(()=>{Re(p,F(A).map(t=>M(t)))})}),ke();var n=ue(a,!0,Ze),R=ie(n),s=Y(Y(R,!0));Me(R,()=>F(p),9,(t,i,f)=>{var m=ue(t,!0,Xe);de(m,"fill",()=>d(q(f)));var u,v;me(()=>{var g,y;u!==(u=q(i))&&ye(m,"d",u),v!==(v=`--start-angle: ${C((g=F(A)[q(f)])==null?void 0:g.startAngle)}rad;
	                    --end-angle: ${C((y=F(A)[q(f)])==null?void 0:y.endAngle)}rad;`)&&ye(m,"style",v),Pe(m,"selected",x()===q(f))}),he("click",m,g=>l(q(f),g),!1),he("keyup",m,g=>l(q(f),g),!1),le(t,m)},null),Me(s,h,9,(t,i,f)=>{var m=ue(t,!0,Ye),u=ie(m),v=Y(u,!0),g=Y(v),y=ie(g);de(m,"style",()=>`--color: ${C(d(q(f)))}`),me(()=>{ve(v,` ${C(q(i).label)} `),ve(y,`(${C(q(i).value)})`)}),le(t,m)},null),le(a,n),Ie()}export{tn as P};
