import{n as t,g as a,U as i,h as c,k as l,o as f}from"./runtime.DnRKx-fn.js";import{P as b,C as _}from"./disclose-version.CtKKBuk4.js";function d(n,e,s){if(n==null)return e(void 0),s&&s(void 0),t;const u=n.subscribe(e,s);return u.unsubscribe?()=>u.unsubscribe():u}function I(n,e,s){let u=s[e];const r=u===void 0;r&&(u={store:null,last_value:null,value:_(i),unsubscribe:t},s[e]=u),(r||u.store!==n)&&(u.unsubscribe(),u.store=n??null,u.unsubscribe=m(n,u.value));const o=a(u.value);return o===i?u.last_value:o}function m(n,e){return n==null?(c(e,void 0),t):d(n,u=>{f(!0),c(e,u),f(!1)})}function y(n,e){return n.set(e),e}function k(n){g(()=>{let e;for(e in n)n[e].unsubscribe()})}function g(n){b(()=>()=>l(n))}export{y as a,I as s,k as u};
