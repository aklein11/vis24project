import{W as $,F as W,i as r0,_ as Ct,K as p0,I as mt,N as j,a as N,D as A,a0 as s0,O as q,d as w,e as z,L as K,r as K0,a1 as at,c as l0,o as f0,b as w0,M as ar,Q as tt,t as Lt,Y as sr,P as pr,$ as lr}from"../chunks/disclose-version.BXKTZOJA.js";import{p as o0,a as e0,h as P,j as R,$ as i0,u as H,l as V}from"../chunks/runtime.Ch61WCaa.js";import{i as Ft}from"../chunks/if.qKS6ZKiF.js";import{u as fr,a as cr,s as dr}from"../chunks/store.vjYTdXfu.js";import{o as U0}from"../chunks/main-client.CZXkuvMD.js";import{I as gr,S as Ut,r as hr,c as Cr,i as rt,a as Dt,b as yt,d as mr,o as st,e as Bt,f as Lr,T as Ur,m as B0}from"../chunks/Mapchoice.svelte_svelte_type_style_lang.BBW25gK5.js";import{a as Dr,e as vt}from"../chunks/each.BogNlH1r.js";import{w as yr}from"../chunks/index.B-5YvJxK.js";function Z0(t,r){return t==null||r==null?NaN:t<r?-1:t>r?1:t>=r?0:NaN}function vr(t,r){return t==null||r==null?NaN:r<t?-1:r>t?1:r>=t?0:NaN}function Yt(t){let r,o,e;t.length!==2?(r=Z0,o=(u,l)=>Z0(t(u),l),e=(u,l)=>t(u)-l):(r=t===Z0||t===vr?t:Er,o=t,e=t);function n(u,l,s=0,d=u.length){if(s<d){if(r(l,l)!==0)return d;do{const f=s+d>>>1;o(u[f],l)<0?s=f+1:d=f}while(s<d)}return s}function i(u,l,s=0,d=u.length){if(s<d){if(r(l,l)!==0)return d;do{const f=s+d>>>1;o(u[f],l)<=0?s=f+1:d=f}while(s<d)}return s}function a(u,l,s=0,d=u.length){const f=n(u,l,s,d-1);return f>s&&e(u[f-1],l)>-e(u[f],l)?f-1:f}return{left:n,center:a,right:i}}function Er(){return 0}function _r(t){return t===null?NaN:+t}const Pr=Yt(Z0),Ir=Pr.right;Yt(_r).center;function Vt(t,r,...o){return Or(t,Array.from,r,o)}function Or(t,r,o,e){return function n(i,a){if(a>=e.length)return o(i);const u=new gr,l=e[a++];let s=-1;for(const d of i){const f=l(d,++s,i),p=u.get(f);p?p.push(d):u.set(f,[d])}for(const[d,f]of u)u.set(d,n(f,a));return r(u)}(t,0)}const Zr=Math.sqrt(50),xr=Math.sqrt(10),wr=Math.sqrt(2);function M0(t,r,o){const e=(r-t)/Math.max(0,o),n=Math.floor(Math.log10(e)),i=e/Math.pow(10,n),a=i>=Zr?10:i>=xr?5:i>=wr?2:1;let u,l,s;return n<0?(s=Math.pow(10,-n)/a,u=Math.round(t*s),l=Math.round(r*s),u/s<t&&++u,l/s>r&&--l,s=-s):(s=Math.pow(10,n)*a,u=Math.round(t/s),l=Math.round(r/s),u*s<t&&++u,l*s>r&&--l),l<u&&.5<=o&&o<2?M0(t,r,o*2):[u,l,s]}function Mr(t,r,o){if(r=+r,t=+t,o=+o,!(o>0))return[];if(t===r)return[t];const e=r<t,[n,i,a]=e?M0(r,t,o):M0(t,r,o);if(!(i>=n))return[];const u=i-n+1,l=new Array(u);if(e)if(a<0)for(let s=0;s<u;++s)l[s]=(i-s)/-a;else for(let s=0;s<u;++s)l[s]=(i-s)*a;else if(a<0)for(let s=0;s<u;++s)l[s]=(n+s)/-a;else for(let s=0;s<u;++s)l[s]=(n+s)*a;return l}function ot(t,r,o){return r=+r,t=+t,o=+o,M0(t,r,o)[2]}function br(t,r,o){r=+r,t=+t,o=+o;const e=r<t,n=e?ot(r,t,o):ot(t,r,o);return(e?-1:1)*(n<0?1/-n:n)}function Wt(t,r){let o;if(r===void 0)for(const e of t)e!=null&&(o<e||o===void 0&&e>=e)&&(o=e);else{let e=-1;for(let n of t)(n=r(n,++e,t))!=null&&(o<n||o===void 0&&n>=n)&&(o=n)}return o}function Rr(t,r,o){t=+t,r=+r,o=(n=arguments.length)<2?(r=t,t=0,1):n<3?1:+o;for(var e=-1,n=Math.max(0,Math.ceil((r-t)/o))|0,i=new Array(n);++e<n;)i[e]=t+e*o;return i}function Ht(t,r){let o=0;if(r===void 0)for(let e of t)(e=+e)&&(o+=e);else{let e=-1;for(let n of t)(n=+r(n,++e,t))&&(o+=n)}return o}function kr(t){return t}var Y0=1,V0=2,et=3,C0=4,Et=1e-6;function Ar(t){return"translate("+t+",0)"}function zr(t){return"translate(0,"+t+")"}function Sr(t){return r=>+t(r)}function Nr(t,r){return r=Math.max(0,t.bandwidth()-r*2)/2,t.round()&&(r=Math.round(r)),o=>+t(o)+r}function Tr(){return!this.__axis}function Qt(t,r){var o=[],e=null,n=null,i=6,a=6,u=3,l=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=t===Y0||t===C0?-1:1,d=t===C0||t===V0?"x":"y",f=t===Y0||t===et?Ar:zr;function p(c){var h=e??(r.ticks?r.ticks.apply(r,o):r.domain()),m=n??(r.tickFormat?r.tickFormat.apply(r,o):kr),U=Math.max(i,0)+u,C=r.range(),g=+C[0]+l,L=+C[C.length-1]+l,v=(r.bandwidth?Nr:Sr)(r.copy(),l),y=c.selection?c.selection():c,O=y.selectAll(".domain").data([null]),Z=y.selectAll(".tick").data(h,r).order(),x=Z.exit(),b=Z.enter().append("g").attr("class","tick"),M=Z.select("line"),E=Z.select("text");O=O.merge(O.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),Z=Z.merge(b),M=M.merge(b.append("line").attr("stroke","currentColor").attr(d+"2",s*i)),E=E.merge(b.append("text").attr("fill","currentColor").attr(d,s*U).attr("dy",t===Y0?"0em":t===et?"0.71em":"0.32em")),c!==y&&(O=O.transition(c),Z=Z.transition(c),M=M.transition(c),E=E.transition(c),x=x.transition(c).attr("opacity",Et).attr("transform",function(_){return isFinite(_=v(_))?f(_+l):this.getAttribute("transform")}),b.attr("opacity",Et).attr("transform",function(_){var D=this.parentNode.__axis;return f((D&&isFinite(D=D(_))?D:v(_))+l)})),x.remove(),O.attr("d",t===C0||t===V0?a?"M"+s*a+","+g+"H"+l+"V"+L+"H"+s*a:"M"+l+","+g+"V"+L:a?"M"+g+","+s*a+"V"+l+"H"+L+"V"+s*a:"M"+g+","+l+"H"+L),Z.attr("opacity",1).attr("transform",function(_){return f(v(_)+l)}),M.attr(d+"2",s*i),E.attr(d,s*U).text(m),y.filter(Tr).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===V0?"start":t===C0?"end":"middle"),y.each(function(){this.__axis=v})}return p.scale=function(c){return arguments.length?(r=c,p):r},p.ticks=function(){return o=Array.from(arguments),p},p.tickArguments=function(c){return arguments.length?(o=c==null?[]:Array.from(c),p):o.slice()},p.tickValues=function(c){return arguments.length?(e=c==null?null:Array.from(c),p):e&&e.slice()},p.tickFormat=function(c){return arguments.length?(n=c,p):n},p.tickSize=function(c){return arguments.length?(i=a=+c,p):i},p.tickSizeInner=function(c){return arguments.length?(i=+c,p):i},p.tickSizeOuter=function(c){return arguments.length?(a=+c,p):a},p.tickPadding=function(c){return arguments.length?(u=+c,p):u},p.offset=function(c){return arguments.length?(l=+c,p):l},p}function Gt(t){return Qt(et,t)}function Xt(t){return Qt(C0,t)}function n0(t){return typeof t=="string"?new Ut([[document.querySelector(t)]],[document.documentElement]):new Ut([[t]],hr)}function jr(t,r){r||(r=[]);var o=t?Math.min(r.length,t.length):0,e=r.slice(),n;return function(i){for(n=0;n<o;++n)e[n]=t[n]*(1-i)+r[n]*i;return e}}function qr(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function $r(t,r){var o=r?r.length:0,e=t?Math.min(o,t.length):0,n=new Array(e),i=new Array(o),a;for(a=0;a<e;++a)n[a]=pt(t[a],r[a]);for(;a<o;++a)i[a]=r[a];return function(u){for(a=0;a<e;++a)i[a]=n[a](u);return i}}function Fr(t,r){var o=new Date;return t=+t,r=+r,function(e){return o.setTime(t*(1-e)+r*e),o}}function Br(t,r){var o={},e={},n;(t===null||typeof t!="object")&&(t={}),(r===null||typeof r!="object")&&(r={});for(n in r)n in t?o[n]=pt(t[n],r[n]):e[n]=r[n];return function(i){for(n in o)e[n]=o[n](i);return e}}function pt(t,r){var o=typeof r,e;return r==null||o==="boolean"?Cr(r):(o==="number"?rt:o==="string"?(e=Dt(r))?(r=e,yt):mr:r instanceof Dt?yt:r instanceof Date?Fr:qr(r)?jr:Array.isArray(r)?$r:typeof r.valueOf!="function"&&typeof r.toString!="function"||isNaN(r)?Br:rt)(t,r)}function Yr(t,r){return t=+t,r=+r,function(o){return Math.round(t*(1-o)+r*o)}}const nt=Math.PI,it=2*nt,a0=1e-6,Vr=it-a0;function Jt(t){this._+=t[0];for(let r=1,o=t.length;r<o;++r)this._+=arguments[r]+t[r]}function Wr(t){let r=Math.floor(t);if(!(r>=0))throw new Error(`invalid digits: ${t}`);if(r>15)return Jt;const o=10**r;return function(e){this._+=e[0];for(let n=1,i=e.length;n<i;++n)this._+=Math.round(arguments[n]*o)/o+e[n]}}class Hr{constructor(r){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=r==null?Jt:Wr(r)}moveTo(r,o){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(r,o){this._append`L${this._x1=+r},${this._y1=+o}`}quadraticCurveTo(r,o,e,n){this._append`Q${+r},${+o},${this._x1=+e},${this._y1=+n}`}bezierCurveTo(r,o,e,n,i,a){this._append`C${+r},${+o},${+e},${+n},${this._x1=+i},${this._y1=+a}`}arcTo(r,o,e,n,i){if(r=+r,o=+o,e=+e,n=+n,i=+i,i<0)throw new Error(`negative radius: ${i}`);let a=this._x1,u=this._y1,l=e-r,s=n-o,d=a-r,f=u-o,p=d*d+f*f;if(this._x1===null)this._append`M${this._x1=r},${this._y1=o}`;else if(p>a0)if(!(Math.abs(f*l-s*d)>a0)||!i)this._append`L${this._x1=r},${this._y1=o}`;else{let c=e-a,h=n-u,m=l*l+s*s,U=c*c+h*h,C=Math.sqrt(m),g=Math.sqrt(p),L=i*Math.tan((nt-Math.acos((m+p-U)/(2*C*g)))/2),v=L/g,y=L/C;Math.abs(v-1)>a0&&this._append`L${r+v*d},${o+v*f}`,this._append`A${i},${i},0,0,${+(f*c>d*h)},${this._x1=r+y*l},${this._y1=o+y*s}`}}arc(r,o,e,n,i,a){if(r=+r,o=+o,e=+e,a=!!a,e<0)throw new Error(`negative radius: ${e}`);let u=e*Math.cos(n),l=e*Math.sin(n),s=r+u,d=o+l,f=1^a,p=a?n-i:i-n;this._x1===null?this._append`M${s},${d}`:(Math.abs(this._x1-s)>a0||Math.abs(this._y1-d)>a0)&&this._append`L${s},${d}`,e&&(p<0&&(p=p%it+it),p>Vr?this._append`A${e},${e},0,1,${f},${r-u},${o-l}A${e},${e},0,1,${f},${this._x1=s},${this._y1=d}`:p>a0&&this._append`A${e},${e},0,${+(p>=nt)},${f},${this._x1=r+e*Math.cos(i)},${this._y1=o+e*Math.sin(i)}`)}rect(r,o,e,n){this._append`M${this._x0=this._x1=+r},${this._y0=this._y1=+o}h${e=+e}v${+n}h${-e}Z`}toString(){return this._}}var _t={},W0={},H0=34,h0=10,Q0=13;function Kt(t){return new Function("d","return {"+t.map(function(r,o){return JSON.stringify(r)+": d["+o+'] || ""'}).join(",")+"}")}function Qr(t,r){var o=Kt(t);return function(e,n){return r(o(e),n,t)}}function Pt(t){var r=Object.create(null),o=[];return t.forEach(function(e){for(var n in e)n in r||o.push(r[n]=n)}),o}function Y(t,r){var o=t+"",e=o.length;return e<r?new Array(r-e+1).join(0)+o:o}function Gr(t){return t<0?"-"+Y(-t,6):t>9999?"+"+Y(t,6):Y(t,4)}function Xr(t){var r=t.getUTCHours(),o=t.getUTCMinutes(),e=t.getUTCSeconds(),n=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":Gr(t.getUTCFullYear())+"-"+Y(t.getUTCMonth()+1,2)+"-"+Y(t.getUTCDate(),2)+(n?"T"+Y(r,2)+":"+Y(o,2)+":"+Y(e,2)+"."+Y(n,3)+"Z":e?"T"+Y(r,2)+":"+Y(o,2)+":"+Y(e,2)+"Z":o||r?"T"+Y(r,2)+":"+Y(o,2)+"Z":"")}function Jr(t){var r=new RegExp('["'+t+`
\r]`),o=t.charCodeAt(0);function e(f,p){var c,h,m=n(f,function(U,C){if(c)return c(U,C-1);h=U,c=p?Qr(U,p):Kt(U)});return m.columns=h||[],m}function n(f,p){var c=[],h=f.length,m=0,U=0,C,g=h<=0,L=!1;f.charCodeAt(h-1)===h0&&--h,f.charCodeAt(h-1)===Q0&&--h;function v(){if(g)return W0;if(L)return L=!1,_t;var O,Z=m,x;if(f.charCodeAt(Z)===H0){for(;m++<h&&f.charCodeAt(m)!==H0||f.charCodeAt(++m)===H0;);return(O=m)>=h?g=!0:(x=f.charCodeAt(m++))===h0?L=!0:x===Q0&&(L=!0,f.charCodeAt(m)===h0&&++m),f.slice(Z+1,O-1).replace(/""/g,'"')}for(;m<h;){if((x=f.charCodeAt(O=m++))===h0)L=!0;else if(x===Q0)L=!0,f.charCodeAt(m)===h0&&++m;else if(x!==o)continue;return f.slice(Z,O)}return g=!0,f.slice(Z,h)}for(;(C=v())!==W0;){for(var y=[];C!==_t&&C!==W0;)y.push(C),C=v();p&&(y=p(y,U++))==null||c.push(y)}return c}function i(f,p){return f.map(function(c){return p.map(function(h){return d(c[h])}).join(t)})}function a(f,p){return p==null&&(p=Pt(f)),[p.map(d).join(t)].concat(i(f,p)).join(`
`)}function u(f,p){return p==null&&(p=Pt(f)),i(f,p).join(`
`)}function l(f){return f.map(s).join(`
`)}function s(f){return f.map(d).join(t)}function d(f){return f==null?"":f instanceof Date?Xr(f):r.test(f+="")?'"'+f.replace(/"/g,'""')+'"':f}return{parse:e,parseRows:n,format:a,formatBody:u,formatRows:l,formatRow:s,formatValue:d}}var Kr=Jr(","),to=Kr.parse;function ro(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}function oo(t,r){return fetch(t,r).then(ro)}function eo(t){return function(r,o,e){return arguments.length===2&&typeof o=="function"&&(e=o,o=void 0),oo(r,o).then(function(n){return t(n,e)})}}var b0=eo(to);function no(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function R0(t,r){if((o=(t=r?t.toExponential(r-1):t.toExponential()).indexOf("e"))<0)return null;var o,e=t.slice(0,o);return[e.length>1?e[0]+e.slice(2):e,+t.slice(o+1)]}function g0(t){return t=R0(Math.abs(t)),t?t[1]:NaN}function io(t,r){return function(o,e){for(var n=o.length,i=[],a=0,u=t[0],l=0;n>0&&u>0&&(l+u+1>e&&(u=Math.max(1,e-l)),i.push(o.substring(n-=u,n+u)),!((l+=u+1)>e));)u=t[a=(a+1)%t.length];return i.reverse().join(r)}}function uo(t){return function(r){return r.replace(/[0-9]/g,function(o){return t[+o]})}}var ao=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function k0(t){if(!(r=ao.exec(t)))throw new Error("invalid format: "+t);var r;return new lt({fill:r[1],align:r[2],sign:r[3],symbol:r[4],zero:r[5],width:r[6],comma:r[7],precision:r[8]&&r[8].slice(1),trim:r[9],type:r[10]})}k0.prototype=lt.prototype;function lt(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}lt.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function so(t){t:for(var r=t.length,o=1,e=-1,n;o<r;++o)switch(t[o]){case".":e=n=o;break;case"0":e===0&&(e=o),n=o;break;default:if(!+t[o])break t;e>0&&(e=0);break}return e>0?t.slice(0,e)+t.slice(n+1):t}var tr;function po(t,r){var o=R0(t,r);if(!o)return t+"";var e=o[0],n=o[1],i=n-(tr=Math.max(-8,Math.min(8,Math.floor(n/3)))*3)+1,a=e.length;return i===a?e:i>a?e+new Array(i-a+1).join("0"):i>0?e.slice(0,i)+"."+e.slice(i):"0."+new Array(1-i).join("0")+R0(t,Math.max(0,r+i-1))[0]}function It(t,r){var o=R0(t,r);if(!o)return t+"";var e=o[0],n=o[1];return n<0?"0."+new Array(-n).join("0")+e:e.length>n+1?e.slice(0,n+1)+"."+e.slice(n+1):e+new Array(n-e.length+2).join("0")}const Ot={"%":(t,r)=>(t*100).toFixed(r),b:t=>Math.round(t).toString(2),c:t=>t+"",d:no,e:(t,r)=>t.toExponential(r),f:(t,r)=>t.toFixed(r),g:(t,r)=>t.toPrecision(r),o:t=>Math.round(t).toString(8),p:(t,r)=>It(t*100,r),r:It,s:po,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Zt(t){return t}var xt=Array.prototype.map,wt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function lo(t){var r=t.grouping===void 0||t.thousands===void 0?Zt:io(xt.call(t.grouping,Number),t.thousands+""),o=t.currency===void 0?"":t.currency[0]+"",e=t.currency===void 0?"":t.currency[1]+"",n=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?Zt:uo(xt.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",u=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function s(f){f=k0(f);var p=f.fill,c=f.align,h=f.sign,m=f.symbol,U=f.zero,C=f.width,g=f.comma,L=f.precision,v=f.trim,y=f.type;y==="n"?(g=!0,y="g"):Ot[y]||(L===void 0&&(L=12),v=!0,y="g"),(U||p==="0"&&c==="=")&&(U=!0,p="0",c="=");var O=m==="$"?o:m==="#"&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",Z=m==="$"?e:/[%p]/.test(y)?a:"",x=Ot[y],b=/[defgprs%]/.test(y);L=L===void 0?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,L)):Math.max(0,Math.min(20,L));function M(E){var _=O,D=Z,I,S,Q;if(y==="c")D=x(E)+D,E="";else{E=+E;var G=E<0||1/E<0;if(E=isNaN(E)?l:x(Math.abs(E),L),v&&(E=so(E)),G&&+E==0&&h!=="+"&&(G=!1),_=(G?h==="("?h:u:h==="-"||h==="("?"":h)+_,D=(y==="s"?wt[8+tr/3]:"")+D+(G&&h==="("?")":""),b){for(I=-1,S=E.length;++I<S;)if(Q=E.charCodeAt(I),48>Q||Q>57){D=(Q===46?n+E.slice(I+1):E.slice(I))+D,E=E.slice(0,I);break}}}g&&!U&&(E=r(E,1/0));var X=_.length+E.length+D.length,F=X<C?new Array(C-X+1).join(p):"";switch(g&&U&&(E=r(F+E,F.length?C-D.length:1/0),F=""),c){case"<":E=_+E+D+F;break;case"=":E=_+F+E+D;break;case"^":E=F.slice(0,X=F.length>>1)+_+E+D+F.slice(X);break;default:E=F+_+E+D;break}return i(E)}return M.toString=function(){return f+""},M}function d(f,p){var c=s((f=k0(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(g0(p)/3)))*3,m=Math.pow(10,-h),U=wt[8+h/3];return function(C){return c(m*C)+U}}return{format:s,formatPrefix:d}}var E0,ft,rr;fo({thousands:",",grouping:[3],currency:["$",""]});function fo(t){return E0=lo(t),ft=E0.format,rr=E0.formatPrefix,E0}function co(t){return Math.max(0,-g0(Math.abs(t)))}function go(t,r){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(g0(r)/3)))*3-g0(Math.abs(t)))}function ho(t,r){return t=Math.abs(t),r=Math.abs(r)-t,Math.max(0,g0(r)-g0(t))+1}function Co(t){var r=0,o=t.children,e=o&&o.length;if(!e)r=1;else for(;--e>=0;)r+=o[e].value;t.value=r}function mo(){return this.eachAfter(Co)}function Lo(t,r){let o=-1;for(const e of this)t.call(r,e,++o,this);return this}function Uo(t,r){for(var o=this,e=[o],n,i,a=-1;o=e.pop();)if(t.call(r,o,++a,this),n=o.children)for(i=n.length-1;i>=0;--i)e.push(n[i]);return this}function Do(t,r){for(var o=this,e=[o],n=[],i,a,u,l=-1;o=e.pop();)if(n.push(o),i=o.children)for(a=0,u=i.length;a<u;++a)e.push(i[a]);for(;o=n.pop();)t.call(r,o,++l,this);return this}function yo(t,r){let o=-1;for(const e of this)if(t.call(r,e,++o,this))return e}function vo(t){return this.eachAfter(function(r){for(var o=+t(r.data)||0,e=r.children,n=e&&e.length;--n>=0;)o+=e[n].value;r.value=o})}function Eo(t){return this.eachBefore(function(r){r.children&&r.children.sort(t)})}function _o(t){for(var r=this,o=Po(r,t),e=[r];r!==o;)r=r.parent,e.push(r);for(var n=e.length;t!==o;)e.splice(n,0,t),t=t.parent;return e}function Po(t,r){if(t===r)return t;var o=t.ancestors(),e=r.ancestors(),n=null;for(t=o.pop(),r=e.pop();t===r;)n=t,t=o.pop(),r=e.pop();return n}function Io(){for(var t=this,r=[t];t=t.parent;)r.push(t);return r}function Oo(){return Array.from(this)}function Zo(){var t=[];return this.eachBefore(function(r){r.children||t.push(r)}),t}function xo(){var t=this,r=[];return t.each(function(o){o!==t&&r.push({source:o.parent,target:o})}),r}function*wo(){var t=this,r,o=[t],e,n,i;do for(r=o.reverse(),o=[];t=r.pop();)if(yield t,e=t.children)for(n=0,i=e.length;n<i;++n)o.push(e[n]);while(o.length)}function A0(t,r){t instanceof Map?(t=[void 0,t],r===void 0&&(r=Ro)):r===void 0&&(r=bo);for(var o=new z0(t),e,n=[o],i,a,u,l;e=n.pop();)if((a=r(e.data))&&(l=(a=Array.from(a)).length))for(e.children=a,u=l-1;u>=0;--u)n.push(i=a[u]=new z0(a[u])),i.parent=e,i.depth=e.depth+1;return o.eachBefore(Ao)}function Mo(){return A0(this).eachBefore(ko)}function bo(t){return t.children}function Ro(t){return Array.isArray(t)?t[1]:null}function ko(t){t.data.value!==void 0&&(t.value=t.data.value),t.data=t.data.data}function Ao(t){var r=0;do t.height=r;while((t=t.parent)&&t.height<++r)}function z0(t){this.data=t,this.depth=this.height=0,this.parent=null}z0.prototype=A0.prototype={constructor:z0,count:mo,each:Lo,eachAfter:Do,eachBefore:Uo,find:yo,sum:vo,sort:Eo,path:_o,ancestors:Io,descendants:Oo,leaves:Zo,links:xo,copy:Mo,[Symbol.iterator]:wo};function zo(t){return t==null?null:So(t)}function So(t){if(typeof t!="function")throw new Error;return t}function Mt(){return 0}function No(t){return function(){return t}}const To=1664525,jo=1013904223,bt=4294967296;function qo(){let t=1;return()=>(t=(To*t+jo)%bt)/bt}function $o(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fo(t,r){let o=t.length,e,n;for(;o;)n=r()*o--|0,e=t[o],t[o]=t[n],t[n]=e;return t}function Bo(t,r){for(var o=0,e=(t=Fo(Array.from(t),r)).length,n=[],i,a;o<e;)i=t[o],a&&or(a,i)?++o:(a=Vo(n=Yo(n,i)),o=0);return a}function Yo(t,r){var o,e;if(G0(r,t))return[r];for(o=0;o<t.length;++o)if(_0(r,t[o])&&G0(m0(t[o],r),t))return[t[o],r];for(o=0;o<t.length-1;++o)for(e=o+1;e<t.length;++e)if(_0(m0(t[o],t[e]),r)&&_0(m0(t[o],r),t[e])&&_0(m0(t[e],r),t[o])&&G0(er(t[o],t[e],r),t))return[t[o],t[e],r];throw new Error}function _0(t,r){var o=t.r-r.r,e=r.x-t.x,n=r.y-t.y;return o<0||o*o<e*e+n*n}function or(t,r){var o=t.r-r.r+Math.max(t.r,r.r,1)*1e-9,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function G0(t,r){for(var o=0;o<r.length;++o)if(!or(t,r[o]))return!1;return!0}function Vo(t){switch(t.length){case 1:return Wo(t[0]);case 2:return m0(t[0],t[1]);case 3:return er(t[0],t[1],t[2])}}function Wo(t){return{x:t.x,y:t.y,r:t.r}}function m0(t,r){var o=t.x,e=t.y,n=t.r,i=r.x,a=r.y,u=r.r,l=i-o,s=a-e,d=u-n,f=Math.sqrt(l*l+s*s);return{x:(o+i+l/f*d)/2,y:(e+a+s/f*d)/2,r:(f+n+u)/2}}function er(t,r,o){var e=t.x,n=t.y,i=t.r,a=r.x,u=r.y,l=r.r,s=o.x,d=o.y,f=o.r,p=e-a,c=e-s,h=n-u,m=n-d,U=l-i,C=f-i,g=e*e+n*n-i*i,L=g-a*a-u*u+l*l,v=g-s*s-d*d+f*f,y=c*h-p*m,O=(h*v-m*L)/(y*2)-e,Z=(m*U-h*C)/y,x=(c*L-p*v)/(y*2)-n,b=(p*C-c*U)/y,M=Z*Z+b*b-1,E=2*(i+O*Z+x*b),_=O*O+x*x-i*i,D=-(Math.abs(M)>1e-6?(E+Math.sqrt(E*E-4*M*_))/(2*M):_/E);return{x:e+O+Z*D,y:n+x+b*D,r:D}}function Rt(t,r,o){var e=t.x-r.x,n,i,a=t.y-r.y,u,l,s=e*e+a*a;s?(i=r.r+o.r,i*=i,l=t.r+o.r,l*=l,i>l?(n=(s+l-i)/(2*s),u=Math.sqrt(Math.max(0,l/s-n*n)),o.x=t.x-n*e-u*a,o.y=t.y-n*a+u*e):(n=(s+i-l)/(2*s),u=Math.sqrt(Math.max(0,i/s-n*n)),o.x=r.x+n*e-u*a,o.y=r.y+n*a+u*e)):(o.x=r.x+o.r,o.y=r.y)}function kt(t,r){var o=t.r+r.r-1e-6,e=r.x-t.x,n=r.y-t.y;return o>0&&o*o>e*e+n*n}function At(t){var r=t._,o=t.next._,e=r.r+o.r,n=(r.x*o.r+o.x*r.r)/e,i=(r.y*o.r+o.y*r.r)/e;return n*n+i*i}function P0(t){this._=t,this.next=null,this.previous=null}function Ho(t,r){if(!(i=(t=$o(t)).length))return 0;var o,e,n,i,a,u,l,s,d,f,p;if(o=t[0],o.x=0,o.y=0,!(i>1))return o.r;if(e=t[1],o.x=-e.r,e.x=o.r,e.y=0,!(i>2))return o.r+e.r;Rt(e,o,n=t[2]),o=new P0(o),e=new P0(e),n=new P0(n),o.next=n.previous=e,e.next=o.previous=n,n.next=e.previous=o;t:for(l=3;l<i;++l){Rt(o._,e._,n=t[l]),n=new P0(n),s=e.next,d=o.previous,f=e._.r,p=o._.r;do if(f<=p){if(kt(s._,n._)){e=s,o.next=e,e.previous=o,--l;continue t}f+=s._.r,s=s.next}else{if(kt(d._,n._)){o=d,o.next=e,e.previous=o,--l;continue t}p+=d._.r,d=d.previous}while(s!==d.next);for(n.previous=o,n.next=e,o.next=e.previous=e=n,a=At(o);(n=n.next)!==e;)(u=At(n))<a&&(o=n,a=u);e=o.next}for(o=[e._],n=e;(n=n.next)!==e;)o.push(n._);for(n=Bo(o,r),l=0;l<i;++l)o=t[l],o.x-=n.x,o.y-=n.y;return n.r}function Qo(t){return Math.sqrt(t.value)}function zt(){var t=null,r=1,o=1,e=Mt;function n(i){const a=qo();return i.x=r/2,i.y=o/2,t?i.eachBefore(St(t)).eachAfter(X0(e,.5,a)).eachBefore(Nt(1)):i.eachBefore(St(Qo)).eachAfter(X0(Mt,1,a)).eachAfter(X0(e,i.r/Math.min(r,o),a)).eachBefore(Nt(Math.min(r,o)/(2*i.r))),i}return n.radius=function(i){return arguments.length?(t=zo(i),n):t},n.size=function(i){return arguments.length?(r=+i[0],o=+i[1],n):[r,o]},n.padding=function(i){return arguments.length?(e=typeof i=="function"?i:No(+i),n):e},n}function St(t){return function(r){r.children||(r.r=Math.max(0,+t(r)||0))}}function X0(t,r,o){return function(e){if(n=e.children){var n,i,a=n.length,u=t(e)*r||0,l;if(u)for(i=0;i<a;++i)n[i].r+=u;if(l=Ho(n,o),u)for(i=0;i<a;++i)n[i].r-=u;e.r=l+u}}}function Nt(t){return function(r){var o=r.parent;r.r*=t,o&&(r.x=o.x+t*r.x,r.y=o.y+t*r.y)}}function ct(){var t=st().unknown(void 0),r=t.domain,o=t.range,e=0,n=1,i,a,u=!1,l=0,s=0,d=.5;delete t.unknown;function f(){var p=r().length,c=n<e,h=c?n:e,m=c?e:n;i=(m-h)/Math.max(1,p-l+s*2),u&&(i=Math.floor(i)),h+=(m-h-i*(p-l))*d,a=i*(1-l),u&&(h=Math.round(h),a=Math.round(a));var U=Rr(p).map(function(C){return h+i*C});return o(c?U.reverse():U)}return t.domain=function(p){return arguments.length?(r(p),f()):r()},t.range=function(p){return arguments.length?([e,n]=p,e=+e,n=+n,f()):[e,n]},t.rangeRound=function(p){return[e,n]=p,e=+e,n=+n,u=!0,f()},t.bandwidth=function(){return a},t.step=function(){return i},t.round=function(p){return arguments.length?(u=!!p,f()):u},t.padding=function(p){return arguments.length?(l=Math.min(1,s=+p),f()):l},t.paddingInner=function(p){return arguments.length?(l=Math.min(1,p),f()):l},t.paddingOuter=function(p){return arguments.length?(s=+p,f()):s},t.align=function(p){return arguments.length?(d=Math.max(0,Math.min(1,p)),f()):d},t.copy=function(){return ct(r(),[e,n]).round(u).paddingInner(l).paddingOuter(s).align(d)},Bt.apply(f(),arguments)}function Go(t){return function(){return t}}function Xo(t){return+t}var Tt=[0,1];function c0(t){return t}function ut(t,r){return(r-=t=+t)?function(o){return(o-t)/r}:Go(isNaN(r)?NaN:.5)}function Jo(t,r){var o;return t>r&&(o=t,t=r,r=o),function(e){return Math.max(t,Math.min(r,e))}}function Ko(t,r,o){var e=t[0],n=t[1],i=r[0],a=r[1];return n<e?(e=ut(n,e),i=o(a,i)):(e=ut(e,n),i=o(i,a)),function(u){return i(e(u))}}function te(t,r,o){var e=Math.min(t.length,r.length)-1,n=new Array(e),i=new Array(e),a=-1;for(t[e]<t[0]&&(t=t.slice().reverse(),r=r.slice().reverse());++a<e;)n[a]=ut(t[a],t[a+1]),i[a]=o(r[a],r[a+1]);return function(u){var l=Ir(t,u,1,e)-1;return i[l](n[l](u))}}function re(t,r){return r.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function oe(){var t=Tt,r=Tt,o=pt,e,n,i,a=c0,u,l,s;function d(){var p=Math.min(t.length,r.length);return a!==c0&&(a=Jo(t[0],t[p-1])),u=p>2?te:Ko,l=s=null,f}function f(p){return p==null||isNaN(p=+p)?i:(l||(l=u(t.map(e),r,o)))(e(a(p)))}return f.invert=function(p){return a(n((s||(s=u(r,t.map(e),rt)))(p)))},f.domain=function(p){return arguments.length?(t=Array.from(p,Xo),d()):t.slice()},f.range=function(p){return arguments.length?(r=Array.from(p),d()):r.slice()},f.rangeRound=function(p){return r=Array.from(p),o=Yr,d()},f.clamp=function(p){return arguments.length?(a=p?!0:c0,d()):a!==c0},f.interpolate=function(p){return arguments.length?(o=p,d()):o},f.unknown=function(p){return arguments.length?(i=p,f):i},function(p,c){return e=p,n=c,d()}}function ee(){return oe()(c0,c0)}function ne(t,r,o,e){var n=br(t,r,o),i;switch(e=k0(e??",f"),e.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(r));return e.precision==null&&!isNaN(i=go(n,a))&&(e.precision=i),rr(e,a)}case"":case"e":case"g":case"p":case"r":{e.precision==null&&!isNaN(i=ho(n,Math.max(Math.abs(t),Math.abs(r))))&&(e.precision=i-(e.type==="e"));break}case"f":case"%":{e.precision==null&&!isNaN(i=co(n))&&(e.precision=i-(e.type==="%")*2);break}}return ft(e)}function ie(t){var r=t.domain;return t.ticks=function(o){var e=r();return Mr(e[0],e[e.length-1],o??10)},t.tickFormat=function(o,e){var n=r();return ne(n[0],n[n.length-1],o??10,e)},t.nice=function(o){o==null&&(o=10);var e=r(),n=0,i=e.length-1,a=e[n],u=e[i],l,s,d=10;for(u<a&&(s=a,a=u,u=s,s=n,n=i,i=s);d-- >0;){if(s=ot(a,u,o),s===l)return e[n]=a,e[i]=u,r(e);if(s>0)a=Math.floor(a/s)*s,u=Math.ceil(u/s)*s;else if(s<0)a=Math.ceil(a*s)/s,u=Math.floor(u*s)/s;else break;l=s}return t},t}function dt(){var t=ee();return t.copy=function(){return re(t,dt())},Bt.apply(t,arguments),ie(t)}const ue=Lr("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf");function k(t){return function(){return t}}const jt=Math.abs,T=Math.atan2,u0=Math.cos,ae=Math.max,J0=Math.min,J=Math.sin,d0=Math.sqrt,B=1e-12,L0=Math.PI,S0=L0/2,x0=2*L0;function se(t){return t>1?0:t<-1?L0:Math.acos(t)}function qt(t){return t>=1?S0:t<=-1?-S0:Math.asin(t)}function nr(t){let r=3;return t.digits=function(o){if(!arguments.length)return r;if(o==null)r=null;else{const e=Math.floor(o);if(!(e>=0))throw new RangeError(`invalid digits: ${o}`);r=e}return t},()=>new Hr(r)}function pe(t){return t.innerRadius}function le(t){return t.outerRadius}function fe(t){return t.startAngle}function ce(t){return t.endAngle}function de(t){return t&&t.padAngle}function ge(t,r,o,e,n,i,a,u){var l=o-t,s=e-r,d=a-n,f=u-i,p=f*l-d*s;if(!(p*p<B))return p=(d*(r-i)-f*(t-n))/p,[t+p*l,r+p*s]}function I0(t,r,o,e,n,i,a){var u=t-o,l=r-e,s=(a?i:-i)/d0(u*u+l*l),d=s*l,f=-s*u,p=t+d,c=r+f,h=o+d,m=e+f,U=(p+h)/2,C=(c+m)/2,g=h-p,L=m-c,v=g*g+L*L,y=n-i,O=p*m-h*c,Z=(L<0?-1:1)*d0(ae(0,y*y*v-O*O)),x=(O*L-g*Z)/v,b=(-O*g-L*Z)/v,M=(O*L+g*Z)/v,E=(-O*g+L*Z)/v,_=x-U,D=b-C,I=M-U,S=E-C;return _*_+D*D>I*I+S*S&&(x=M,b=E),{cx:x,cy:b,x01:-d,y01:-f,x11:x*(n/y-1),y11:b*(n/y-1)}}function he(){var t=pe,r=le,o=k(0),e=null,n=fe,i=ce,a=de,u=null,l=nr(s);function s(){var d,f,p=+t.apply(this,arguments),c=+r.apply(this,arguments),h=n.apply(this,arguments)-S0,m=i.apply(this,arguments)-S0,U=jt(m-h),C=m>h;if(u||(u=d=l()),c<p&&(f=c,c=p,p=f),!(c>B))u.moveTo(0,0);else if(U>x0-B)u.moveTo(c*u0(h),c*J(h)),u.arc(0,0,c,h,m,!C),p>B&&(u.moveTo(p*u0(m),p*J(m)),u.arc(0,0,p,m,h,C));else{var g=h,L=m,v=h,y=m,O=U,Z=U,x=a.apply(this,arguments)/2,b=x>B&&(e?+e.apply(this,arguments):d0(p*p+c*c)),M=J0(jt(c-p)/2,+o.apply(this,arguments)),E=M,_=M,D,I;if(b>B){var S=qt(b/p*J(x)),Q=qt(b/c*J(x));(O-=S*2)>B?(S*=C?1:-1,v+=S,y-=S):(O=0,v=y=(h+m)/2),(Z-=Q*2)>B?(Q*=C?1:-1,g+=Q,L-=Q):(Z=0,g=L=(h+m)/2)}var G=c*u0(g),X=c*J(g),F=p*u0(y),D0=p*J(y);if(M>B){var y0=c*u0(L),v0=c*J(L),N0=p*u0(v),T0=p*J(v),t0;if(U<L0)if(t0=ge(G,X,N0,T0,y0,v0,F,D0)){var j0=G-t0[0],q0=X-t0[1],$0=y0-t0[0],F0=v0-t0[1],gt=1/J(se((j0*$0+q0*F0)/(d0(j0*j0+q0*q0)*d0($0*$0+F0*F0)))/2),ht=d0(t0[0]*t0[0]+t0[1]*t0[1]);E=J0(M,(p-ht)/(gt-1)),_=J0(M,(c-ht)/(gt+1))}else E=_=0}Z>B?_>B?(D=I0(N0,T0,G,X,c,_,C),I=I0(y0,v0,F,D0,c,_,C),u.moveTo(D.cx+D.x01,D.cy+D.y01),_<M?u.arc(D.cx,D.cy,_,T(D.y01,D.x01),T(I.y01,I.x01),!C):(u.arc(D.cx,D.cy,_,T(D.y01,D.x01),T(D.y11,D.x11),!C),u.arc(0,0,c,T(D.cy+D.y11,D.cx+D.x11),T(I.cy+I.y11,I.cx+I.x11),!C),u.arc(I.cx,I.cy,_,T(I.y11,I.x11),T(I.y01,I.x01),!C))):(u.moveTo(G,X),u.arc(0,0,c,g,L,!C)):u.moveTo(G,X),!(p>B)||!(O>B)?u.lineTo(F,D0):E>B?(D=I0(F,D0,y0,v0,p,-E,C),I=I0(G,X,N0,T0,p,-E,C),u.lineTo(D.cx+D.x01,D.cy+D.y01),E<M?u.arc(D.cx,D.cy,E,T(D.y01,D.x01),T(I.y01,I.x01),!C):(u.arc(D.cx,D.cy,E,T(D.y01,D.x01),T(D.y11,D.x11),!C),u.arc(0,0,p,T(D.cy+D.y11,D.cx+D.x11),T(I.cy+I.y11,I.cx+I.x11),C),u.arc(I.cx,I.cy,E,T(I.y11,I.x11),T(I.y01,I.x01),!C))):u.arc(0,0,p,y,v,C)}if(u.closePath(),d)return u=null,d+""||null}return s.centroid=function(){var d=(+t.apply(this,arguments)+ +r.apply(this,arguments))/2,f=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2-L0/2;return[u0(f)*d,J(f)*d]},s.innerRadius=function(d){return arguments.length?(t=typeof d=="function"?d:k(+d),s):t},s.outerRadius=function(d){return arguments.length?(r=typeof d=="function"?d:k(+d),s):r},s.cornerRadius=function(d){return arguments.length?(o=typeof d=="function"?d:k(+d),s):o},s.padRadius=function(d){return arguments.length?(e=d==null?null:typeof d=="function"?d:k(+d),s):e},s.startAngle=function(d){return arguments.length?(n=typeof d=="function"?d:k(+d),s):n},s.endAngle=function(d){return arguments.length?(i=typeof d=="function"?d:k(+d),s):i},s.padAngle=function(d){return arguments.length?(a=typeof d=="function"?d:k(+d),s):a},s.context=function(d){return arguments.length?(u=d??null,s):u},s}function ir(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ur(t){this._context=t}ur.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,r){switch(t=+t,r=+r,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break;case 1:this._point=2;default:this._context.lineTo(t,r);break}}};function Ce(t){return new ur(t)}function me(t){return t[0]}function Le(t){return t[1]}function $t(t,r){var o=k(!0),e=null,n=Ce,i=null,a=nr(u);t=typeof t=="function"?t:t===void 0?me:k(t),r=typeof r=="function"?r:r===void 0?Le:k(r);function u(l){var s,d=(l=ir(l)).length,f,p=!1,c;for(e==null&&(i=n(c=a())),s=0;s<=d;++s)!(s<d&&o(f=l[s],s,l))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(f,s,l),+r(f,s,l));if(c)return i=null,c+""||null}return u.x=function(l){return arguments.length?(t=typeof l=="function"?l:k(+l),u):t},u.y=function(l){return arguments.length?(r=typeof l=="function"?l:k(+l),u):r},u.defined=function(l){return arguments.length?(o=typeof l=="function"?l:k(!!l),u):o},u.curve=function(l){return arguments.length?(n=l,e!=null&&(i=n(e)),u):n},u.context=function(l){return arguments.length?(l==null?e=i=null:i=n(e=l),u):e},u}function Ue(t,r){return r<t?-1:r>t?1:r>=t?0:NaN}function De(t){return t}function ye(){var t=De,r=Ue,o=null,e=k(0),n=k(x0),i=k(0);function a(u){var l,s=(u=ir(u)).length,d,f,p=0,c=new Array(s),h=new Array(s),m=+e.apply(this,arguments),U=Math.min(x0,Math.max(-x0,n.apply(this,arguments)-m)),C,g=Math.min(Math.abs(U)/s,i.apply(this,arguments)),L=g*(U<0?-1:1),v;for(l=0;l<s;++l)(v=h[c[l]=l]=+t(u[l],l,u))>0&&(p+=v);for(r!=null?c.sort(function(y,O){return r(h[y],h[O])}):o!=null&&c.sort(function(y,O){return o(u[y],u[O])}),l=0,f=p?(U-s*L)/p:0;l<s;++l,m=C)d=c[l],v=h[d],C=m+(v>0?v*f:0)+L,h[d]={data:u[d],index:l,value:v,startAngle:m,endAngle:C,padAngle:g};return h}return a.value=function(u){return arguments.length?(t=typeof u=="function"?u:k(+u),a):t},a.sortValues=function(u){return arguments.length?(r=u,o=null,a):r},a.sort=function(u){return arguments.length?(o=u,r=null,a):o},a.startAngle=function(u){return arguments.length?(e=typeof u=="function"?u:k(+u),a):e},a.endAngle=function(u){return arguments.length?(n=typeof u=="function"?u:k(+u),a):n},a.padAngle=function(u){return arguments.length?(i=typeof u=="function"?u:k(+u),a):i},a}var ve=z('<section class="scrolly svelte-14jsymd"><section class="story svelte-14jsymd"><!></section> <section class="viz svelte-14jsymd"><!></section></section>');function O0(t,r){var E;e0(r,!1);let o=$(r,"progress",4,0),e=$(r,"progressRaw",4,0),n=$(r,"threshold",0,.5),i=$(r,"margin",0,30),a=$(r,"debounce",0,!1),u=$(r,"throttle",0,!1),l=A(),s=A(),d,f,p,c={},h,m;const U=(_,D,I)=>Math.min(Math.max(_,D),I),C=(_,D,I)=>100*(_-D)/(I-D),g=_=>_(),L=_=>_;let v=A(),y=A();U0(()=>{function _({top:S=P(l).getBoundingClientRect().top}={}){e(C(S,d,f)),D()}function D(){let S=U(0,e(),100);S===0||S===100?o(S):P(y)(P(v)(()=>o(S)))}function I(){c=P(l).getBoundingClientRect(),p=window.scrollY+c.top,d=Math.min(p,innerHeight*n())+i(),f=innerHeight-c.height+i(),_(c)}h=new IntersectionObserver(S=>{let Q=S.at(-1);Q.intersectionRatio,Q.isIntersecting?(I(),_(),window.addEventListener("scroll",_),window.addEventListener("resize",I),m==null||m.observe(P(l))):(window.removeEventListener("scroll",_),window.removeEventListener("resize",I),m==null||m.unobserve(P(l)))}),h.observe(P(l),{rootMargin:(i()??0)+"px",threshold:n()}),m=new ResizeObserver(I),I()}),W(()=>{i0(u()),H(()=>{let _=0;R(v,u()>0?function(D){return function(){let I=performance.now();I-_>=u()&&(D(),_=I)}}:L)})}),W(()=>{i0(a()),H(()=>{let _;R(y,a()?a()>0?function(D){clearTimeout(_),_=setTimeout(D,a())}:function(D){cancelAnimationFrame(_),_=requestAnimationFrame(D)}:g)})}),r0();var O=q(t,!0,ve);Ct(O,_=>R(l,_),()=>P(l));var Z=N(O),x=N(Z),b=w(w(Z,!0));Ct(b,_=>R(s,_),()=>P(s));var M=N(b);p0(O,"style",()=>`--scrolly-margin: ${s0(i())}`),mt(x,r.children,{},null),mt(M,(E=r.$$slots)==null?void 0:E.viz,{},null),j(t,O),o0()}const Ee=[{ZIPCODE:"02238",count_of_address:1,Latitude_generated:42.375,longitude_generated:-71.10610199},{ZIPCODE:"02215",count_of_address:28,Latitude_generated:42.3472,longitude_generated:-71.099688298},{ZIPCODE:"02210",count_of_address:10,Latitude_generated:42.347000122,longitude_generated:-71.041000366},{ZIPCODE:"02199",count_of_address:1,Latitude_generated:42.346599579,longitude_generated:-71.082702637},{ZIPCODE:"02142",count_of_address:5,Latitude_generated:42.36289978,longitude_generated:-71.084701538},{ZIPCODE:"02141",count_of_address:24,Latitude_generated:42.370399475,longitude_generated:-71.082199097},{ZIPCODE:"02140-1841",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140-1124",count_of_address:1,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02140",count_of_address:24,Latitude_generated:42.393398285,longitude_generated:-71.134101868},{ZIPCODE:"02139-4745",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-4019",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-3928",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1116",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1113",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139-1017",count_of_address:1,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02139",count_of_address:50,Latitude_generated:42.363498688,longitude_generated:-71.103500366},{ZIPCODE:"02138-6832",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4646",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-4531",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138-2121",count_of_address:1,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02138",count_of_address:48,Latitude_generated:42.379299164,longitude_generated:-71.13469696},{ZIPCODE:"02136",count_of_address:115,Latitude_generated:42.254573275,longitude_generated:-71.125281891},{ZIPCODE:"02133",count_of_address:1,Latitude_generated:42.357898712,longitude_generated:-71.063499451},{ZIPCODE:"02132",count_of_address:75,Latitude_generated:42.278388487,longitude_generated:-71.16006103},{ZIPCODE:"02131",count_of_address:233,Latitude_generated:42.28275,longitude_generated:-71.125859439},{ZIPCODE:"02130",count_of_address:255,Latitude_generated:42.307899475,longitude_generated:-71.112701416},{ZIPCODE:"02129",count_of_address:89,Latitude_generated:42.379199982,longitude_generated:-71.064399719},{ZIPCODE:"02128",count_of_address:212,Latitude_generated:42.37275,longitude_generated:-71.02818},{ZIPCODE:"02127",count_of_address:277,Latitude_generated:42.3357,longitude_generated:-71.040740733},{ZIPCODE:"02126",count_of_address:26,Latitude_generated:42.276500702,longitude_generated:-71.093002319},{ZIPCODE:"02125",count_of_address:136,Latitude_generated:42.31865,longitude_generated:-71.057624145},{ZIPCODE:"02124",count_of_address:121,Latitude_generated:42.285853705,longitude_generated:-71.071814029},{ZIPCODE:"02122",count_of_address:126,Latitude_generated:42.29445,longitude_generated:-71.052695703},{ZIPCODE:"02121",count_of_address:55,Latitude_generated:42.307373545,longitude_generated:-71.082806865},{ZIPCODE:"02120",count_of_address:37,Latitude_generated:42.332656641,longitude_generated:-71.095659537},{ZIPCODE:"02119",count_of_address:111,Latitude_generated:42.3238,longitude_generated:-71.083608708},{ZIPCODE:"02118",count_of_address:82,Latitude_generated:42.3379156,longitude_generated:-71.069753417},{ZIPCODE:"02116",count_of_address:56,Latitude_generated:42.349179535,longitude_generated:-71.074520575},{ZIPCODE:"02115",count_of_address:31,Latitude_generated:42.34155,longitude_generated:-71.088459936},{ZIPCODE:"02114",count_of_address:20,Latitude_generated:42.362201691,longitude_generated:-71.066398621},{ZIPCODE:"02113",count_of_address:18,Latitude_generated:42.364299774,longitude_generated:-71.057502747},{ZIPCODE:"02111",count_of_address:3,Latitude_generated:42.350741429,longitude_generated:-71.05914918},{ZIPCODE:"02110",count_of_address:6,Latitude_generated:42.355850624,longitude_generated:-71.055570374},{ZIPCODE:"02109",count_of_address:6,Latitude_generated:42.3632,longitude_generated:-71.053075619},{ZIPCODE:"02108",count_of_address:23,Latitude_generated:42.356001176,longitude_generated:-71.066357458}],_e=[{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01742"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01757"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01760"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01824"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"01845"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01880"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01890"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01940"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"01945"},{1800:1,1810:0,1820:1,1830:0,1840:1,1850:0,1860:0,1870:1,1880:0,1890:12,1900:3,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02108"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:1,2010:0,2020:0,ZIPCODE:"02109"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02110"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02111"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:4,1900:3,1910:3,1920:3,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:1,1870:0,1880:1,1890:3,1900:2,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:4,2020:0,ZIPCODE:"02114"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:9,1900:1,1910:2,1920:2,1930:2,1940:0,1950:0,1960:1,1970:1,1980:1,1990:1,2e3:0,2010:1,2020:0,ZIPCODE:"02115"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:2,1870:1,1880:3,1890:26,1900:6,1910:4,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:1,1990:2,2e3:3,2010:0,2020:2,ZIPCODE:"02116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:14,1870:2,1880:0,1890:27,1900:10,1910:3,1920:4,1930:1,1940:0,1950:1,1960:0,1970:2,1980:2,1990:1,2e3:2,2010:2,2020:0,ZIPCODE:"02118"},{1800:0,1810:0,1820:0,1830:0,1840:1,1850:1,1860:0,1870:3,1880:7,1890:16,1900:26,1910:3,1920:1,1930:1,1940:0,1950:1,1960:3,1970:3,1980:2,1990:4,2e3:18,2010:5,2020:2,ZIPCODE:"02119"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:1,1900:6,1910:1,1920:1,1930:1,1940:0,1950:0,1960:3,1970:0,1980:11,1990:1,2e3:7,2010:0,2020:2,ZIPCODE:"02120"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:4,1900:15,1910:9,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:1,1990:0,2e3:5,2010:5,2020:2,ZIPCODE:"02121"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:1,1880:2,1890:6,1900:45,1910:11,1920:16,1930:3,1940:1,1950:0,1960:0,1970:0,1980:6,1990:2,2e3:8,2010:9,2020:7,ZIPCODE:"02122"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:3,1890:15,1900:32,1910:9,1920:18,1930:7,1940:2,1950:1,1960:0,1970:0,1980:2,1990:7,2e3:11,2010:5,2020:3,ZIPCODE:"02124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:7,1890:14,1900:48,1910:7,1920:6,1930:3,1940:0,1950:0,1960:0,1970:0,1980:5,1990:1,2e3:16,2010:15,2020:5,ZIPCODE:"02125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:4,1920:6,1930:4,1940:0,1950:1,1960:0,1970:1,1980:1,1990:0,2e3:3,2010:2,2020:1,ZIPCODE:"02126"},{1800:1,1810:0,1820:0,1830:1,1840:0,1850:0,1860:1,1870:7,1880:5,1890:49,1900:62,1910:18,1920:8,1930:2,1940:1,1950:0,1960:5,1970:1,1980:21,1990:7,2e3:16,2010:45,2020:16,ZIPCODE:"02127"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:4,1860:1,1870:5,1880:11,1890:12,1900:81,1910:28,1920:8,1930:1,1940:2,1950:0,1960:2,1970:0,1980:4,1990:1,2e3:2,2010:29,2020:13,ZIPCODE:"02128"},{1800:1,1810:0,1820:1,1830:2,1840:1,1850:5,1860:7,1870:15,1880:13,1890:9,1900:5,1910:3,1920:2,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:2,2e3:7,2010:7,2020:3,ZIPCODE:"02129"},{1800:1,1810:0,1820:0,1830:0,1840:1,1850:0,1860:2,1870:5,1880:12,1890:15,1900:74,1910:24,1920:30,1930:7,1940:1,1950:2,1960:2,1970:0,1980:5,1990:7,2e3:29,2010:19,2020:7,ZIPCODE:"02130"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:9,1890:11,1900:36,1910:37,1920:51,1930:9,1940:0,1950:0,1960:6,1970:2,1980:15,1990:3,2e3:18,2010:15,2020:10,ZIPCODE:"02131"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:5,1900:4,1910:7,1920:23,1930:3,1940:4,1950:4,1960:8,1970:2,1980:3,1990:3,2e3:4,2010:0,2020:1,ZIPCODE:"02132"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:2,1880:2,1890:5,1900:13,1910:16,1920:10,1930:6,1940:4,1950:5,1960:9,1970:1,1980:9,1990:4,2e3:19,2010:4,2020:2,ZIPCODE:"02136"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:2,1860:2,1870:2,1880:1,1890:3,1900:5,1910:8,1920:7,1930:1,1940:0,1950:0,1960:0,1970:0,1980:0,1990:1,2e3:0,2010:3,2020:0,ZIPCODE:"02138"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-1915"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4531"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-4646"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02138-6832"},{1800:0,1810:0,1820:0,1830:1,1840:2,1850:0,1860:0,1870:4,1880:4,1890:6,1900:7,1910:6,1920:1,1930:0,1940:0,1950:0,1960:0,1970:1,1980:1,1990:1,2e3:0,2010:0,2020:0,ZIPCODE:"02139"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1017"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1113"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:1,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-1116"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-3125"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4019"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4423"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:1,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4430"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02139-4745"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:2,1900:2,1910:1,1920:3,1930:1,1940:0,1950:0,1960:1,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:1,ZIPCODE:"02140"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1124"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1610"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-1841"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02140-3304"},{1800:0,1810:0,1820:0,1830:1,1840:0,1850:1,1860:0,1870:0,1880:0,1890:2,1900:5,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:1,1980:0,1990:0,2e3:2,2010:2,2020:1,ZIPCODE:"02141"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02141-1931"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:2,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02142"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02199"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:1,1920:0,1930:1,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:1,2020:0,ZIPCODE:"02210"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:10,1900:7,1910:4,1920:0,1930:0,1940:0,1950:0,1960:1,1970:0,1980:0,1990:1,2e3:1,2010:1,2020:0,ZIPCODE:"02215"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02421"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02458"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:1,1890:0,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02460"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:1,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02461"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:1,1900:0,1910:0,1920:0,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02472"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:1,1880:0,1890:0,1900:0,1910:0,1920:1,1930:0,1940:0,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"02474"},{1800:0,1810:0,1820:0,1830:0,1840:0,1850:0,1860:0,1870:0,1880:0,1890:0,1900:0,1910:0,1920:0,1930:0,1940:1,1950:0,1960:0,1970:0,1980:0,1990:0,2e3:0,2010:0,2020:0,ZIPCODE:"03246"}];var Pe=at('<rect class="bar svelte-76qd0p" fill="orange"></rect>'),Ie=at('<svg id="barchart-svg"><g><!><g class="x-axis svelte-76qd0p"><text text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Year Built</text></g><g class="y-axis svelte-76qd0p"><text transform="rotate(-90)" text-anchor="middle" style="font-size: 16px" class="svelte-76qd0p">Number of Buildings</text></g></g></svg>');function Oe(t,r){e0(r,!1);let o=$(r,"dataArray",8,()=>[]),e={top:20,right:30,bottom:70,left:80},n=960-e.left-e.right,i=500-e.top-e.bottom;const a=ct().domain(o().map(y=>y.year)).range([0,n]).padding(.1),u=dt().domain([0,Wt(o(),y=>y.count)]).range([i,0]),l=Gt(a).tickFormat(ft("d")),s=Xt(u).ticks(5);function d(){n0(".x-axis").call(l),n0(".y-axis").call(s)}U0(()=>{d()}),r0();var f=q(t,!0,Ie),p=N(f),c=N(p),h=w(c);K(h,"transform",`translate(0, ${i})`);var m=N(h);K(m,"x",n/2),K(m,"y",40);var U=w(h),C=N(U);K(C,"x",-i/2),K(C,"y",-50);var g,L,v;K0(()=>{g!==(g=n+e.left+e.right)&&K(f,"width",g),L!==(L=i+e.top+e.bottom)&&K(f,"height",L),v!==(v=`translate(${e.left},${e.top})`)&&K(p,"transform",v)}),Dr(c,o,7,(y,O)=>V(y).year,(y,O,Z)=>{var x=q(y,!0,Pe);p0(x,"x",()=>a(V(O).year)),p0(x,"y",()=>u(V(O).count)),p0(x,"width",()=>a.bandwidth()),p0(x,"height",()=>i-u(V(O).count)),j(y,x)},null),j(t,f),o0()}var Ze=z('<h1>Year Converted Property was Built</h1> <blockquote><a href="https://homesforprofit.mapc.org/report">Investors upgrading residential properties into condos can displace residents due to subsequent rent increases.</a> Here, we display the number of condo conversions against the year the building was built. While imperfect, we use how early a building was constructed as a proxy for how likely the condo conversion upgraded the property.</blockquote> <!>',!0);function xe(t,r){e0(r,!1),$(r,"hLevel",0,2);let o=$(r,"query",0,""),e=A(),n=A(),i,a=A(),u=A(),l=A(),s=-1,d=A(),f=A(),p=A();function c(g){const L={};return g.forEach(v=>{const y=v.substring(0,5);L[y]||(L[y]=[]),L[y].push(v.substring(0,5))}),L}W(()=>{i0(o()),H(()=>{R(e,Ee.filter(g=>o()?Object.values(g).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),W(()=>{i0(o()),H(()=>{R(n,_e.filter(g=>o()?Object.values(g).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),W(()=>{P(a),P(e),P(u),P(n),P(l),H(()=>{R(a,Vt(P(e),g=>Ht(g,L=>L.Count_of_LU_prior),g=>g.LU_prior_group)),console.log("Rolled ",P(a)),R(u,P(n).reduce((g,L)=>(Object.keys(L).forEach(v=>{v!=="ZIPCODE"&&(g[v]||(g[v]=0),g[v]+=L[v])}),g),{})),console.log("Agg Year Built",P(u)),R(l,Object.keys(P(u)).map(g=>({year:parseInt(g),count:P(u)[g]})).sort((g,L)=>g.year-L.year)),console.log("Year Built Data Array ",P(l))})}),W(()=>{H(()=>{R(d,s>-1?i[s].label:null)})}),W(()=>{P(f),P(e),H(()=>{R(f,P(e).map(g=>g.ZIPCODE)),R(p,new Set(Object.values(c(P(f))).flat()))})}),r0();var h=f0(t,!0,Ze),m=w0(h),U=w(w(m,!0)),C=w(w(U,!0));Oe(C,{get dataArray(){return P(l)}}),l0(t,h),o0()}var we=z('<h1>Complaints by Zipcode</h1> <blockquote scrolly-container="">We categorized the complaints into groups to demonstrate the impact of condominium development both on residents and the surrounding neighborhood.</blockquote> <svg id="bubblechart-svg"></svg> <div class="legend"></div>',!0);function Me(t,r){e0(r,!1);let o=$(r,"query",0,""),e,n=960,i=500;const a={top:20,right:20,bottom:30,left:40},u=st(ue);async function l(f){const p=await b0("complaints_count_zipcode.csv");p.columns=p.columns.map(g=>g.trim().replace(/[^\x20-\x7E]+/g,""));const c=p.filter(g=>f?g["Zip Code"]===f:!0),h=zt().size([n-a.left-a.right,i-a.top-a.bottom]).padding(10),m=A0({children:c}).sum(g=>+g["Count of Description"]),U=h(m).descendants();e=n0("#bubblechart-svg").attr("width",n).attr("height",i).append("g").attr("transform",`translate(${a.left}, ${a.top})`),e.append("text").attr("class","chart title").attr("x",n/2).attr("y",8).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaint Types filed for Condominiums, 2019 to Present"),console.log("ZIP",f),e.selectAll("circle").data(U.slice(1)).enter().append("circle").attr("cx",g=>g.x).attr("cy",g=>g.y).attr("r",g=>g.r).attr("fill",g=>u(g.data["Description (group)"])).attr("opacity",.7).on("mouseover",function(g,L){n0(this).append("title").text(L.data["Description (group)"])}).on("mouseout",function(){n0(this).select("title").remove()}),console.log(u.domain())}function s(f){f?b0("complaints_count_zipcode.csv").then(p=>{p.columns=p.columns.map(C=>C.trim().replace(/[^\x20-\x7E]+/g,""));const c=p.filter(C=>f?C["Zip Code"]===f:!0),h=A0({children:c}).sum(C=>+C["Count of Description"]),m=zt().size([n-a.left-a.right,i-a.top-a.bottom]).padding(10)(h).descendants(),U=e.selectAll("circle").data(m.slice(1));U.transition().duration(750).attr("cx",C=>C.x).attr("cy",C=>C.y).attr("r",C=>C.r),U.enter().append("circle").attr("cx",C=>C.x).attr("cy",C=>C.y).attr("r",C=>C.r).attr("fill",C=>u(C.data["Description (group)"])).attr("opacity",.7).transition().duration(750).attr("r",C=>C.r),U.exit().remove(),U.on("mouseover",function(C,g){n0(this).append("title").text(g.data["Description (group)"])}).on("mouseout",function(){n0(this).select("title").remove()})}):alert("Please enter a zipcode.")}U0(()=>{l(o())}),W(()=>{i0(o()),H(()=>{o()&&s(o())})}),r0();var d=f0(t,!0,we);l0(t,d),o0()}var be=z('<h1>Condo Complaints</h1> <blockquote scrolly-container="">The <a href="https://data.boston.gov/dataset/rentsmart">RentSmart dataset</a> contains data from Boston’s 311 line and Boston’s Inspectional Services Division on residential property complaints from 2019 to the present.</blockquote> <svg id="linechart-svg" width="960" height="500"></svg>',!0);function Re(t,r){e0(r,!1);let o=$(r,"query",0,""),e,n,i;function a(){const d={top:50,right:250,bottom:80,left:70},f=960-d.left-d.right,p=500-d.top-d.bottom;e=n0("#linechart-svg").attr("viewBox",`0 0 1000 ${p+d.top+d.bottom}`).append("g").attr("transform",`translate(${d.left},${d.top})`),n=ct().range([0,f]).padding(.2),e.append("g").attr("class","x-axis").attr("transform",`translate(0,${p})`),e.append("text").attr("class","x label").attr("text-anchor","middle").attr("x",f/2).attr("y",p+40).text("Year"),i=dt().range([p,0]),e.append("g").attr("class","y-axis"),e.append("text").attr("class","y label").attr("text-anchor","middle").attr("transform","rotate(-90)").attr("y",-50).attr("x",-p/2).text("Number of Distinct Buildings or Complaints in a Year"),e.append("text").attr("class","chart title").attr("x",f/2).attr("y",-20).attr("text-anchor","middle").style("font-size","20px").style("font-weight","bold").text("Complaints Filed about Condominium Buildings");const c=e.append("g").attr("class","legend").attr("transform",`translate(${f+50}, 20)`),h=[{color:"steelblue",label:"# of Complaints Filed Per Year"},{color:"red",label:"# of Distinct Buildings the Complaints are Filed About"}];let m=0;h.forEach(U=>{const C=U.label.length*8;m=Math.max(m,C)}),m+=10,c.append("rect").attr("class","legend-box").attr("x",-300).attr("y",250).attr("width",m).attr("height",h.length*20+10).attr("fill","none").attr("stroke","black"),h.forEach((U,C)=>{const g=c.append("g").attr("transform",`translate(0, ${C*20+10})`);g.append("rect").attr("x",-285).attr("y",250).attr("width",10).attr("height",10).attr("fill",U.color),g.append("text").attr("x",-270).attr("y",260).attr("font-size","15px").text(U.label)}),u(o())}async function u(s){const d=await b0("complaints_year_zipcode.csv");d.columns=d.columns.map(g=>g.trim().replace(/[^\x20-\x7E]+/g,""));const f=d.filter(g=>s?g["Zip Code"]===s:!0);let p={};f.forEach(g=>{const L=g["Date (Years)"];p[L]||(p[L]={count:0,discounted:0}),p[L].count+=+g["Number of Complaints Filed Per Year"],p[L].discounted+=+g["Number of Distinct Condominum Buildings the Complaints are Filed About"]});let c=Object.keys(p).map(g=>({year:g,count:p[g].count,discounted:p[g].discounted}));const h=$t().x(g=>n(g.year)+n.bandwidth()/2).y(g=>i(g.count)),m=$t().x(g=>n(g.year)+n.bandwidth()/2).y(g=>i(g.discounted));n.domain(c.map(g=>g.year)),e.select(".x-axis").transition().duration(750).call(Gt(n)).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end"),i.domain([0,Wt(c,g=>Math.max(g.count,g.discounted))]),e.select(".y-axis").transition().duration(750).call(Xt(i));let U=e.selectAll(".line-count").data([c],g=>g.year),C=e.selectAll(".line-discounted").data([c],g=>g.year);U.transition().duration(750).attr("d",h(c)),C.transition().duration(750).attr("d",m(c)),U.empty()&&e.append("path").data([c]).attr("class","line-count").attr("fill","none").attr("stroke","steelblue").attr("stroke-width",1.5).attr("d",h),C.empty()&&e.append("path").data([c]).attr("class","line-discounted").attr("fill","none").attr("stroke","red").attr("stroke-width",1.5).attr("d",m)}U0(()=>{a()}),W(()=>{i0(o()),H(()=>{o()&&u(o())})}),r0();var l=f0(t,!0,be);l0(t,l),o0()}const ke=[{"ZIPCODE post (group)":"02215","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02215","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02210","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02142","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02141","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02141","LU prior groups":"R2","Count of LU prior":8},{"ZIPCODE post (group)":"02141","LU prior groups":"R3","Count of LU prior":7},{"ZIPCODE post (group)":"02140","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02140","LU prior groups":"R2","Count of LU prior":13},{"ZIPCODE post (group)":"02140","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02139","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02139","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02139","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02139","LU prior groups":"R2","Count of LU prior":21},{"ZIPCODE post (group)":"02139","LU prior groups":"R3","Count of LU prior":10},{"ZIPCODE post (group)":"02138","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02138","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02138","LU prior groups":"CM","Count of LU prior":4},{"ZIPCODE post (group)":"02138","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02138","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02136","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02136","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02136","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02136","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02136","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02136","LU prior groups":"R3","Count of LU prior":8},{"ZIPCODE post (group)":"02132","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02132","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02132","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02132","LU prior groups":"R2","Count of LU prior":18},{"ZIPCODE post (group)":"02132","LU prior groups":"R3","Count of LU prior":4},{"ZIPCODE post (group)":"02131","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02131","LU prior groups":"A","Count of LU prior":5},{"ZIPCODE post (group)":"02131","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02131","LU prior groups":"CM","Count of LU prior":11},{"ZIPCODE post (group)":"02131","LU prior groups":"CD","Count of LU prior":70},{"ZIPCODE post (group)":"02131","LU prior groups":"R2","Count of LU prior":65},{"ZIPCODE post (group)":"02131","LU prior groups":"R3","Count of LU prior":32},{"ZIPCODE post (group)":"02130","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02130","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02130","LU prior groups":"R1","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02130","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02130","LU prior groups":"CM","Count of LU prior":16},{"ZIPCODE post (group)":"02130","LU prior groups":"CD","Count of LU prior":59},{"ZIPCODE post (group)":"02130","LU prior groups":"R2","Count of LU prior":43},{"ZIPCODE post (group)":"02130","LU prior groups":"R3","Count of LU prior":63},{"ZIPCODE post (group)":"02129","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02129","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02129","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02129","LU prior groups":"CD","Count of LU prior":11},{"ZIPCODE post (group)":"02129","LU prior groups":"R2","Count of LU prior":20},{"ZIPCODE post (group)":"02129","LU prior groups":"R3","Count of LU prior":26},{"ZIPCODE post (group)":"02128","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02128","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"R1","Count of LU prior":3},{"ZIPCODE post (group)":"02128","LU prior groups":"RC","Count of LU prior":5},{"ZIPCODE post (group)":"02128","LU prior groups":"A","Count of LU prior":12},{"ZIPCODE post (group)":"02128","LU prior groups":"R4","Count of LU prior":18},{"ZIPCODE post (group)":"02128","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02128","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02128","LU prior groups":"R2","Count of LU prior":40},{"ZIPCODE post (group)":"02128","LU prior groups":"R3","Count of LU prior":101},{"ZIPCODE post (group)":"02127","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02127","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02127","LU prior groups":"RL","Count of LU prior":3},{"ZIPCODE post (group)":"02127","LU prior groups":"R1","Count of LU prior":8},{"ZIPCODE post (group)":"02127","LU prior groups":"RC","Count of LU prior":12},{"ZIPCODE post (group)":"02127","LU prior groups":"A","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"R4","Count of LU prior":15},{"ZIPCODE post (group)":"02127","LU prior groups":"CM","Count of LU prior":18},{"ZIPCODE post (group)":"02127","LU prior groups":"CD","Count of LU prior":36},{"ZIPCODE post (group)":"02127","LU prior groups":"R2","Count of LU prior":53},{"ZIPCODE post (group)":"02127","LU prior groups":"R3","Count of LU prior":55},{"ZIPCODE post (group)":"02126","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"CM","Count of LU prior":3},{"ZIPCODE post (group)":"02126","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02126","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02126","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02125","LU prior groups":"A","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02125","LU prior groups":"CM","Count of LU prior":8},{"ZIPCODE post (group)":"02125","LU prior groups":"CD","Count of LU prior":16},{"ZIPCODE post (group)":"02125","LU prior groups":"R2","Count of LU prior":17},{"ZIPCODE post (group)":"02125","LU prior groups":"R3","Count of LU prior":53},{"ZIPCODE post (group)":"02124","LU prior groups":"CL","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02124","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02124","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02124","LU prior groups":"CM","Count of LU prior":7},{"ZIPCODE post (group)":"02124","LU prior groups":"CD","Count of LU prior":12},{"ZIPCODE post (group)":"02124","LU prior groups":"R2","Count of LU prior":29},{"ZIPCODE post (group)":"02124","LU prior groups":"R3","Count of LU prior":28},{"ZIPCODE post (group)":"02122","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02122","LU prior groups":"R4","Count of LU prior":10},{"ZIPCODE post (group)":"02122","LU prior groups":"CM","Count of LU prior":6},{"ZIPCODE post (group)":"02122","LU prior groups":"CD","Count of LU prior":17},{"ZIPCODE post (group)":"02122","LU prior groups":"R2","Count of LU prior":22},{"ZIPCODE post (group)":"02122","LU prior groups":"R3","Count of LU prior":36},{"ZIPCODE post (group)":"02121","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02121","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02121","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02121","LU prior groups":"CD","Count of LU prior":5},{"ZIPCODE post (group)":"02121","LU prior groups":"R2","Count of LU prior":6},{"ZIPCODE post (group)":"02121","LU prior groups":"R3","Count of LU prior":16},{"ZIPCODE post (group)":"02120","LU prior groups":"E","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"A","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"R4","Count of LU prior":1},{"ZIPCODE post (group)":"02120","LU prior groups":"CD","Count of LU prior":13},{"ZIPCODE post (group)":"02119","LU prior groups":"I","Count of LU prior":1},{"ZIPCODE post (group)":"02119","LU prior groups":"RL","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R1","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02119","LU prior groups":"R4","Count of LU prior":4},{"ZIPCODE post (group)":"02119","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02119","LU prior groups":"CD","Count of LU prior":20},{"ZIPCODE post (group)":"02119","LU prior groups":"R2","Count of LU prior":12},{"ZIPCODE post (group)":"02119","LU prior groups":"R3","Count of LU prior":17},{"ZIPCODE post (group)":"02118","LU prior groups":"CC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"RC","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02118","LU prior groups":"R4","Count of LU prior":11},{"ZIPCODE post (group)":"02118","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02118","LU prior groups":"CD","Count of LU prior":2},{"ZIPCODE post (group)":"02118","LU prior groups":"R2","Count of LU prior":19},{"ZIPCODE post (group)":"02118","LU prior groups":"R3","Count of LU prior":15},{"ZIPCODE post (group)":"02116","LU prior groups":"C","Count of LU prior":3},{"ZIPCODE post (group)":"02116","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02116","LU prior groups":"RC","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"A","Count of LU prior":2},{"ZIPCODE post (group)":"02116","LU prior groups":"R4","Count of LU prior":6},{"ZIPCODE post (group)":"02116","LU prior groups":"CM","Count of LU prior":5},{"ZIPCODE post (group)":"02116","LU prior groups":"CD","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R2","Count of LU prior":7},{"ZIPCODE post (group)":"02116","LU prior groups":"R3","Count of LU prior":9},{"ZIPCODE post (group)":"02115","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"RL","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R4","Count of LU prior":3},{"ZIPCODE post (group)":"02115","LU prior groups":"CM","Count of LU prior":2},{"ZIPCODE post (group)":"02115","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02115","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02114","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CC","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R4","Count of LU prior":5},{"ZIPCODE post (group)":"02113","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"CD","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02113","LU prior groups":"R3","Count of LU prior":2},{"ZIPCODE post (group)":"02111","LU prior groups":"RC","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02110","LU prior groups":"R3","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"C","Count of LU prior":2},{"ZIPCODE post (group)":"02109","LU prior groups":"CM","Count of LU prior":1},{"ZIPCODE post (group)":"02109","LU prior groups":"R2","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"C","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"CC","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R1","Count of LU prior":1},{"ZIPCODE post (group)":"02108","LU prior groups":"A","Count of LU prior":3},{"ZIPCODE post (group)":"02108","LU prior groups":"R4","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R2","Count of LU prior":2},{"ZIPCODE post (group)":"02108","LU prior groups":"R3","Count of LU prior":6}];var Ae=at('<path tabindex="0" role="button" aria-label="pie wedge" class="svelte-19yj5i9"></path>'),ze=z('<li class="legend-item"><span class="swatch svelte-19yj5i9"></span> <em> </em></li>'),Se=z('<div class="container svelte-19yj5i9"><svg id="piechart-svg" viewBox="-50 -50 100 100" class="svelte-19yj5i9"></svg> <ul class="legend svelte-19yj5i9"></ul></div>');function Ne(t,r){e0(r,!1);let o=$(r,"selectedIndex",12,()=>-1),e=$(r,"data",8,()=>[]),n=he().innerRadius(0).outerRadius(50),i=A(),a=A(),u=ye().value(c=>c.value),l=st(Ur);function s(c,h){(!h.key||h.key==="Enter")&&o(o()===c?-1:c)}W(()=>{i0(e()),H(()=>{R(i,u(e()))})}),W(()=>{P(i),H(()=>{R(a,P(i).map(c=>n(c)))})}),r0();var d=q(t,!0,Se),f=N(d),p=w(w(f,!0));vt(f,()=>P(a),9,(c,h,m)=>{var U=q(c,!0,Ae);p0(U,"fill",()=>l(V(m)));var C,g;K0(()=>{var L,v;C!==(C=V(h))&&K(U,"d",C),g!==(g=`--start-angle: ${s0((L=P(i)[V(m)])==null?void 0:L.startAngle)}rad;
                    --end-angle: ${s0((v=P(i)[V(m)])==null?void 0:v.endAngle)}rad;`)&&K(U,"style",g),ar(U,"selected",o()===V(m))}),tt("click",U,L=>s(V(m),L),!1),tt("keyup",U,L=>s(V(m),L),!1),j(c,U)},null),vt(p,e,9,(c,h,m)=>{var U=q(c,!0,ze),C=N(U),g=w(C,!0),L=w(g),v=N(L);p0(U,"style",()=>`--color: ${s0(l(V(m)))}`),K0(()=>{Lt(g,` ${s0(V(h).label)} `),Lt(v,`(${s0(V(h).value)})`)}),j(c,U)},null),j(t,d),o0()}var Te=z('<h1>Building Type Converted into Condominiums</h1> <blockquote scrolly-container="">Families and renters can be displaced when their homes are converted into luxury condos. This effect is especially prevalent when multi-family housing is converted into condos. To estimate the impact of condo conversions on families, we display the most common building types converted into condos.</blockquote> <!> <text>Note: Legend adapted from <a href="https://www.cityofboston.gov/images_documents/land_use_codes%5B1%5D_tcm3-8867.pdf">City of Boston LAND USE CODES</a></text>',!0);function je(t,r){e0(r,!1);let o=$(r,"query",0,""),e=A();const n={CM:"Building broken into condo units",R1:"1-Family",R2:"2-Family",R3:"3-Family",R4:"4-6 Units",A:"7+ Units",RL:"Residential Lot",CD:"Condo",CC:"Commerical Condo",C:"Commerical",RC:"Mixed Use",CL:"Commerical Land",CP:"Condo Parking",I:"Industrial",E:"Exempt",EA:"Exempt"};let i=A(),a=A(),u=A(-1),l=A();W(()=>{i0(o()),H(()=>{R(e,ke.filter(c=>o()?Object.values(c).join(`
`).toLowerCase().includes(o().toLowerCase()):!0))})}),W(()=>{P(i),P(e),P(a),H(()=>{R(i,{}),console.log(P(e)),R(a,Vt(P(e),c=>Ht(c,h=>h["Count of LU prior"]),c=>c["LU prior groups"])),console.log("Rolled ",P(a)),R(i,P(a).map(([c,h])=>({value:h,label:n[c]}))),console.log("pied ",P(i))})}),W(()=>{P(u),P(i),H(()=>{R(l,P(u)>-1?P(i)[P(u)].label:null)})}),r0();var s=f0(t,!0,Te),d=w0(s),f=w(w(d,!0)),p=w(w(f,!0));Ne(p,{get data(){return P(i)},get selectedIndex(){return P(u)},set selectedIndex(c){R(u,c)}}),l0(t,s),o0()}var qe=z('<blockquote scrolly-container=""> </blockquote>'),$e=z('<div><div id="map" class="svelte-ahycl4"></div> <button class="reset-button svelte-ahycl4">Reset Map</button> <!></div>');function Fe(t,r){e0(r,!1),B0.accessToken="pk.eyJ1Ijoic2VqYWxnIiwiYSI6ImNsdmN0Y21yZTBubmgydmxmNDlmbHVuMXAifQ.G5QWdSQskLQRC0Dw0nYLVw";let o;var e=A(null),n=$(r,"zipcode",4,null);const i=[-71.0589,42.3601],a=11;U0(async()=>{o=new B0.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:i,zoom:a});const p="/boston-cambridge-zip-codes.geojson",c=await b0("/lat_long_address.csv");o.on("load",async function(){o.addSource("zip-codes",{type:"geojson",data:p}),o.addLayer({id:"polygons",type:"fill",source:"zip-codes",paint:{"fill-color":["case",["boolean",["feature-state","clicked"],!1],"#949494","#d3d3d3"],"fill-opacity":.8,"fill-outline-color":"#000000"}});const h={type:"FeatureCollection",features:c.map(m=>({type:"Feature",properties:{zipcode:m["ZIPCODE post (group)"]},geometry:{type:"Point",coordinates:[parseFloat(m.Longitude),parseFloat(m.Latitude)]}}))};o.addSource("locations",{type:"geojson",data:h}),o.addLayer({id:"points",type:"circle",source:"locations",paint:{"circle-radius":6,"circle-color":"#000000","circle-opacity":.4},filter:["==",["get","zipcode"],""]}),o.on("click","polygons",m=>{let U=m.features[0],C=U.id;P(e)!==null&&P(e)!==C&&o.setFeatureState({source:"zip-codes",id:P(e)},{clicked:!1}),o.setFeatureState({source:"zip-codes",id:C},{clicked:!0}),R(e,C),n("0"+P(e).toString()),o.setFilter("points",["==",["get","zipcode"],n()]);const g=new B0.LngLatBounds;U.geometry.coordinates[0].forEach(L=>{g.extend(L)}),o.fitBounds(g,{padding:20})})})});function u(){o.setCenter(i),o.setZoom(a),P(e)!==null&&o.setFeatureState({source:"zip-codes",id:P(e)},{clicked:!1}),o.setFilter("points",["==",["get","zipcode"],""]),R(e,null),n(null)}r0();var l=q(t,!0,$e),s=N(l),d=w(w(s,!0)),f=w(w(d,!0));tt("click",d,u,!1),Ft(f,()=>P(e)===null,p=>{},p=>{var c=q(p,!0,qe),h=N(c);sr(h,()=>`You selected ${s0("0"+P(e))}! Click Reset Map to choose a new zip code.`),j(p,c)}),j(t,l),o0()}var Be=z('<p class="test svelte-aubppz">Section 1: How Old are Condos that are Most Likely to be Converted?</p>'),Ye=z('<div class="scrolly-container svelte-aubppz"><!></div>'),Ve=z('<p class="test svelte-aubppz">Section 2: What Types of Buildings are Most Likely to be Converted?</p>'),We=z('<div class="scrolly-container svelte-aubppz"><!></div>'),He=z("<h1>Condo Complaints</h1> <blockquote>For Cambridge, we did not have data on condominium complaints.</blockquote>",!0),Qe=z('<p class="test svelte-aubppz">Section 3: How do Complaints about Condominiums vary over Time?</p>'),Ge=z('<div class="scrolly-container svelte-aubppz"><!></div>'),Xe=z('<p class="test svelte-aubppz">Section 4: What Types of Complaints are Most Common?</p>'),Je=z('<div class="scrolly-container svelte-aubppz"><!></div>'),Ke=z("<!> <!>",!0),tn=z('<blockquote>Through our interactive visualization, we invite you to explore the impact of condo conversions on your community.<br> <newline></newline> On the map, click a Boston or Cambridge zip code to see the locations of condo conversions (starting from 2015) in the region:</blockquote> <div class="parent-container svelte-aubppz"><!> <!> <!></div> <!>',!0);function ln(t,r){e0(r,!1);const o={};fr(o);const e=()=>dr(n,"$zipcode",o);let n=yr("");const i=["02140","02139","02142","02141","02138"];r0();var a=f0(t,!0,tn);pr(c=>{lr.title="Condo Conversions in Greater Boston "});var u=w0(a),l=w(w(u,!0)),s=N(l),d=w(w(s,!0)),f=w(w(d,!0)),p=w(w(l,!0));Fe(s,{get zipcode(){return e()},set zipcode(c){cr(n,c)}}),O0(d,{children:(c,h)=>{var m=q(c,!0,Be);j(c,m)},$$slots:{viz:(c,h)=>{var m=q(c,!0,Ye),U=N(m);xe(U,{get query(){return e()}}),j(c,m)}}}),O0(f,{children:(c,h)=>{var m=q(c,!0,Ve);j(c,m)},$$slots:{viz:(c,h)=>{var m=q(c,!0,We),U=N(m);je(U,{get query(){return e()}}),j(c,m)}}}),Ft(p,()=>e()!==""&&i.indexOf(e())!==-1,c=>{var h=f0(c,!0,He);l0(c,h)},c=>{var h=f0(c,!0,Ke),m=w0(h),U=w(w(m,!0));O0(m,{children:(C,g)=>{var L=q(C,!0,Qe);j(C,L)},$$slots:{viz:(C,g)=>{var L=q(C,!0,Ge),v=N(L);Re(v,{get query(){return e()}}),j(C,L)}}}),O0(U,{children:(C,g)=>{var L=q(C,!0,Xe);j(C,L)},$$slots:{viz:(C,g)=>{var L=q(C,!0,Je),v=N(L);Me(v,{get query(){return e()}}),j(C,L)}}}),l0(c,h)}),l0(t,a),o0()}export{ln as component};
